{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"\u5173\u4e8e\u672c\u7ad9 \u672c\u7ad9\u662f \u609f\u5c18\u7eaa \u7684\u5b50\u7ad9\u70b9\uff0c\u7528\u4e8e\u65b9\u4fbf\u6d4f\u89c8\u535a\u6587\u4e2d\u7684\u7cfb\u5217\u6587\u7ae0\u3002 \u57fa\u4e8e MkDocs \u7684 Material \u4e3b\u9898\u642d\u5efa\uff0c\u901a\u8fc7\u5de6\u4fa7\u7684\u76ee\u5f55\u6811\u53ef\u4ee5\u65b9\u4fbf\u7684\u6d4f\u89c8\u7cfb\u5217\u6587\u7ae0\uff0c\u754c\u9762\u98ce\u683c\u53c2\u8003 GitBook \u8fdb\u884c\u4e86\u5fae\u8c03\u3002","title":"\u5173\u4e8e\u672c\u7ad9"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html","text":"\u4e00\u3001Docker \u5e38\u7528\u547d\u4ee4\u793a\u610f\u56fe \u00b6 Docker \u63d0\u4f9b\u4e86\u975e\u5e38\u4e30\u5bcc\u7684\u547d\u4ee4\u3002\u6240\u8c13\u4e00\u56fe\u80dc\u5343\u8a00\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u7684\u56fe\u7247\u4e86\u89e3\u5230\u5f88\u591a\u4fe1\u606f\u548c\u5b83\u4eec\u4e4b\u524d\u7684\u7528\u9014\u3002 \u4e8c\u3001\u5e38\u7528 Docker \u547d\u4ee4\u5217\u8868\uff1a \u00b6 docker help \u68c0\u67e5\u6700\u65b0 Docker \u53ef\u7528\u547d\u4ee4\uff1b docker attach \u5c06\u672c\u5730\u8f93\u5165\u3001\u8f93\u51fa\u3001\u9519\u8bef\u6d41\u9644\u52a0\u5230\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff1b docker commit \u4ece\u5f53\u524d\u66f4\u6539\u7684\u5bb9\u5668\u72b6\u6001\u521b\u5efa\u65b0\u955c\u50cf\uff1b docker exec \u5728\u6d3b\u52a8\u6216\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u8fd0\u884c\u547d\u4ee4\uff1b docker history \u663e\u793a\u955c\u50cf\u5386\u53f2\u8bb0\u5f55\uff1b docker info \u663e\u793a\u7cfb\u7edf\u8303\u56f4\u4fe1\u606f\uff1b docker inspect \u67e5\u627e\u6709\u5173 docker \u5bb9\u5668\u548c\u955c\u50cf\u7684\u7cfb\u7edf\u7ea7\u4fe1\u606f\uff1b docker login \u767b\u5f55\u5230\u672c\u5730\u6ce8\u518c\u8868\u6216 Docker Hub\uff1b docker pull \u4ece\u672c\u5730\u6ce8\u518c\u8868\u6216 Docker Hub \u4e2d\u63d0\u53d6\u955c\u50cf\u6216\u5b58\u50a8\u5e93\uff1b docker ps \u5217\u51fa\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff1b docker restart \u505c\u6b62\u5e76\u542f\u52a8\u5bb9\u5668\uff1b docker rm \u79fb\u9664\u5bb9\u5668\uff1b docker rmi \u5220\u9664\u955c\u50cf\uff1b docker run \u5728\u9694\u79bb\u5bb9\u5668\u4e2d\u8fd0\u884c\u547d\u4ee4\uff1b docker search \u5728 Docker Hub \u4e2d\u641c\u7d22\u955c\u50cf\uff1b docker start \u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668\uff1b docker stop \u505c\u6b62\u8fd0\u884c\u5bb9\u5668\uff1b docker version \u63d0\u4f9b docker \u7248\u672c\u4fe1\u606f\u3002 \u4e09\u3001\u5e38\u7528\u547d\u4ee4\u793a\u4f8b\u793a\u4f8b \u00b6 \u67e5\u770b Docker \u7248\u672c\u548c\u7cfb\u7edf\u4fe1\u606f \u00b6 \u65e0\u8bba\u662f\u5728\u672c\u5730\u8fd8\u662f\u4e91\u7aef\uff0c\u6211\u4eec\u90fd\u9700\u8981\u68c0\u67e5 Docker \u7248\u672c\u548c\u7cfb\u7edf\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u627e\u5230 Docker \u7248\u672c\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 docker version Client: Version: 18 .03.0-ce API version: 1 .37 Go version: go1.9.4 Git commit: 0520e24 Built: Wed Mar 21 23 :06:22 2018 OS/Arch: darwin/amd64 Experimental: false Orchestrator: swarm Server: Engine: Version: 18 .03.0-ce API version: 1 .37 ( minimum version 1 .12 ) Go version: go1.9.4 Git commit: 0520e24 Built: Wed Mar 21 23 :14:32 2018 OS/Arch: linux/amd64 Experimental: true \u53e6\u4e00\u4e2a\u91cd\u8981\u547d\u4ee4\u662f docker info\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker info Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 0 Server Version: 18 .03.0-ce Storage Driver: overlay2 Backing Filesystem: extfs Supports d_type: true Native Overlay Diff: true Logging Driver: json-file Cgroup Driver: cgroupfs Plugins: Volume: local Network: bridge host ipvlan macvlan null overlay Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog \u2026 \u8be5\u547d\u4ee4\u5c06\u663e\u793a\u90e8\u5206\u8bbe\u5907\u4fe1\u606f\uff0c\u6bd4\u5982\u670d\u52a1\u5668\u7248\u672c\u3001\u5b58\u50a8\u9a71\u52a8\u7a0b\u5e8f\u3001\u5185\u6838\u7248\u672c\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u603b\u5185\u5b58\u7b49\u3002\u5f53\u5c1d\u8bd5\u4e3a\u5f53\u524d Docker \u5b89\u88c5\u542f\u52a8\u65b0\u8d44\u6e90\u6216\u5c1d\u8bd5\u627e\u51fa\u7cfb\u7edf\u7ea7\u8d44\u6e90\u5206\u914d\u95ee\u9898\u65f6\uff0c\u8fd9\u4e9b\u4fe1\u606f\u975e\u5e38\u6709\u7528\uff0c\u8fd9\u4e5f\u662f\u68c0\u67e5\u8fd0\u884c\u3001\u505c\u6b62\u5bb9\u5668\u6570\u91cf\u53ca\u4e0b\u8f7d\u955c\u50cf\u6570\u91cf\u7684\u5feb\u901f\u65b9\u6cd5\u3002 \u641c\u7d22\u4e0b\u8f7d Docker \u955c\u50cf \u00b6 \u53ef\u4ee5\u4f7f\u7528 docker search \u547d\u4ee4\u5728 Docker Hub \u641c\u7d22\u5df2\u6709\u955c\u50cf\uff1a 1 2 3 4 5 6 7 8 9 docker search ubuntu NAME DESCRIPTION STARS OFFICIAL AUTOMATED ubuntu Ubuntu is a Debian-based Linux operating sys\u2026 7861 [ OK ] dorowu/ubuntu-desktop-lxde-vnc Ubuntu with openssh-server and NoVNC 190 [ OK ] rastasheep/ubuntu-sshd Dockerized SSH service, built on top of offi\u2026 156 [ OK ] ansible/ubuntu14.04-ansible Ubuntu 14 .04 LTS with ansible 93 [ OK ] ubuntu-upstart Upstart is an event-based replacement for th\u2026 87 [ OK ] neurodebian NeuroDebian provides neuroscience research s\u2026 50 [ OK ] \u2026 \u4ee5\u4e0a\u5bf9 ubuntu \u7684\u641c\u7d22\u663e\u793a\u53ef\u7528\u955c\u50cf\u3001\u63cf\u8ff0\u548c\u5b98\u65b9\u72b6\u6001\u7b49\u4fe1\u606f\u3002\u5982\u679c\u8981\u4e0b\u8f7d ubuntu \u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528 docker pull \u547d\u4ee4\uff1a 1 2 3 4 5 6 7 8 9 10 11 docker pull ubuntu Using default tag: latest latest: Pulling from library/ubuntu 6b98dfc16071: Pull complete 4001a1209541: Pull complete 6319fc68c576: Pull complete b24603670dc3: Pull complete 97f170c87c6f: Pull complete Digest: sha256:5f4bdc3467537cbbe563e80db2c3ec95d548a9145d64453b06939c4592d67b6d Status: Downloaded newer image for ubuntu:latest $ Docker \u955c\u50cf \u00b6 \u4f7f\u7528 docker info \u547d\u4ee4\u67e5\u627e\u62e5\u6709\u955c\u50cf\u6570\u91cf\uff1a 1 2 3 4 5 6 7 docker info Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 1 \u2026 docker images \u547d\u4ee4\u53ef\u8be6\u7ec6\u5217\u51fa\u62e5\u6709\u955c\u50cf\uff1a 1 2 3 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu latest 113a43faa138 2 weeks ago 81 .2MB \u5047\u8bbe\u4e0b\u8f7d NGINX \u955c\u50cf\uff0c\u53ef\u4ee5\u8fd0\u884c docker pull \u547d\u4ee4\uff1a 1 docker pull nginx \u5982\u679c\u68c0\u67e5 Docker \u955c\u50cf\uff0c\u4f1a\u770b\u5230\u5982\u4e0b\u5185\u5bb9\uff1a 1 2 3 4 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u5982\u679c\u5bfb\u627e Ubuntu 16.04 \u7248\u672c\uff0c\u53ef\u4f7f\u7528 16.04 \u6807\u7b7e\u4e0b\u8f7d\u7279\u5b9a\u7248\u672c\uff1a 1 docker pull ubuntu:16.04 \u968f\u540e\uff0c\u5c06\u51fa\u73b0\u4e24\u4e2a Ubuntu \u6620\u50cf\u7248\u672c\uff1a 1 2 3 4 5 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u6ce8\u610f\uff1a\u65e0\u9700\u6ce8\u518c Docker Hub \u5373\u53ef\u63d0\u53d6\u955c\u50cf\u3002\u5982\u679c\u60f3\u5c06\u955c\u50cf\u63a8\u9001\u5230 Docker Hub\uff0c\u9700\u8981\u6ce8\u518c\u7136\u540e\u4f7f\u7528 docker login \u547d\u4ee4\u767b\u5f55\uff1a 1 docker login --username = yourhubusername --email = youremail@company.com \u8fd0\u884c Docker \u5bb9\u5668 \u00b6 \u5047\u8bbe\u60f3\u5728 docker \u4e0a\u8fd0\u884c NGINX \u670d\u52a1\u5668\uff0c\u53ef\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a 1 docker run -p 8080 :80 nginx \u5982\u679c\u5df2\u7528 run \u547d\u4ee4\u4ece Docker Hub \u63d0\u53d6 nginx \u6620\u50cf\u521b\u5efa NGINX \u5bb9\u5668\u3002 -p 8080:80 \u4f1a\u544a\u8bc9 Docker \u5c06 localhost \u7aef\u53e3 8080 \u6620\u5c04\u5230 Docker \u5bb9\u5668\u7aef\u53e3 80\uff0c\u5e94\u8be5\u80fd\u591f\u4ece http://localhost:8080 \u8bbf\u95ee NGINX \u670d\u52a1\u5668\u3002 NGINX \u5bb9\u5668\u5df2\u9644\u52a0\u5230\u547d\u4ee4\u884c\u3002\u5982\u679c\u9000\u51fa\u547d\u4ee4\u884c\uff0c\u5bb9\u5668\u5c06\u4f1a\u505c\u6b62\uff0c\u53ef\u4f7f\u7528 detach\uff08\u2019- d\uff09\u542f\u52a8 NGINX \u5bb9\u5668\uff0c\u8fd9\u6837\u5373\u4f7f\u9000\u51fa\u547d\u4ee4\u884c\u4e5f\u53ef\u7ee7\u7eed\u8fd0\u884c\u3002 1 docker run -p 8080 :80 -d nginx \u4ee5\u4e0a\u547d\u4ee4\u5c06\u4ee5\u5206\u79bb\u6a21\u5f0f\u542f\u52a8\u5bb9\u5668\u5e76\u8fd4\u56de\u547d\u4ee4\u884c\u3002 docker run \u547d\u4ee4\u683c\u5f0f\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 Usage: docker run [ OPTIONS ] IMAGE [ COMMAND ] [ ARG... ] -a, --attach =[] #\u767b\u5f55\u5bb9\u5668\uff08\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668\uff09 -c, --cpu-shares = 0 #\u8bbe\u7f6e\u5bb9\u5668CPU\u6743\u91cd\uff0c\u5728CPU\u5171\u4eab\u573a\u666f\u4f7f\u7528 --cap-add =[] #\u6dfb\u52a0\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cap-drop =[] #\u5220\u9664\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cidfile = \"\" #\u8fd0\u884c\u5bb9\u5668\u540e\uff0c\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u5199\u5165\u5bb9\u5668PID\u503c\uff0c\u4e00\u79cd\u5178\u578b\u7684\u76d1\u63a7\u7cfb\u7edf\u7528\u6cd5 --cpuset = \"\" #\u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9bCPU\uff0c\u6b64\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u5bb9\u5668\u72ec\u5360CPU -d, --detach = false #\u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u4e8e\u524d\u53f0\u8fd8\u662f\u540e\u53f0 --device =[] #\u6dfb\u52a0\u4e3b\u673a\u8bbe\u5907\u7ed9\u5bb9\u5668\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u76f4\u901a --dns =[] #\u6307\u5b9a\u5bb9\u5668\u7684dns\u670d\u52a1\u5668 --dns-search =[] #\u6307\u5b9a\u5bb9\u5668\u7684dns\u641c\u7d22\u57df\u540d\uff0c\u5199\u5165\u5230\u5bb9\u5668\u7684/etc/resolv.conf\u6587\u4ef6 -e, --env =[] #\u6307\u5b9a\u73af\u5883\u53d8\u91cf\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8be5\u73af\u5883\u53d8\u91cf --entrypoint = \"\" #\u8986\u76d6image\u7684\u5165\u53e3\u70b9 --env-file =[] #\u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3a\u6bcf\u884c\u4e00\u4e2a\u73af\u5883\u53d8\u91cf --expose =[] #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5373\u4fee\u6539\u955c\u50cf\u7684\u66b4\u9732\u7aef\u53e3 -h, --hostname = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u4e3b\u673a\u540d -i, --interactive = false #\u6253\u5f00STDIN\uff0c\u7528\u4e8e\u63a7\u5236\u53f0\u4ea4\u4e92 --link =[] #\u6307\u5b9a\u5bb9\u5668\u95f4\u7684\u5173\u8054\uff0c\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684IP\u3001env\u7b49\u4fe1\u606f --lxc-conf =[] #\u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u6709\u5728\u6307\u5b9a--exec-driver=lxc\u65f6\u4f7f\u7528 -m, --memory = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u5185\u5b58\u4e0a\u9650 --name = \"\" #\u6307\u5b9a\u5bb9\u5668\u540d\u5b57\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u540d\u5b57\u8fdb\u884c\u5bb9\u5668\u7ba1\u7406\uff0clinks\u7279\u6027\u9700\u8981\u4f7f\u7528\u540d\u5b57 --net = \"bridge\" #\u5bb9\u5668\u7f51\u7edc\u8bbe\u7f6e\uff0c\u5f85\u8be6\u8ff0 -P, --publish-all = false #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5f85\u8be6\u8ff0 -p, --publish =[] #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5f85\u8be6\u8ff0 --privileged = false #\u6307\u5b9a\u5bb9\u5668\u662f\u5426\u4e3a\u7279\u6743\u5bb9\u5668\uff0c\u7279\u6743\u5bb9\u5668\u62e5\u6709\u6240\u6709\u7684capabilities --restart = \"\" #\u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u7684\u91cd\u542f\u7b56\u7565\uff0c\u5f85\u8be6\u8ff0 --rm = false #\u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668(\u4e0d\u652f\u6301\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668) --sig-proxy = true #\u8bbe\u7f6e\u7531\u4ee3\u7406\u63a5\u53d7\u5e76\u5904\u7406\u4fe1\u53f7\uff0c\u4f46\u662fSIGCHLD\u3001SIGSTOP\u548cSIGKILL\u4e0d\u80fd\u88ab\u4ee3\u7406 -t, --tty = false #\u5206\u914dtty\u8bbe\u5907\uff0c\u8be5\u53ef\u4ee5\u652f\u6301\u7ec8\u7aef\u767b\u5f55 -u, --user = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u7528\u6237 -v, --volume =[] #\u7ed9\u5bb9\u5668\u6302\u8f7d\u5b58\u50a8\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --volumes-from =[] #\u7ed9\u5bb9\u5668\u6302\u8f7d\u5176\u4ed6\u5bb9\u5668\u4e0a\u7684\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 -w, --workdir = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55 \u5217\u51fa Docker \u5bb9\u5668 \u00b6 docker ps \u547d\u4ee4\u5141\u8bb8\u67e5\u627e\u6b63\u5728\u8fd0\u884c\u7684\u6240\u6709\u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 7 minutes ago Up 7 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u4e0a\u663e\u793a\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u662f\u4ece nginx \u955c\u50cf\u521b\u5efa\u5e76\u663e\u793a\u7aef\u53e3\u8f6c\u53d1\u4fe1\u606f\u3002CONTAINER ID \u548c NAMES \u5c5e\u6027\u9700\u8981\u7279\u522b\u63d0\u53ca\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0\u4e24\u5927\u5c5e\u6027\u552f\u4e00\u6807\u8bc6\u5bb9\u5668\u3002\u4e8c\u8005\u90fd\u53ef\u81ea\u52a8\u751f\u6210\uff0c\u4f46\u4e5f\u53ef\u5728\u5bb9\u5668\u521b\u5efa\u8fc7\u7a0b\u4e2d\u4e3a\u5bb9\u5668\u547d\u540d\u3002 \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a my_nginx \u7684 NGINX \u5bb9\u5668\uff1a 1 docker run --name my_nginx -p 8888 :80 -d nginx \u518d\u6b21\u5217\u51fa\u6240\u6709 Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" About a minute ago Up About a minute 0 .0.0.0:8888->80/tcp my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 15 minutes ago Up 16 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u8bf7\u6ce8\u610f\uff0c\u65b0\u5bb9\u5668\u7684\u540d\u79f0\u4e3a\u201cmy_nginx\u201d\u3002 \u5904\u7406\u5927\u91cf\u5bb9\u5668\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u540d\u7ea6\u5b9a\uff0c\u8fd9\u53ef\u4ee5\u66f4\u597d\u5f97\u7ec4\u7ec7\u5bb9\u5668\u3002 docker ps \u547d\u4ee4\u4ec5\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002\u5982\u679c\u5bf9\u4e0a\u8ff0\u60c5\u51b5\u4f7f\u7528 docker info \u547d\u4ee4\uff1a 1 2 3 4 5 6 docker info Containers: 2 Running: 2 Paused: 0 Stopped: 0 Images: 3 \u53ef\u4ee5\u770b\u5230\u6709\u4e24\u4e2a\u5bb9\u5668\u6b63\u5728\u8fd0\u884c\uff0c\u5982\u679c\u4e00\u4e2a\u6682\u505c\u6216\u5df2\u505c\u6b62\uff0c\u5219\u4e0d\u4f1a\u4ec5\u4f7f\u7528 docker ps \u547d\u4ee4\u67e5\u770b\u8fd9\u4e9b\u5bb9\u5668\uff0c\u5fc5\u987b\u4f7f\u7528 all\uff08 - a\uff09\u9009\u9879\uff1a 1 docker ps -a \u542f\u52a8\uff0c\u505c\u6b62\uff0c\u91cd\u542f\u548c\u6740\u6b7b\u5bb9\u5668 \u00b6 \u5047\u8bbe\u8981\u505c\u6b62\u2019my_nginx\u2019\u5bb9\u5668\uff0c\u53ef\u4f7f\u7528 CONTAINER ID \u6216 NAME\u3002 1 2 docker stop my_nginx my_nginx \u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 5 6 7 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 27 minutes ago Up 27 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 12 minutes ago Exited ( 0 ) About a minute ago my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 27 minutes ago Up 27 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u679c\u5728\u6ca1\u6709 -a \u9009\u9879\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c docker ps\uff0c\u53ea\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002\u5728\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u770b\u5230\u2019my_nginx\u2019\u5bb9\u5668\u5904\u4e8e\u9000\u51fa\u72b6\u6001\u3002 \u8ba9\u6211\u4eec docker start \u5bb9\u5668\uff1a 1 2 docker start my_nginx my_nginx \u68c0\u67e5 Docker \u5bb9\u5668\u5217\u8868\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 16 minutes ago Up 29 seconds 0 .0.0.0:8888->80/tcp my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 30 minutes ago Up 30 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u53ef\u4ee5\u770b\u5230 STATUS \u663e\u793a\u5bb9\u5668\u2019my_nginx\u2019\u518d\u6b21\u88ab\u542f\u52a8\u3002 \u5982\u679c\u7531\u4e8e\u67d0\u4e9b\u95ee\u9898\u800c\u9700\u91cd\u542f\u5bb9\u5668\uff0c\u5219\u53ef\u4f7f\u7528 restart \u547d\u4ee4\uff0c\u8fd9\u6bd4\u5355\u72ec\u505c\u6b62\u548c\u542f\u52a8\u5bb9\u5668\u901f\u5ea6\u66f4\u5feb\uff1a 1 docker restart my_nginx \u53ef\u4ee5\u50cf\u8fdb\u7a0b\u4e00\u6837\u7ec8\u6b62 docker \u5bb9\u5668\uff0c\u6bd4\u5982\u7ec8\u6b62 my_nginx \u5bb9\u5668\uff1a 1 docker kill my_nginx \u518d\u6b21\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 22 minutes ago Exited ( 137 ) 7 seconds ago my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 36 minutes ago Up 36 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5bb9\u5668 my_nginx \u672a\u8fd0\u884c\u3002\u6b64\u5916\uff0c\u53ef\u5728\u4fe1\u606f\u4e2d\u770b\u5230\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u548c\u4e00\u4e2a\u5df2\u505c\u6b62\u5bb9\u5668\uff1a 1 2 3 4 5 6 7 docker info Containers: 2 Running: 1 Paused: 0 Stopped: 1 Images: 3 \u2026 Docker Exec Bash \u548c Docker SSH \u00b6 \u5982\u679c\u9700\u8981\u4e0e shell \u8fdb\u884c\u4ea4\u4e92\u4ee5\u521b\u5efa\u670d\u52a1\u6216\u89e3\u51b3\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 docker exec \u547d\u4ee4\u521b\u5efa\u4ea4\u4e92\u5f0f shell\u3002\u6bd4\u5982\uff0c\u7528 bash shell \u4ece ubuntu \u6620\u50cf\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\uff1a 1 2 docker run --name my_ubuntu -it ubuntu:latest bash root@a19c770b8621:/# root @haracle\uff03\u8868\u793a\u4f4d\u4e8e Docker \u5bb9\u5668\u7684 bash shell \u4e2d\uff0c\u53ef\u4ee5\u8fd0\u884c shell \u547d\u4ee4\uff1a 1 2 3 4 root@a19c770b8621:/# ls bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var root@a19c770b8621:/# pwd / \u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a19c770b8621 ubuntu:latest \"bash\" About a minute ago Up About a minute my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" About an hour ago Up About an hour 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u4e0a\uff0cmy_ubuntu \u6b63\u5728\u8fd0\u884c\u3002\u5047\u8bbe\u60f3\u5c06 Docker ssh \u653e\u5165\u2019my_ubuntu\u2019\u5bb9\u5668\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 docker exec bash\uff1a 1 2 docker exec -it my_ubuntu bash root@a19c770b8621:/# \u4f7f\u7528 docker exec \u5411\u5bb9\u5668\u53d1\u51fa\u547d\u4ee4\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u547d\u4ee4\u63d0\u793a\u7b26\u5728 my_ubuntu \u5bb9\u5668\u4e0a\u8fd0\u884c ls \u547d\u4ee4\uff1a 1 2 3 docker exec -it my_ubuntu ls bin dev home lib64 mnt proc run srv tmp var boot etc lib media opt root sbin sys usr \u4ee5\u5206\u79bb\u6a21\u5f0f\u542f\u52a8\u5bb9\u5668\u5e76 attach \u00b6 \u4ee5\u4e0a\u793a\u4f8b\u7528\u9644\u52a0\u6a21\u5f0f\u542f\u52a8 ubuntu \u5bb9\u5668\uff0c\u6211\u4eec\u4e5f\u53ef\u5728\u5206\u79bb\u6a21\u5f0f\u4e0b\u542f\u52a8\uff1a 1 2 docker run -it -d --name my_ubuntu_2 ubuntu:latest bash 75b28b7208359137b3e1dc2843387918e28b4c6c4860ef0cdeac79c205f5cbc4 \u9a8c\u8bc1\u5bb9\u5668\u662f\u5426\u6b63\u5728\u8fd0\u884c\uff1a 1 2 3 4 5 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 75b28b720835 ubuntu:latest \"bash\" 3 minutes ago Up 3 minutes my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 15 minutes ago Up 15 minutes my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 2 hours ago Up 2 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds \u4f7f\u7528 docker attach \u547d\u4ee4\u83b7\u53d6 docker exec bash-like \u6548\u679c\uff1a 1 2 docker attach my_ubuntu_2 root@75b28b720835:/# \u68c0\u67e5 Docker \u955c\u50cf\u5386\u53f2 \u00b6 Docker \u793e\u533a\u955c\u50cf\u662f\u5206\u5c42\u521b\u5efa\u7684\uff0c\u53ef\u4f7f\u7528 Docker history \u547d\u4ee4\u67e5\u770b\u955c\u50cf\u521b\u5efa\u65b9\u5f0f\u3002\u5148\u770b\u770b\u6709\u54ea\u4e9b\u955c\u50cf\uff1a 1 2 3 4 5 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u67e5\u770b nginx \u955c\u50cf\u5386\u53f2\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 docker history nginx IMAGE CREATED CREATED BY SIZE COMMENT cd5239a0906a 2 weeks ago /bin/sh -c #(nop) CMD [\"nginx\" \"-g\" \"daemon\u2026 0B <missing> 2 weeks ago /bin/sh -c #(nop) STOPSIGNAL [SIGTERM] 0B <missing> 2 weeks ago /bin/sh -c #(nop) EXPOSE 80/tcp 0B <missing> 2 weeks ago /bin/sh -c ln -sf /dev/stdout /var/log/nginx\u2026 22B <missing> 2 weeks ago /bin/sh -c set -x && apt-get update && apt\u2026 53 .7MB <missing> 2 weeks ago /bin/sh -c #(nop) ENV NJS_VERSION=1.15.0.0.\u2026 0B <missing> 2 weeks ago /bin/sh -c #(nop) ENV NGINX_VERSION=1.15.0-\u2026 0B <missing> 7 weeks ago /bin/sh -c #(nop) LABEL maintainer=NGINX Do\u2026 0B <missing> 8 weeks ago /bin/sh -c #(nop) CMD [\"bash\"] 0B <missing> 8 weeks ago /bin/sh -c #(nop) ADD file:ec5be7eec56a74975\u2026 55.3MB \u4f7f\u7528\u955c\u50cf\u5386\u53f2\u547d\u4ee4\u67e5\u627e\u6700\u8fd1\u66f4\u6539\uff0c\u5982\u679c\u5728\u65b0\u7248\u672c\u955c\u50cf\u4e2d\u53d1\u73b0\u95ee\u9898\uff0c\u5219\u6b64\u547d\u4ee4\u53ef\u5e2e\u52a9\u627e\u5230\u539f\u56e0\uff0c\u4e5f\u53ef\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a 1 docker image history nginx Docker \u68c0\u67e5\u5bb9\u5668 \u00b6 \u53ef\u4ee5\u4f7f\u7528 docker inspect \u547d\u4ee4\u67e5\u627e\u6709\u5173\u7cfb\u7edf\u7684\u4fe1\u606f\uff0c\u8fd0\u884c docker ps \u547d\u4ee4\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 2 hours ago Up 2 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds \u4f7f\u7528 CONTAINER ID \u68c0\u67e5\u5bb9\u5668\uff08\u4e5f\u53ef\u4f7f\u7528\u5bb9\u5668\u540d\u79f0\uff09\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker inspect 6162daed25da [ { \"Id\" : \"6162daed25da50b98afca5f7ed8caca2289bf309b2547d87ae8674b899d604a4\" , \"Created\" : \"2018-06-25T05:46:37.902211302Z\" , \"Path\" : \"nginx\" , \"Args\" : [ \u2026 \u2026 \u2026 \"DriverOpts\" : null } } } } ] \u8be5\u547d\u4ee4\u5c06\u4ee5 JSON \u683c\u5f0f\u63d0\u4f9b\u5927\u91cf\u4fe1\u606f\uff0c\u4ee5\u4e0b\u662f\u67e5\u627e\u5bb9\u5668 IP \u5730\u5740\u7684\u6280\u5de7\uff1a 1 2 3 4 docker inspect 6162daed25da | grep \"IPAddress\" \"SecondaryIPAddresses\" : null, \"IPAddress\" : \"172.17.0.2\" , \"IPAddress\" : \"172.17.0.2\" , \u5bb9\u5668\u4e0e\u4e3b\u673a\u95f4\u6587\u4ef6\u590d\u5236 \u00b6 \u518d\u6b21\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Up 3 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds NGINX \u5bb9\u5668\u5728\u7aef\u53e3 8080 \u4e0a\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u8f6c\u5230 http//localhost:8080\uff0c\u5c06\u770b\u5230\u4ee5\u4e0b\u5185\u5bb9\uff1a 1 \"Welcome to nginx!\" \u5982\u679c\u770b\u5230\u6b64\u9875\u9762\uff0c\u5219 nginx Web \u670d\u52a1\u5668\u5df2\u6210\u529f\u5b89\u88c5\u5e76\u6b63\u5e38\u8fd0\u884c\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u5728\u672c\u5730\u76ee\u5f55\u4e2d\u521b\u5efa index.html\uff1a 1 2 3 4 5 6 < html > < header >< title > My Website </ title ></ header > < body > Hello world </ body > </ html > \u4f7f\u7528\u5e26\u6709 ls \u7684 docker exec \u547d\u4ee4\u68c0\u67e5 NGINX \u5bb9\u5668\u4e2d\u5177\u6709 index.html \u7684\u6587\u4ef6\u5939\uff1a 1 2 docker exec -it hardcore_torvalds ls /usr/share/nginx/html 50x.html index.html \u4f7f\u7528\u521b\u5efa\u7684\u672c\u5730\u6587\u4ef6\u8986\u76d6\u5bb9\u5668 index.html \u6587\u4ef6\uff1a 1 docker cp index.html hardcore_torvalds:usr/share/nginx/html/ \u5982\u679c\u518d\u6b21\u68c0\u67e5 http://localhost: 8080\uff0c\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u95ee\u5019\u8bed\u201cHello world\u201d\u3002 \u53ef\u4f7f\u7528 docker cp \u547d\u4ee4\u5728\u672c\u5730\u8ba1\u7b97\u673a\u548c\u521b\u5efa\u5bb9\u5668\u95f4\u79fb\u52a8\u6587\u4ef6\uff0c\u6b64\u65b9\u6cd5\u53ef\u7528\u4e8e\u8986\u76d6\u914d\u7f6e\u6587\u4ef6\u3002 \u521b\u5efa Docker \u955c\u50cf \u00b6 \u5982\u679c\u60f3\u590d\u5236\u66f4\u591a\u201cHello World\u201d\u5bb9\u5668\uff0c\u5fc5\u987b\u5c06\u5f53\u524d\u5bb9\u5668\u4fdd\u5b58\u4e3a\u955c\u50cf\u3002 \u9996\u5148\uff0c\u505c\u6b62\u5bb9\u5668\uff1a 1 docker stop hardcore_torvalds \u5217\u51fa\u6240\u6709 Docker \u5bb9\u5668\uff1a 1 2 3 4 5 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 75b28b720835 ubuntu:latest \"bash\" About an hour ago Exited ( 0 ) About an hour ago my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Exited ( 0 ) 27 seconds ago hardcore_torvalds \u4ece STATUS \u4e2d\uff0c\u53ef\u4ee5\u770b\u5230 NGINX\u2019corecore_torvalds\u2019\u5bb9\u5668\u5df2\u505c\u6b62\u3002\u4f7f\u7528 docker commit \u547d\u4ee4\u521b\u5efa\u65b0\u955c\u50cf\uff1a 1 2 docker commit 6162daed25da nginx_hello_world_template sha256:117d060587a316035ed5a776e613d9cfbeee9fbfe202c6edc9203820c7da987b \u5982\u679c\u73b0\u5728\u68c0\u67e5\uff0c\u5c06\u770b\u5230\u65b0\u955c\u50cf\uff1a 1 2 3 4 5 6 docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx_hello_world_template latest 117d060587a3 40 seconds ago 109MB ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u53ef\u4ee5\u4f7f\u7528\u6b64\u955c\u50cf\u5e76\u542f\u52a8\u65b0 Docker \u5bb9\u5668\uff0c\u65b0\u521b\u5efa\u5bb9\u5668\u5c06\u5177\u6709\u201cHello world\u201d\u9875\u9762\uff0c\u800c\u4e0d\u662f\u201cWelcome NGINX\u201d\u9875\u9762\u3002\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 docker run -it -d -p 8886 :80 nginx_hello_world_template 4e042d76c39125471951626ba42cd609a65c73f041943298f74f4fc43dc5596a $ \u5220\u9664 Docker \u5bb9\u5668\u548c\u955c\u50cf \u00b6 Docker \u5bb9\u5668\u548c\u955c\u50cf\u4f1a\u5360\u7528\u786c\u76d8\u7a7a\u95f4\uff0c\u56e0\u6b64\u6700\u597d\u5b9a\u671f\u6e05\u7406\u3002\u9996\u5148\u505c\u6b62\u6240\u6709\u5bb9\u5668\uff0c\u7136\u540e\u5217\u51fa\u6240\u6709\u5bb9\u5668\uff0c\u4f7f\u7528\u4ee5\u4e0b Docker \u547d\u4ee4\u6267\u884c\u64cd\u4f5c\uff1a 1 2 3 4 5 6 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4e042d76c391 nginx_hello_world_template \"nginx -g 'daemon of\u2026\" 2 minutes ago Exited ( 0 ) 8 seconds ago boring_keldysh 75b28b720835 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Exited ( 0 ) 11 minutes ago hardcore_torvalds \u5982\u4e0a\uff0c\u6709 4 \u4e2a\u5904\u4e8e\u505c\u6b62\u72b6\u6001\u7684\u5bb9\u5668\uff0c\u53ef\u4f7f\u7528 docker rm \u547d\u4ee4\u5220\u9664\u5bb9\u5668\uff1a 1 2 3 4 5 docker rm 4e042d76c391 75b28b720835 a19c770b8621 6162daed25da 4e042d76c391 75b28b720835 a19c770b8621 6162daed25da \u53ef\u4f7f\u7528 NAMES \u4ee3\u66ff CONTAINER ID\uff0c\u5bb9\u5668\u5217\u8868\u73b0\u5728\u5e94\u8be5\u662f\u5e72\u51c0\u7684\uff1a 1 2 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES \u5217\u51fa Docker \u955c\u50cf\uff1a 1 2 3 4 5 6 docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx_hello_world_template latest 117d060587a3 11 minutes ago 109MB ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u53ef\u4f7f\u7528 docker rmi \u547d\u4ee4\u548c IMAGE ID \u5220\u9664 docker \u955c\u50cf\uff1a 1 docker rmi 117d060587a3 5e8b97a2a082 113a43faa138 cd5239a0906a \u6700\u540e\uff0cDocker \u955c\u50cf\u5217\u8868\u5e94\u8be5\u662f\u5e72\u51c0\u7684\uff1a 1 2 docker images REPOSITORY TAG IMAGE ID CREATED SIZE \u56db\u3001\u53c2\u8003 \u00b6 Top Docker Commands Any Expert Should Know","title":"Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker","text":"Docker \u63d0\u4f9b\u4e86\u975e\u5e38\u4e30\u5bcc\u7684\u547d\u4ee4\u3002\u6240\u8c13\u4e00\u56fe\u80dc\u5343\u8a00\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u7684\u56fe\u7247\u4e86\u89e3\u5230\u5f88\u591a\u4fe1\u606f\u548c\u5b83\u4eec\u4e4b\u524d\u7684\u7528\u9014\u3002","title":"\u4e00\u3001Docker \u5e38\u7528\u547d\u4ee4\u793a\u610f\u56fe"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_1","text":"docker help \u68c0\u67e5\u6700\u65b0 Docker \u53ef\u7528\u547d\u4ee4\uff1b docker attach \u5c06\u672c\u5730\u8f93\u5165\u3001\u8f93\u51fa\u3001\u9519\u8bef\u6d41\u9644\u52a0\u5230\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff1b docker commit \u4ece\u5f53\u524d\u66f4\u6539\u7684\u5bb9\u5668\u72b6\u6001\u521b\u5efa\u65b0\u955c\u50cf\uff1b docker exec \u5728\u6d3b\u52a8\u6216\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u8fd0\u884c\u547d\u4ee4\uff1b docker history \u663e\u793a\u955c\u50cf\u5386\u53f2\u8bb0\u5f55\uff1b docker info \u663e\u793a\u7cfb\u7edf\u8303\u56f4\u4fe1\u606f\uff1b docker inspect \u67e5\u627e\u6709\u5173 docker \u5bb9\u5668\u548c\u955c\u50cf\u7684\u7cfb\u7edf\u7ea7\u4fe1\u606f\uff1b docker login \u767b\u5f55\u5230\u672c\u5730\u6ce8\u518c\u8868\u6216 Docker Hub\uff1b docker pull \u4ece\u672c\u5730\u6ce8\u518c\u8868\u6216 Docker Hub \u4e2d\u63d0\u53d6\u955c\u50cf\u6216\u5b58\u50a8\u5e93\uff1b docker ps \u5217\u51fa\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff1b docker restart \u505c\u6b62\u5e76\u542f\u52a8\u5bb9\u5668\uff1b docker rm \u79fb\u9664\u5bb9\u5668\uff1b docker rmi \u5220\u9664\u955c\u50cf\uff1b docker run \u5728\u9694\u79bb\u5bb9\u5668\u4e2d\u8fd0\u884c\u547d\u4ee4\uff1b docker search \u5728 Docker Hub \u4e2d\u641c\u7d22\u955c\u50cf\uff1b docker start \u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668\uff1b docker stop \u505c\u6b62\u8fd0\u884c\u5bb9\u5668\uff1b docker version \u63d0\u4f9b docker \u7248\u672c\u4fe1\u606f\u3002","title":"\u4e8c\u3001\u5e38\u7528 Docker \u547d\u4ee4\u5217\u8868\uff1a"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#_1","text":"","title":"\u4e09\u3001\u5e38\u7528\u547d\u4ee4\u793a\u4f8b\u793a\u4f8b"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_2","text":"\u65e0\u8bba\u662f\u5728\u672c\u5730\u8fd8\u662f\u4e91\u7aef\uff0c\u6211\u4eec\u90fd\u9700\u8981\u68c0\u67e5 Docker \u7248\u672c\u548c\u7cfb\u7edf\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u627e\u5230 Docker \u7248\u672c\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 docker version Client: Version: 18 .03.0-ce API version: 1 .37 Go version: go1.9.4 Git commit: 0520e24 Built: Wed Mar 21 23 :06:22 2018 OS/Arch: darwin/amd64 Experimental: false Orchestrator: swarm Server: Engine: Version: 18 .03.0-ce API version: 1 .37 ( minimum version 1 .12 ) Go version: go1.9.4 Git commit: 0520e24 Built: Wed Mar 21 23 :14:32 2018 OS/Arch: linux/amd64 Experimental: true \u53e6\u4e00\u4e2a\u91cd\u8981\u547d\u4ee4\u662f docker info\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker info Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 0 Server Version: 18 .03.0-ce Storage Driver: overlay2 Backing Filesystem: extfs Supports d_type: true Native Overlay Diff: true Logging Driver: json-file Cgroup Driver: cgroupfs Plugins: Volume: local Network: bridge host ipvlan macvlan null overlay Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog \u2026 \u8be5\u547d\u4ee4\u5c06\u663e\u793a\u90e8\u5206\u8bbe\u5907\u4fe1\u606f\uff0c\u6bd4\u5982\u670d\u52a1\u5668\u7248\u672c\u3001\u5b58\u50a8\u9a71\u52a8\u7a0b\u5e8f\u3001\u5185\u6838\u7248\u672c\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u603b\u5185\u5b58\u7b49\u3002\u5f53\u5c1d\u8bd5\u4e3a\u5f53\u524d Docker \u5b89\u88c5\u542f\u52a8\u65b0\u8d44\u6e90\u6216\u5c1d\u8bd5\u627e\u51fa\u7cfb\u7edf\u7ea7\u8d44\u6e90\u5206\u914d\u95ee\u9898\u65f6\uff0c\u8fd9\u4e9b\u4fe1\u606f\u975e\u5e38\u6709\u7528\uff0c\u8fd9\u4e5f\u662f\u68c0\u67e5\u8fd0\u884c\u3001\u505c\u6b62\u5bb9\u5668\u6570\u91cf\u53ca\u4e0b\u8f7d\u955c\u50cf\u6570\u91cf\u7684\u5feb\u901f\u65b9\u6cd5\u3002","title":"\u67e5\u770b Docker \u7248\u672c\u548c\u7cfb\u7edf\u4fe1\u606f"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_3","text":"\u53ef\u4ee5\u4f7f\u7528 docker search \u547d\u4ee4\u5728 Docker Hub \u641c\u7d22\u5df2\u6709\u955c\u50cf\uff1a 1 2 3 4 5 6 7 8 9 docker search ubuntu NAME DESCRIPTION STARS OFFICIAL AUTOMATED ubuntu Ubuntu is a Debian-based Linux operating sys\u2026 7861 [ OK ] dorowu/ubuntu-desktop-lxde-vnc Ubuntu with openssh-server and NoVNC 190 [ OK ] rastasheep/ubuntu-sshd Dockerized SSH service, built on top of offi\u2026 156 [ OK ] ansible/ubuntu14.04-ansible Ubuntu 14 .04 LTS with ansible 93 [ OK ] ubuntu-upstart Upstart is an event-based replacement for th\u2026 87 [ OK ] neurodebian NeuroDebian provides neuroscience research s\u2026 50 [ OK ] \u2026 \u4ee5\u4e0a\u5bf9 ubuntu \u7684\u641c\u7d22\u663e\u793a\u53ef\u7528\u955c\u50cf\u3001\u63cf\u8ff0\u548c\u5b98\u65b9\u72b6\u6001\u7b49\u4fe1\u606f\u3002\u5982\u679c\u8981\u4e0b\u8f7d ubuntu \u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528 docker pull \u547d\u4ee4\uff1a 1 2 3 4 5 6 7 8 9 10 11 docker pull ubuntu Using default tag: latest latest: Pulling from library/ubuntu 6b98dfc16071: Pull complete 4001a1209541: Pull complete 6319fc68c576: Pull complete b24603670dc3: Pull complete 97f170c87c6f: Pull complete Digest: sha256:5f4bdc3467537cbbe563e80db2c3ec95d548a9145d64453b06939c4592d67b6d Status: Downloaded newer image for ubuntu:latest $","title":"\u641c\u7d22\u4e0b\u8f7d Docker \u955c\u50cf"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_4","text":"\u4f7f\u7528 docker info \u547d\u4ee4\u67e5\u627e\u62e5\u6709\u955c\u50cf\u6570\u91cf\uff1a 1 2 3 4 5 6 7 docker info Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 1 \u2026 docker images \u547d\u4ee4\u53ef\u8be6\u7ec6\u5217\u51fa\u62e5\u6709\u955c\u50cf\uff1a 1 2 3 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu latest 113a43faa138 2 weeks ago 81 .2MB \u5047\u8bbe\u4e0b\u8f7d NGINX \u955c\u50cf\uff0c\u53ef\u4ee5\u8fd0\u884c docker pull \u547d\u4ee4\uff1a 1 docker pull nginx \u5982\u679c\u68c0\u67e5 Docker \u955c\u50cf\uff0c\u4f1a\u770b\u5230\u5982\u4e0b\u5185\u5bb9\uff1a 1 2 3 4 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u5982\u679c\u5bfb\u627e Ubuntu 16.04 \u7248\u672c\uff0c\u53ef\u4f7f\u7528 16.04 \u6807\u7b7e\u4e0b\u8f7d\u7279\u5b9a\u7248\u672c\uff1a 1 docker pull ubuntu:16.04 \u968f\u540e\uff0c\u5c06\u51fa\u73b0\u4e24\u4e2a Ubuntu \u6620\u50cf\u7248\u672c\uff1a 1 2 3 4 5 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u6ce8\u610f\uff1a\u65e0\u9700\u6ce8\u518c Docker Hub \u5373\u53ef\u63d0\u53d6\u955c\u50cf\u3002\u5982\u679c\u60f3\u5c06\u955c\u50cf\u63a8\u9001\u5230 Docker Hub\uff0c\u9700\u8981\u6ce8\u518c\u7136\u540e\u4f7f\u7528 docker login \u547d\u4ee4\u767b\u5f55\uff1a 1 docker login --username = yourhubusername --email = youremail@company.com","title":"Docker \u955c\u50cf"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_5","text":"\u5047\u8bbe\u60f3\u5728 docker \u4e0a\u8fd0\u884c NGINX \u670d\u52a1\u5668\uff0c\u53ef\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a 1 docker run -p 8080 :80 nginx \u5982\u679c\u5df2\u7528 run \u547d\u4ee4\u4ece Docker Hub \u63d0\u53d6 nginx \u6620\u50cf\u521b\u5efa NGINX \u5bb9\u5668\u3002 -p 8080:80 \u4f1a\u544a\u8bc9 Docker \u5c06 localhost \u7aef\u53e3 8080 \u6620\u5c04\u5230 Docker \u5bb9\u5668\u7aef\u53e3 80\uff0c\u5e94\u8be5\u80fd\u591f\u4ece http://localhost:8080 \u8bbf\u95ee NGINX \u670d\u52a1\u5668\u3002 NGINX \u5bb9\u5668\u5df2\u9644\u52a0\u5230\u547d\u4ee4\u884c\u3002\u5982\u679c\u9000\u51fa\u547d\u4ee4\u884c\uff0c\u5bb9\u5668\u5c06\u4f1a\u505c\u6b62\uff0c\u53ef\u4f7f\u7528 detach\uff08\u2019- d\uff09\u542f\u52a8 NGINX \u5bb9\u5668\uff0c\u8fd9\u6837\u5373\u4f7f\u9000\u51fa\u547d\u4ee4\u884c\u4e5f\u53ef\u7ee7\u7eed\u8fd0\u884c\u3002 1 docker run -p 8080 :80 -d nginx \u4ee5\u4e0a\u547d\u4ee4\u5c06\u4ee5\u5206\u79bb\u6a21\u5f0f\u542f\u52a8\u5bb9\u5668\u5e76\u8fd4\u56de\u547d\u4ee4\u884c\u3002 docker run \u547d\u4ee4\u683c\u5f0f\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 Usage: docker run [ OPTIONS ] IMAGE [ COMMAND ] [ ARG... ] -a, --attach =[] #\u767b\u5f55\u5bb9\u5668\uff08\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668\uff09 -c, --cpu-shares = 0 #\u8bbe\u7f6e\u5bb9\u5668CPU\u6743\u91cd\uff0c\u5728CPU\u5171\u4eab\u573a\u666f\u4f7f\u7528 --cap-add =[] #\u6dfb\u52a0\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cap-drop =[] #\u5220\u9664\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cidfile = \"\" #\u8fd0\u884c\u5bb9\u5668\u540e\uff0c\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u5199\u5165\u5bb9\u5668PID\u503c\uff0c\u4e00\u79cd\u5178\u578b\u7684\u76d1\u63a7\u7cfb\u7edf\u7528\u6cd5 --cpuset = \"\" #\u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9bCPU\uff0c\u6b64\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u5bb9\u5668\u72ec\u5360CPU -d, --detach = false #\u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u4e8e\u524d\u53f0\u8fd8\u662f\u540e\u53f0 --device =[] #\u6dfb\u52a0\u4e3b\u673a\u8bbe\u5907\u7ed9\u5bb9\u5668\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u76f4\u901a --dns =[] #\u6307\u5b9a\u5bb9\u5668\u7684dns\u670d\u52a1\u5668 --dns-search =[] #\u6307\u5b9a\u5bb9\u5668\u7684dns\u641c\u7d22\u57df\u540d\uff0c\u5199\u5165\u5230\u5bb9\u5668\u7684/etc/resolv.conf\u6587\u4ef6 -e, --env =[] #\u6307\u5b9a\u73af\u5883\u53d8\u91cf\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8be5\u73af\u5883\u53d8\u91cf --entrypoint = \"\" #\u8986\u76d6image\u7684\u5165\u53e3\u70b9 --env-file =[] #\u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3a\u6bcf\u884c\u4e00\u4e2a\u73af\u5883\u53d8\u91cf --expose =[] #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5373\u4fee\u6539\u955c\u50cf\u7684\u66b4\u9732\u7aef\u53e3 -h, --hostname = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u4e3b\u673a\u540d -i, --interactive = false #\u6253\u5f00STDIN\uff0c\u7528\u4e8e\u63a7\u5236\u53f0\u4ea4\u4e92 --link =[] #\u6307\u5b9a\u5bb9\u5668\u95f4\u7684\u5173\u8054\uff0c\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684IP\u3001env\u7b49\u4fe1\u606f --lxc-conf =[] #\u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u6709\u5728\u6307\u5b9a--exec-driver=lxc\u65f6\u4f7f\u7528 -m, --memory = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u5185\u5b58\u4e0a\u9650 --name = \"\" #\u6307\u5b9a\u5bb9\u5668\u540d\u5b57\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u540d\u5b57\u8fdb\u884c\u5bb9\u5668\u7ba1\u7406\uff0clinks\u7279\u6027\u9700\u8981\u4f7f\u7528\u540d\u5b57 --net = \"bridge\" #\u5bb9\u5668\u7f51\u7edc\u8bbe\u7f6e\uff0c\u5f85\u8be6\u8ff0 -P, --publish-all = false #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5f85\u8be6\u8ff0 -p, --publish =[] #\u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5f85\u8be6\u8ff0 --privileged = false #\u6307\u5b9a\u5bb9\u5668\u662f\u5426\u4e3a\u7279\u6743\u5bb9\u5668\uff0c\u7279\u6743\u5bb9\u5668\u62e5\u6709\u6240\u6709\u7684capabilities --restart = \"\" #\u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u7684\u91cd\u542f\u7b56\u7565\uff0c\u5f85\u8be6\u8ff0 --rm = false #\u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668(\u4e0d\u652f\u6301\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668) --sig-proxy = true #\u8bbe\u7f6e\u7531\u4ee3\u7406\u63a5\u53d7\u5e76\u5904\u7406\u4fe1\u53f7\uff0c\u4f46\u662fSIGCHLD\u3001SIGSTOP\u548cSIGKILL\u4e0d\u80fd\u88ab\u4ee3\u7406 -t, --tty = false #\u5206\u914dtty\u8bbe\u5907\uff0c\u8be5\u53ef\u4ee5\u652f\u6301\u7ec8\u7aef\u767b\u5f55 -u, --user = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u7528\u6237 -v, --volume =[] #\u7ed9\u5bb9\u5668\u6302\u8f7d\u5b58\u50a8\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --volumes-from =[] #\u7ed9\u5bb9\u5668\u6302\u8f7d\u5176\u4ed6\u5bb9\u5668\u4e0a\u7684\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 -w, --workdir = \"\" #\u6307\u5b9a\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55","title":"\u8fd0\u884c Docker \u5bb9\u5668"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_6","text":"docker ps \u547d\u4ee4\u5141\u8bb8\u67e5\u627e\u6b63\u5728\u8fd0\u884c\u7684\u6240\u6709\u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 7 minutes ago Up 7 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u4e0a\u663e\u793a\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u662f\u4ece nginx \u955c\u50cf\u521b\u5efa\u5e76\u663e\u793a\u7aef\u53e3\u8f6c\u53d1\u4fe1\u606f\u3002CONTAINER ID \u548c NAMES \u5c5e\u6027\u9700\u8981\u7279\u522b\u63d0\u53ca\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0\u4e24\u5927\u5c5e\u6027\u552f\u4e00\u6807\u8bc6\u5bb9\u5668\u3002\u4e8c\u8005\u90fd\u53ef\u81ea\u52a8\u751f\u6210\uff0c\u4f46\u4e5f\u53ef\u5728\u5bb9\u5668\u521b\u5efa\u8fc7\u7a0b\u4e2d\u4e3a\u5bb9\u5668\u547d\u540d\u3002 \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a my_nginx \u7684 NGINX \u5bb9\u5668\uff1a 1 docker run --name my_nginx -p 8888 :80 -d nginx \u518d\u6b21\u5217\u51fa\u6240\u6709 Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" About a minute ago Up About a minute 0 .0.0.0:8888->80/tcp my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 15 minutes ago Up 16 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u8bf7\u6ce8\u610f\uff0c\u65b0\u5bb9\u5668\u7684\u540d\u79f0\u4e3a\u201cmy_nginx\u201d\u3002 \u5904\u7406\u5927\u91cf\u5bb9\u5668\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u540d\u7ea6\u5b9a\uff0c\u8fd9\u53ef\u4ee5\u66f4\u597d\u5f97\u7ec4\u7ec7\u5bb9\u5668\u3002 docker ps \u547d\u4ee4\u4ec5\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002\u5982\u679c\u5bf9\u4e0a\u8ff0\u60c5\u51b5\u4f7f\u7528 docker info \u547d\u4ee4\uff1a 1 2 3 4 5 6 docker info Containers: 2 Running: 2 Paused: 0 Stopped: 0 Images: 3 \u53ef\u4ee5\u770b\u5230\u6709\u4e24\u4e2a\u5bb9\u5668\u6b63\u5728\u8fd0\u884c\uff0c\u5982\u679c\u4e00\u4e2a\u6682\u505c\u6216\u5df2\u505c\u6b62\uff0c\u5219\u4e0d\u4f1a\u4ec5\u4f7f\u7528 docker ps \u547d\u4ee4\u67e5\u770b\u8fd9\u4e9b\u5bb9\u5668\uff0c\u5fc5\u987b\u4f7f\u7528 all\uff08 - a\uff09\u9009\u9879\uff1a 1 docker ps -a","title":"\u5217\u51fa Docker \u5bb9\u5668"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#_2","text":"\u5047\u8bbe\u8981\u505c\u6b62\u2019my_nginx\u2019\u5bb9\u5668\uff0c\u53ef\u4f7f\u7528 CONTAINER ID \u6216 NAME\u3002 1 2 docker stop my_nginx my_nginx \u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 5 6 7 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 27 minutes ago Up 27 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 12 minutes ago Exited ( 0 ) About a minute ago my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 27 minutes ago Up 27 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u679c\u5728\u6ca1\u6709 -a \u9009\u9879\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c docker ps\uff0c\u53ea\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002\u5728\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u770b\u5230\u2019my_nginx\u2019\u5bb9\u5668\u5904\u4e8e\u9000\u51fa\u72b6\u6001\u3002 \u8ba9\u6211\u4eec docker start \u5bb9\u5668\uff1a 1 2 docker start my_nginx my_nginx \u68c0\u67e5 Docker \u5bb9\u5668\u5217\u8868\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 16 minutes ago Up 29 seconds 0 .0.0.0:8888->80/tcp my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 30 minutes ago Up 30 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u53ef\u4ee5\u770b\u5230 STATUS \u663e\u793a\u5bb9\u5668\u2019my_nginx\u2019\u518d\u6b21\u88ab\u542f\u52a8\u3002 \u5982\u679c\u7531\u4e8e\u67d0\u4e9b\u95ee\u9898\u800c\u9700\u91cd\u542f\u5bb9\u5668\uff0c\u5219\u53ef\u4f7f\u7528 restart \u547d\u4ee4\uff0c\u8fd9\u6bd4\u5355\u72ec\u505c\u6b62\u548c\u542f\u52a8\u5bb9\u5668\u901f\u5ea6\u66f4\u5feb\uff1a 1 docker restart my_nginx \u53ef\u4ee5\u50cf\u8fdb\u7a0b\u4e00\u6837\u7ec8\u6b62 docker \u5bb9\u5668\uff0c\u6bd4\u5982\u7ec8\u6b62 my_nginx \u5bb9\u5668\uff1a 1 docker kill my_nginx \u518d\u6b21\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e7b19b6ad778 nginx \"nginx -g 'daemon of\u2026\" 22 minutes ago Exited ( 137 ) 7 seconds ago my_nginx 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 36 minutes ago Up 36 minutes 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5bb9\u5668 my_nginx \u672a\u8fd0\u884c\u3002\u6b64\u5916\uff0c\u53ef\u5728\u4fe1\u606f\u4e2d\u770b\u5230\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u548c\u4e00\u4e2a\u5df2\u505c\u6b62\u5bb9\u5668\uff1a 1 2 3 4 5 6 7 docker info Containers: 2 Running: 1 Paused: 0 Stopped: 1 Images: 3 \u2026","title":"\u542f\u52a8\uff0c\u505c\u6b62\uff0c\u91cd\u542f\u548c\u6740\u6b7b\u5bb9\u5668"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker-exec-bash-docker-ssh","text":"\u5982\u679c\u9700\u8981\u4e0e shell \u8fdb\u884c\u4ea4\u4e92\u4ee5\u521b\u5efa\u670d\u52a1\u6216\u89e3\u51b3\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 docker exec \u547d\u4ee4\u521b\u5efa\u4ea4\u4e92\u5f0f shell\u3002\u6bd4\u5982\uff0c\u7528 bash shell \u4ece ubuntu \u6620\u50cf\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\uff1a 1 2 docker run --name my_ubuntu -it ubuntu:latest bash root@a19c770b8621:/# root @haracle\uff03\u8868\u793a\u4f4d\u4e8e Docker \u5bb9\u5668\u7684 bash shell \u4e2d\uff0c\u53ef\u4ee5\u8fd0\u884c shell \u547d\u4ee4\uff1a 1 2 3 4 root@a19c770b8621:/# ls bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var root@a19c770b8621:/# pwd / \u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a19c770b8621 ubuntu:latest \"bash\" About a minute ago Up About a minute my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" About an hour ago Up About an hour 0 .0.0.0:8080->80/tcp hardcore_torvalds \u5982\u4e0a\uff0cmy_ubuntu \u6b63\u5728\u8fd0\u884c\u3002\u5047\u8bbe\u60f3\u5c06 Docker ssh \u653e\u5165\u2019my_ubuntu\u2019\u5bb9\u5668\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 docker exec bash\uff1a 1 2 docker exec -it my_ubuntu bash root@a19c770b8621:/# \u4f7f\u7528 docker exec \u5411\u5bb9\u5668\u53d1\u51fa\u547d\u4ee4\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u547d\u4ee4\u63d0\u793a\u7b26\u5728 my_ubuntu \u5bb9\u5668\u4e0a\u8fd0\u884c ls \u547d\u4ee4\uff1a 1 2 3 docker exec -it my_ubuntu ls bin dev home lib64 mnt proc run srv tmp var boot etc lib media opt root sbin sys usr","title":"Docker Exec Bash \u548c Docker SSH"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#attach","text":"\u4ee5\u4e0a\u793a\u4f8b\u7528\u9644\u52a0\u6a21\u5f0f\u542f\u52a8 ubuntu \u5bb9\u5668\uff0c\u6211\u4eec\u4e5f\u53ef\u5728\u5206\u79bb\u6a21\u5f0f\u4e0b\u542f\u52a8\uff1a 1 2 docker run -it -d --name my_ubuntu_2 ubuntu:latest bash 75b28b7208359137b3e1dc2843387918e28b4c6c4860ef0cdeac79c205f5cbc4 \u9a8c\u8bc1\u5bb9\u5668\u662f\u5426\u6b63\u5728\u8fd0\u884c\uff1a 1 2 3 4 5 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 75b28b720835 ubuntu:latest \"bash\" 3 minutes ago Up 3 minutes my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 15 minutes ago Up 15 minutes my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 2 hours ago Up 2 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds \u4f7f\u7528 docker attach \u547d\u4ee4\u83b7\u53d6 docker exec bash-like \u6548\u679c\uff1a 1 2 docker attach my_ubuntu_2 root@75b28b720835:/#","title":"\u4ee5\u5206\u79bb\u6a21\u5f0f\u542f\u52a8\u5bb9\u5668\u5e76 attach"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_7","text":"Docker \u793e\u533a\u955c\u50cf\u662f\u5206\u5c42\u521b\u5efa\u7684\uff0c\u53ef\u4f7f\u7528 Docker history \u547d\u4ee4\u67e5\u770b\u955c\u50cf\u521b\u5efa\u65b9\u5f0f\u3002\u5148\u770b\u770b\u6709\u54ea\u4e9b\u955c\u50cf\uff1a 1 2 3 4 5 docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u67e5\u770b nginx \u955c\u50cf\u5386\u53f2\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 docker history nginx IMAGE CREATED CREATED BY SIZE COMMENT cd5239a0906a 2 weeks ago /bin/sh -c #(nop) CMD [\"nginx\" \"-g\" \"daemon\u2026 0B <missing> 2 weeks ago /bin/sh -c #(nop) STOPSIGNAL [SIGTERM] 0B <missing> 2 weeks ago /bin/sh -c #(nop) EXPOSE 80/tcp 0B <missing> 2 weeks ago /bin/sh -c ln -sf /dev/stdout /var/log/nginx\u2026 22B <missing> 2 weeks ago /bin/sh -c set -x && apt-get update && apt\u2026 53 .7MB <missing> 2 weeks ago /bin/sh -c #(nop) ENV NJS_VERSION=1.15.0.0.\u2026 0B <missing> 2 weeks ago /bin/sh -c #(nop) ENV NGINX_VERSION=1.15.0-\u2026 0B <missing> 7 weeks ago /bin/sh -c #(nop) LABEL maintainer=NGINX Do\u2026 0B <missing> 8 weeks ago /bin/sh -c #(nop) CMD [\"bash\"] 0B <missing> 8 weeks ago /bin/sh -c #(nop) ADD file:ec5be7eec56a74975\u2026 55.3MB \u4f7f\u7528\u955c\u50cf\u5386\u53f2\u547d\u4ee4\u67e5\u627e\u6700\u8fd1\u66f4\u6539\uff0c\u5982\u679c\u5728\u65b0\u7248\u672c\u955c\u50cf\u4e2d\u53d1\u73b0\u95ee\u9898\uff0c\u5219\u6b64\u547d\u4ee4\u53ef\u5e2e\u52a9\u627e\u5230\u539f\u56e0\uff0c\u4e5f\u53ef\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a 1 docker image history nginx","title":"\u68c0\u67e5 Docker \u955c\u50cf\u5386\u53f2"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_8","text":"\u53ef\u4ee5\u4f7f\u7528 docker inspect \u547d\u4ee4\u67e5\u627e\u6709\u5173\u7cfb\u7edf\u7684\u4fe1\u606f\uff0c\u8fd0\u884c docker ps \u547d\u4ee4\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 2 hours ago Up 2 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds \u4f7f\u7528 CONTAINER ID \u68c0\u67e5\u5bb9\u5668\uff08\u4e5f\u53ef\u4f7f\u7528\u5bb9\u5668\u540d\u79f0\uff09\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker inspect 6162daed25da [ { \"Id\" : \"6162daed25da50b98afca5f7ed8caca2289bf309b2547d87ae8674b899d604a4\" , \"Created\" : \"2018-06-25T05:46:37.902211302Z\" , \"Path\" : \"nginx\" , \"Args\" : [ \u2026 \u2026 \u2026 \"DriverOpts\" : null } } } } ] \u8be5\u547d\u4ee4\u5c06\u4ee5 JSON \u683c\u5f0f\u63d0\u4f9b\u5927\u91cf\u4fe1\u606f\uff0c\u4ee5\u4e0b\u662f\u67e5\u627e\u5bb9\u5668 IP \u5730\u5740\u7684\u6280\u5de7\uff1a 1 2 3 4 docker inspect 6162daed25da | grep \"IPAddress\" \"SecondaryIPAddresses\" : null, \"IPAddress\" : \"172.17.0.2\" , \"IPAddress\" : \"172.17.0.2\" ,","title":"Docker \u68c0\u67e5\u5bb9\u5668"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#_3","text":"\u518d\u6b21\u5217\u51fa Docker \u5bb9\u5668\uff1a 1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Up 3 hours 0 .0.0.0:8080->80/tcp hardcore_torvalds NGINX \u5bb9\u5668\u5728\u7aef\u53e3 8080 \u4e0a\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u8f6c\u5230 http//localhost:8080\uff0c\u5c06\u770b\u5230\u4ee5\u4e0b\u5185\u5bb9\uff1a 1 \"Welcome to nginx!\" \u5982\u679c\u770b\u5230\u6b64\u9875\u9762\uff0c\u5219 nginx Web \u670d\u52a1\u5668\u5df2\u6210\u529f\u5b89\u88c5\u5e76\u6b63\u5e38\u8fd0\u884c\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u5728\u672c\u5730\u76ee\u5f55\u4e2d\u521b\u5efa index.html\uff1a 1 2 3 4 5 6 < html > < header >< title > My Website </ title ></ header > < body > Hello world </ body > </ html > \u4f7f\u7528\u5e26\u6709 ls \u7684 docker exec \u547d\u4ee4\u68c0\u67e5 NGINX \u5bb9\u5668\u4e2d\u5177\u6709 index.html \u7684\u6587\u4ef6\u5939\uff1a 1 2 docker exec -it hardcore_torvalds ls /usr/share/nginx/html 50x.html index.html \u4f7f\u7528\u521b\u5efa\u7684\u672c\u5730\u6587\u4ef6\u8986\u76d6\u5bb9\u5668 index.html \u6587\u4ef6\uff1a 1 docker cp index.html hardcore_torvalds:usr/share/nginx/html/ \u5982\u679c\u518d\u6b21\u68c0\u67e5 http://localhost: 8080\uff0c\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u95ee\u5019\u8bed\u201cHello world\u201d\u3002 \u53ef\u4f7f\u7528 docker cp \u547d\u4ee4\u5728\u672c\u5730\u8ba1\u7b97\u673a\u548c\u521b\u5efa\u5bb9\u5668\u95f4\u79fb\u52a8\u6587\u4ef6\uff0c\u6b64\u65b9\u6cd5\u53ef\u7528\u4e8e\u8986\u76d6\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u5bb9\u5668\u4e0e\u4e3b\u673a\u95f4\u6587\u4ef6\u590d\u5236"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_9","text":"\u5982\u679c\u60f3\u590d\u5236\u66f4\u591a\u201cHello World\u201d\u5bb9\u5668\uff0c\u5fc5\u987b\u5c06\u5f53\u524d\u5bb9\u5668\u4fdd\u5b58\u4e3a\u955c\u50cf\u3002 \u9996\u5148\uff0c\u505c\u6b62\u5bb9\u5668\uff1a 1 docker stop hardcore_torvalds \u5217\u51fa\u6240\u6709 Docker \u5bb9\u5668\uff1a 1 2 3 4 5 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 75b28b720835 ubuntu:latest \"bash\" About an hour ago Exited ( 0 ) About an hour ago my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Exited ( 0 ) 27 seconds ago hardcore_torvalds \u4ece STATUS \u4e2d\uff0c\u53ef\u4ee5\u770b\u5230 NGINX\u2019corecore_torvalds\u2019\u5bb9\u5668\u5df2\u505c\u6b62\u3002\u4f7f\u7528 docker commit \u547d\u4ee4\u521b\u5efa\u65b0\u955c\u50cf\uff1a 1 2 docker commit 6162daed25da nginx_hello_world_template sha256:117d060587a316035ed5a776e613d9cfbeee9fbfe202c6edc9203820c7da987b \u5982\u679c\u73b0\u5728\u68c0\u67e5\uff0c\u5c06\u770b\u5230\u65b0\u955c\u50cf\uff1a 1 2 3 4 5 6 docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx_hello_world_template latest 117d060587a3 40 seconds ago 109MB ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u53ef\u4ee5\u4f7f\u7528\u6b64\u955c\u50cf\u5e76\u542f\u52a8\u65b0 Docker \u5bb9\u5668\uff0c\u65b0\u521b\u5efa\u5bb9\u5668\u5c06\u5177\u6709\u201cHello world\u201d\u9875\u9762\uff0c\u800c\u4e0d\u662f\u201cWelcome NGINX\u201d\u9875\u9762\u3002\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 docker run -it -d -p 8886 :80 nginx_hello_world_template 4e042d76c39125471951626ba42cd609a65c73f041943298f74f4fc43dc5596a $","title":"\u521b\u5efa Docker \u955c\u50cf"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#docker_10","text":"Docker \u5bb9\u5668\u548c\u955c\u50cf\u4f1a\u5360\u7528\u786c\u76d8\u7a7a\u95f4\uff0c\u56e0\u6b64\u6700\u597d\u5b9a\u671f\u6e05\u7406\u3002\u9996\u5148\u505c\u6b62\u6240\u6709\u5bb9\u5668\uff0c\u7136\u540e\u5217\u51fa\u6240\u6709\u5bb9\u5668\uff0c\u4f7f\u7528\u4ee5\u4e0b Docker \u547d\u4ee4\u6267\u884c\u64cd\u4f5c\uff1a 1 2 3 4 5 6 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4e042d76c391 nginx_hello_world_template \"nginx -g 'daemon of\u2026\" 2 minutes ago Exited ( 0 ) 8 seconds ago boring_keldysh 75b28b720835 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu_2 a19c770b8621 ubuntu:latest \"bash\" 2 hours ago Exited ( 0 ) About an hour ago my_ubuntu 6162daed25da nginx \"nginx -g 'daemon of\u2026\" 3 hours ago Exited ( 0 ) 11 minutes ago hardcore_torvalds \u5982\u4e0a\uff0c\u6709 4 \u4e2a\u5904\u4e8e\u505c\u6b62\u72b6\u6001\u7684\u5bb9\u5668\uff0c\u53ef\u4f7f\u7528 docker rm \u547d\u4ee4\u5220\u9664\u5bb9\u5668\uff1a 1 2 3 4 5 docker rm 4e042d76c391 75b28b720835 a19c770b8621 6162daed25da 4e042d76c391 75b28b720835 a19c770b8621 6162daed25da \u53ef\u4f7f\u7528 NAMES \u4ee3\u66ff CONTAINER ID\uff0c\u5bb9\u5668\u5217\u8868\u73b0\u5728\u5e94\u8be5\u662f\u5e72\u51c0\u7684\uff1a 1 2 docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES \u5217\u51fa Docker \u955c\u50cf\uff1a 1 2 3 4 5 6 docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx_hello_world_template latest 117d060587a3 11 minutes ago 109MB ubuntu 16 .04 5e8b97a2a082 2 weeks ago 114MB ubuntu latest 113a43faa138 2 weeks ago 81 .2MB nginx latest cd5239a0906a 2 weeks ago 109MB \u53ef\u4f7f\u7528 docker rmi \u547d\u4ee4\u548c IMAGE ID \u5220\u9664 docker \u955c\u50cf\uff1a 1 docker rmi 117d060587a3 5e8b97a2a082 113a43faa138 cd5239a0906a \u6700\u540e\uff0cDocker \u955c\u50cf\u5217\u8868\u5e94\u8be5\u662f\u5e72\u51c0\u7684\uff1a 1 2 docker images REPOSITORY TAG IMAGE ID CREATED SIZE","title":"\u5220\u9664 Docker \u5bb9\u5668\u548c\u955c\u50cf"},{"location":"Docker\u5fc5\u77e5\u5fc5\u4f1a/Docker\u5e38\u7528\u547d\u4ee4\u4e0e\u64cd\u4f5c\u8be6\u89e3.html#_4","text":"Top Docker Commands Any Expert Should Know","title":"\u56db\u3001\u53c2\u8003"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/0\u3001\u6458\u8981.html","text":"\u4e00\u4e2a\u5546\u7528\u7684\u533a\u5757\u94fe\u7f51\u7edc\uff0c\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\u53d8\u5316\uff0c\u7ecf\u5e38\u9700\u8981\u52a8\u6001\u7684\u65b0\u589e/\u79fb\u9664\u7ec4\u7ec7\uff0c\u4ee5\u6ee1\u8db3\u4e1a\u52a1/\u5b89\u5168\u7b49\u7ba1\u7406\u9700\u8981\u3002\u672c\u6587\u5728\u65e2\u6709\u7ec4\u7ec7/\u8282\u70b9\u7684\u57fa\u7840\u4e0a\uff0c\u65b0\u589e\u4e00\u4e2a\u7ec4\u7ec7\u4e24\u4e2a\u8282\u70b9\u3002 Fabric \u662f\u8054\u76df\u94fe\uff0c\u4e00\u4e2a Channel \u5c31\u597d\u6bd4\u4e00\u4e2a\u5b50\u94fe\uff0c\u5982\u679c\u6709\u65b0\u7684\u673a\u6784\u9700\u8981\u52a0\u5165\uff0c\u5219\u5fc5\u987b\u5f97\u5230\u8054\u76df\u5185\u7684\u6210\u5458\u7684\u8ba4\u53ef\u3002\u57fa\u4e8e\u8fd9\u6837\u7684\u573a\u666f\uff0cFabric \u5728\u4e3a channel \u65b0\u589e org \u65f6\uff0c\u4f1a\u6d89\u53ca\u8bf8\u591a\u7684\u6743\u9650\u548c\u8bc1\u4e66\u64cd\u4f5c\u3002 Fabric \u52a8\u6001\u65b0\u589e\u7ec4\u7ec7\u6b65\u9aa4 \u00b6 \u4e3a\u65b0 org \u751f\u6210\u8bc1\u4e66 \u4e3a\u65b0 org \u751f\u6210\u914d\u7f6e\u6587\u4ef6 \u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u7684\u914d\u7f6e peer channel fetch config \u521b\u5efa\u6dfb\u52a0\u65b0 org \u7684\u914d\u7f6e\u4ea4\u6613\uff0c\u4e3a\u7f51\u7edc\u65b0\u589e org peer channel signconfigtx \u4e3a\u914d\u7f6e\u4ea4\u6613\u7b7e\u540d\uff0c\u9700\u7f51\u7edc\u4e2d MAJORITY \u7684 org \u90fd\u7b7e\u540d peer channel update \u63d0\u4ea4\u7b7e\u540d\u540e\u7684\u914d\u7f6e\u4ea4\u6613\u81f3 orderer \u5c06\u65b0 org \u6dfb\u52a0\u5165 channel \u542f\u52a8\u65b0 org \u96c6\u7fa4\uff0c\u4e00\u822c\u4f1a\u6709\u4e00\u4e2a cli \u548c\u591a\u4e2a peer peer channel fetch \u4e8e cli \u4e2d\u4ece orderer \u4e2d\u83b7\u53d6 channel \u521b\u4e16\u5757 peer channel join \u5c06\u65b0 org \u4e0b\u7684 peer \u52a0\u5165 channel \u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565 peer chaincode install \u4e3a\u65b0 org \u7684 peer \u5b89\u88c5 chaincode\uff0c\u4e8e\u65b0 org \u7684 cli \u4e2d\u5b8c\u6210 peer chaincode install, \u4e3a\u5176\u4ed6 org \u5347\u7ea7 chaincode\uff0c\u4e8e\u539f org \u7684 cli \u4e2d\u5b8c\u6210 peer chaincode upgrade \u5347\u7ea7\u80cc\u4e66\u7b56\u7565\uff0c\u4e8e\u539f org \u7684 cli \u4e2d\u5b8c\u6210 \u6b64\u6587\u901a\u8fc7 fabric-samples \u4e0b\u7684 first-network \u6837\u4f8b\u4e3a\u57fa\u7840\uff0c\u5728\u5176\u533a\u5757\u94fe\u7f51\u7edc\u4e0a\uff0c\u4e3a\u901a\u9053 cfichannel \u65b0\u589e\u4e00\u4e2a\u7ec4\u7ec7Cfec\uff0cCfecOrg \u5305\u542b\u4e2a peer\u3002","title":"Index \u6458\u8981"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/0\u3001\u6458\u8981.html#fabric","text":"\u4e3a\u65b0 org \u751f\u6210\u8bc1\u4e66 \u4e3a\u65b0 org \u751f\u6210\u914d\u7f6e\u6587\u4ef6 \u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u7684\u914d\u7f6e peer channel fetch config \u521b\u5efa\u6dfb\u52a0\u65b0 org \u7684\u914d\u7f6e\u4ea4\u6613\uff0c\u4e3a\u7f51\u7edc\u65b0\u589e org peer channel signconfigtx \u4e3a\u914d\u7f6e\u4ea4\u6613\u7b7e\u540d\uff0c\u9700\u7f51\u7edc\u4e2d MAJORITY \u7684 org \u90fd\u7b7e\u540d peer channel update \u63d0\u4ea4\u7b7e\u540d\u540e\u7684\u914d\u7f6e\u4ea4\u6613\u81f3 orderer \u5c06\u65b0 org \u6dfb\u52a0\u5165 channel \u542f\u52a8\u65b0 org \u96c6\u7fa4\uff0c\u4e00\u822c\u4f1a\u6709\u4e00\u4e2a cli \u548c\u591a\u4e2a peer peer channel fetch \u4e8e cli \u4e2d\u4ece orderer \u4e2d\u83b7\u53d6 channel \u521b\u4e16\u5757 peer channel join \u5c06\u65b0 org \u4e0b\u7684 peer \u52a0\u5165 channel \u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565 peer chaincode install \u4e3a\u65b0 org \u7684 peer \u5b89\u88c5 chaincode\uff0c\u4e8e\u65b0 org \u7684 cli \u4e2d\u5b8c\u6210 peer chaincode install, \u4e3a\u5176\u4ed6 org \u5347\u7ea7 chaincode\uff0c\u4e8e\u539f org \u7684 cli \u4e2d\u5b8c\u6210 peer chaincode upgrade \u5347\u7ea7\u80cc\u4e66\u7b56\u7565\uff0c\u4e8e\u539f org \u7684 cli \u4e2d\u5b8c\u6210 \u6b64\u6587\u901a\u8fc7 fabric-samples \u4e0b\u7684 first-network \u6837\u4f8b\u4e3a\u57fa\u7840\uff0c\u5728\u5176\u533a\u5757\u94fe\u7f51\u7edc\u4e0a\uff0c\u4e3a\u901a\u9053 cfichannel \u65b0\u589e\u4e00\u4e2a\u7ec4\u7ec7Cfec\uff0cCfecOrg \u5305\u542b\u4e2a peer\u3002","title":"Fabric \u52a8\u6001\u65b0\u589e\u7ec4\u7ec7\u6b65\u9aa4"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html","text":"\u4e00\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5 \u00b6 1\u3001\u5b89\u88c5epel\u6e90 \u00b6 1 yum install epel-release 2\u3001\u5b89\u88c5\u4f9d\u8d56\u5305 \u00b6 1 yum install snappy-devel.x86_64 zlib-devel.x86_64 bzip2-devel.x86_64 libtool-ltdl-devel.x86_64 libtool git 3\u3001\u5b89\u88c5docker \u00b6 1 yum localinstall docker-ce-18.05.0.ce-3.el7.centos.x86_64.rpm ( \u5b89\u88c5\u5305\u89c1\u9644\u4ef6 ) 4\u3001\u5b89\u88c5docker-compose \u00b6 1 2 curl -L https://github.com/docker/compose/releases/download/1.21.0/docker-compose- ` uname -s ` - ` uname -m ` > /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose 5\u3001\u914d\u7f6edocker\u6e90\uff08\u5982\u679c\u4e0d\u914d\u7f6e\u62c9\u53d6\u7684\u662f\u56fd\u5916\u7684\u955c\u50cf\u6e90\uff09 \u00b6 1 2 3 4 5 6 7 [ -d /etc/docker ] && echo \"docker dir Already exist\" || mkdir /etc/docker tee /etc/docker/daemon.json <<-'EOF' { \"registry-mirrors\": [\"https://k03hynjl.mirror.aliyuncs.com\"] } EOF 6\u3001\u62f7\u8d1dfabric\u7f51\u7edc\u76f8\u5173\u7ec4\u4ef6\u5230\u5f53\u524d\u7528\u6237\u76ee\u5f55\uff08\u975eroot\u7528\u6237\uff09\uff0c\u5185\u5bb9\u5982\u4e0b \u00b6 1 2 sudo scp -r cfichain@xxx.xxx.xxx.xxx:/home/cfichain/cfi_network . sudo scp -r cfichain@xxx.xxx.xxx.xxx:/home/cfichain/bin . 7\u3001\u6e05\u7406\u6570\u636e \u00b6 1 2 3 4 rm -fr /data/fabric/bin/channel-artifacts/* rm -fr /data/fabric/bin/crypto-config/* rm -fr /data/fabric/bin/chaindata/*/*/* rm -fr /data/fabric/bin/chainData/*/*/*","title":"\u4e00\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#_1","text":"","title":"\u4e00\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#1epel","text":"1 yum install epel-release","title":"1\u3001\u5b89\u88c5epel\u6e90"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#2","text":"1 yum install snappy-devel.x86_64 zlib-devel.x86_64 bzip2-devel.x86_64 libtool-ltdl-devel.x86_64 libtool git","title":"2\u3001\u5b89\u88c5\u4f9d\u8d56\u5305"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#3docker","text":"1 yum localinstall docker-ce-18.05.0.ce-3.el7.centos.x86_64.rpm ( \u5b89\u88c5\u5305\u89c1\u9644\u4ef6 )","title":"3\u3001\u5b89\u88c5docker"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#4docker-compose","text":"1 2 curl -L https://github.com/docker/compose/releases/download/1.21.0/docker-compose- ` uname -s ` - ` uname -m ` > /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose","title":"4\u3001\u5b89\u88c5docker-compose"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#5docker","text":"1 2 3 4 5 6 7 [ -d /etc/docker ] && echo \"docker dir Already exist\" || mkdir /etc/docker tee /etc/docker/daemon.json <<-'EOF' { \"registry-mirrors\": [\"https://k03hynjl.mirror.aliyuncs.com\"] } EOF","title":"5\u3001\u914d\u7f6edocker\u6e90\uff08\u5982\u679c\u4e0d\u914d\u7f6e\u62c9\u53d6\u7684\u662f\u56fd\u5916\u7684\u955c\u50cf\u6e90\uff09"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#6fabricroot","text":"1 2 sudo scp -r cfichain@xxx.xxx.xxx.xxx:/home/cfichain/cfi_network . sudo scp -r cfichain@xxx.xxx.xxx.xxx:/home/cfichain/bin .","title":"6\u3001\u62f7\u8d1dfabric\u7f51\u7edc\u76f8\u5173\u7ec4\u4ef6\u5230\u5f53\u524d\u7528\u6237\u76ee\u5f55\uff08\u975eroot\u7528\u6237\uff09\uff0c\u5185\u5bb9\u5982\u4e0b"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/1\u3001\u65b0\u7ec4\u7ec7\u57fa\u7840\u73af\u5883\u5b89\u88c5.html#7","text":"1 2 3 4 rm -fr /data/fabric/bin/channel-artifacts/* rm -fr /data/fabric/bin/crypto-config/* rm -fr /data/fabric/bin/chaindata/*/*/* rm -fr /data/fabric/bin/chainData/*/*/*","title":"7\u3001\u6e05\u7406\u6570\u636e"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/2\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel.html","text":"\u4e8c\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel \u00b6 \uff08MBFA\u7ec4\u7ec7\u4efb\u610f\u8282\u70b9\u4e0a\u6267\u884c\uff09 1\u3001\u521b\u5efa\u4ea4\u6613\u6587\u4ef6 \u00b6 1 2 3 export PATH = $PATH :/data/fabric/bin export ORDERER_GENERAL_GENESISPROFILE = MbfaGenesis configtxgen -profile MbfaChannel -outputCreateChannelTx ./channel-artifacts/sycfinchannel.tx -channelID syfinchannel 2\u3001\u4e3a\u65b0\u7ec4\u7ec7\u521b\u5efachannel \u00b6 \u767b\u5f55docker cli 1 docker exec -it cli bash 3\u3001\u53d1\u8d77\u521b\u5efachannel\u4ea4\u6613 \u00b6 1 2 3 4 5 6 7 8 export CORE_PEER_ADDRESS = am.mbfa.fabric.mbfa.cn:7051 export CORE_PEER_LOCALMSPID = MbfaMSP export CORE_PEER_TLS_ENABLED = false export CORE_PEER_TLS_CERT_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/server.crt export CORE_PEER_TLS_KEY_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/server.key export CORE_PEER_TLS_ROOTCERT_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/ca.crt export CORE_PEER_MSPCONFIGPATH = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/users/Admin@mbfa.fabric.mbfa.cn/msp peer channel create -o orderer0.fabric.mbfa.cn:7050 -c syfinchannel -f ./channel-artifacts/syfinchannel.tx","title":"\u4e8c\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/2\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel.html#channel","text":"\uff08MBFA\u7ec4\u7ec7\u4efb\u610f\u8282\u70b9\u4e0a\u6267\u884c\uff09","title":"\u4e8c\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/2\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel.html#1","text":"1 2 3 export PATH = $PATH :/data/fabric/bin export ORDERER_GENERAL_GENESISPROFILE = MbfaGenesis configtxgen -profile MbfaChannel -outputCreateChannelTx ./channel-artifacts/sycfinchannel.tx -channelID syfinchannel","title":"1\u3001\u521b\u5efa\u4ea4\u6613\u6587\u4ef6"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/2\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel.html#2channel","text":"\u767b\u5f55docker cli 1 docker exec -it cli bash","title":"2\u3001\u4e3a\u65b0\u7ec4\u7ec7\u521b\u5efachannel"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/2\u3001\u5728\u8054\u76df\u7ba1\u7406\u8282\u70b9\u521b\u5efa\u65b0channel.html#3channel","text":"1 2 3 4 5 6 7 8 export CORE_PEER_ADDRESS = am.mbfa.fabric.mbfa.cn:7051 export CORE_PEER_LOCALMSPID = MbfaMSP export CORE_PEER_TLS_ENABLED = false export CORE_PEER_TLS_CERT_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/server.crt export CORE_PEER_TLS_KEY_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/server.key export CORE_PEER_TLS_ROOTCERT_FILE = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/peers/am.mbfa.fabric.mbfa.cn/tls/ca.crt export CORE_PEER_MSPCONFIGPATH = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/mbfa.fabric.mbfa.cn/users/Admin@mbfa.fabric.mbfa.cn/msp peer channel create -o orderer0.fabric.mbfa.cn:7050 -c syfinchannel -f ./channel-artifacts/syfinchannel.tx","title":"3\u3001\u53d1\u8d77\u521b\u5efachannel\u4ea4\u6613"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/3\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66.html","text":"\u4e09\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66 \u00b6 1\u3001\u751f\u6210\u8bc1\u4e66\u547d\u4ee4 \u00b6 (\u4f9d\u636e crypto-config.yaml \u751f\u6210\uff0c\u751f\u6210\u540e\u7684\u6587\u4ef6\u4f4d\u4e8e org3-artifacts/crypto-config/ \u4e0b)\uff1a 1 2 cd org3-artifacts ./cryptogen generate --config = ./crypto-config.yaml --output ./crypto-config 2\u3001crypto-config.yamll \u6587\u4ef6\u5982\u4e0b \u00b6 1 2 3 4 5 6 7 8 9 10 11 PeerOrgs : - Name : SyOrg Domain : sy.fabric.mbfa.cn CA : Country : CN Province : Beijing Locality : Beijing Specs : - Hostname : peer Users : Count : 1","title":"\u4e09\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/3\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66.html#org","text":"","title":"\u4e09\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/3\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66.html#1","text":"(\u4f9d\u636e crypto-config.yaml \u751f\u6210\uff0c\u751f\u6210\u540e\u7684\u6587\u4ef6\u4f4d\u4e8e org3-artifacts/crypto-config/ \u4e0b)\uff1a 1 2 cd org3-artifacts ./cryptogen generate --config = ./crypto-config.yaml --output ./crypto-config","title":"1\u3001\u751f\u6210\u8bc1\u4e66\u547d\u4ee4"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/3\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\uff08ORG\uff09\u751f\u6210\u8bc1\u4e66.html#2crypto-configyamll","text":"1 2 3 4 5 6 7 8 9 10 11 PeerOrgs : - Name : SyOrg Domain : sy.fabric.mbfa.cn CA : Country : CN Province : Beijing Locality : Beijing Specs : - Hostname : peer Users : Count : 1","title":"2\u3001crypto-config.yamll \u6587\u4ef6\u5982\u4e0b"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/4\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u751f\u6210SyOrg\u914d\u7f6e\u6587\u4ef6.html","text":"\u56db\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u4f7f\u7528configtxgen\u751f\u6210SyOrg\u914d\u7f6eJSON\u6587\u4ef6 \u00b6 1\u3001\u751f\u6210\u7ec4\u7ec7\u914d\u7f6e\u6587\u4ef6 \u00b6 configtx\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u5bfb\u627econfigtx.yaml\u914d\u7f6e\u6587\u4ef6\u5e76\u4ece\u4e2d\u8bfb\u53d6SyOrg\u76f8\u5173\u914d\u7f6e\u3002 1 2 cd org3-artifacts ./configtxgen -printOrg SyOrg -profile ./configtx.yaml > ../channel-artifacts/syorg.json 2\u3001configtx.yaml\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Organizations : - &SyOrg Name : SyOrg ID : SyMSP MSPDir : crypto-config/peerOrganizations/sy.fabric.mbfa.cn/msp Policies : &SyOrgPolicies Readers : Type : Signature Rule : \"OR('SyMSP.member')\" Writers : Type : Signature Rule : \"OR('SyMSP.member')\" Admins : Type : Signature Rule : \"OR('SyMSP.admin')\" AnchorPeers : - Host : peer.sy.fabric.mbfa.cn Port : 7051","title":"\u56db\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u751f\u6210SyOrg\u914d\u7f6e\u6587\u4ef6"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/4\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u751f\u6210SyOrg\u914d\u7f6e\u6587\u4ef6.html#configtxgensyorgjson","text":"","title":"\u56db\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u4f7f\u7528configtxgen\u751f\u6210SyOrg\u914d\u7f6eJSON\u6587\u4ef6"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/4\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u751f\u6210SyOrg\u914d\u7f6e\u6587\u4ef6.html#1","text":"configtx\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u5bfb\u627econfigtx.yaml\u914d\u7f6e\u6587\u4ef6\u5e76\u4ece\u4e2d\u8bfb\u53d6SyOrg\u76f8\u5173\u914d\u7f6e\u3002 1 2 cd org3-artifacts ./configtxgen -printOrg SyOrg -profile ./configtx.yaml > ../channel-artifacts/syorg.json","title":"1\u3001\u751f\u6210\u7ec4\u7ec7\u914d\u7f6e\u6587\u4ef6"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/4\u3001\u5728\u65b0\u7ec4\u7ec7\u8282\u70b9\u751f\u6210SyOrg\u914d\u7f6e\u6587\u4ef6.html#2configtxyaml","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Organizations : - &SyOrg Name : SyOrg ID : SyMSP MSPDir : crypto-config/peerOrganizations/sy.fabric.mbfa.cn/msp Policies : &SyOrgPolicies Readers : Type : Signature Rule : \"OR('SyMSP.member')\" Writers : Type : Signature Rule : \"OR('SyMSP.member')\" Admins : Type : Signature Rule : \"OR('SyMSP.admin')\" AnchorPeers : - Host : peer.sy.fabric.mbfa.cn Port : 7051","title":"2\u3001configtx.yaml\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/5\u3001\u914d\u7f6e\u65b0\u7ec4\u7ec7\u8282\u70b9.html","text":"\u4e94\u3001\u914d\u7f6e\u65b0\u7ec4\u7ec7\u8282\u70b9 \u00b6 \u4fee\u6539cfi.yaml\u914d\u7f6e\u6587\u4ef6\uff0c\u9700\u8981\u68c0\u67e5\u73af\u5883\u5dee\u5f02\u3002\u9700\u8981\u6ce8\u610fdocker\u914d\u7f6e\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7684fabric\u94fe\u955c\u50cf\u7248\u672c\u53f7\u3002 1 2 3 4 5 6 7 8 9 mv org3-artifacts/crypto-config . cat /etc/resolv.conf //\u6b64\u4e3a\u6b63\u5e38\u914d\u7f6e nameserver 127 .0.0.11 options ndots:0 //\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff0c\u9700\u8981\u5728docker compose yaml\u6a21\u677f\u589e\u52a0\u73af\u5883\u53d8\u91cf\uff0cGODEBUG = netdns = go\u4ee5\u5f3a\u5236\u4f7f\u7528pure Go resolver nameserver 127 .0.0.11 options timeout:2 attempts:3 rotate single-request-reopen ndots:0","title":"\u4e94\u3001\u914d\u7f6e\u65b0\u7ec4\u7ec7\u8282\u70b9"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/5\u3001\u914d\u7f6e\u65b0\u7ec4\u7ec7\u8282\u70b9.html#_1","text":"\u4fee\u6539cfi.yaml\u914d\u7f6e\u6587\u4ef6\uff0c\u9700\u8981\u68c0\u67e5\u73af\u5883\u5dee\u5f02\u3002\u9700\u8981\u6ce8\u610fdocker\u914d\u7f6e\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7684fabric\u94fe\u955c\u50cf\u7248\u672c\u53f7\u3002 1 2 3 4 5 6 7 8 9 mv org3-artifacts/crypto-config . cat /etc/resolv.conf //\u6b64\u4e3a\u6b63\u5e38\u914d\u7f6e nameserver 127 .0.0.11 options ndots:0 //\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff0c\u9700\u8981\u5728docker compose yaml\u6a21\u677f\u589e\u52a0\u73af\u5883\u53d8\u91cf\uff0cGODEBUG = netdns = go\u4ee5\u5f3a\u5236\u4f7f\u7528pure Go resolver nameserver 127 .0.0.11 options timeout:2 attempts:3 rotate single-request-reopen ndots:0","title":"\u4e94\u3001\u914d\u7f6e\u65b0\u7ec4\u7ec7\u8282\u70b9"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html","text":"\u516d\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e \u00b6 \u901a\u8fc7 step 3~4\uff0c\u5df2\u7ecf\u751f\u6210\u4e86 Sy \u7684\u8bc1\u4e66\u548c\u914d\u7f6e\uff0c\u4f46\u8fd9\u4ec5\u4ec5\u662f\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd8\u672a\u4e8e\u533a\u5757\u94fe\u7f51\u7edc\u4ea7\u751f\u5173\u8054\u3002\u4e3a channel \u65b0\u52a0 Org\uff0c\u5bf9 Fabric\u800c\u8a00\uff0c\u662f\u4ee5\u4e00\u7b14\u4ea4\u6613\u7684\u5f62\u5f0f\u63d0\u4ea4\u7684\u3002\u56e0\u6b64\u8981\u4f7f\u5f97\u8fd9\u7b14\u4ea4\u6613\u80fd\u987a\u5229\u5b8c\u6210\uff0c\u9700\u8981\u63d0\u4ea4Sy\u7684\u914d\u7f6e\uff0c\u5230channel\u4e2d\uff0c\u83b7\u5f97\u6743\u9650\u8ba4\u8bc1\uff1b\u7136\u540e\u4e8e\u7f51\u7edc\u4e2d\u53d1\u8d77\u66f4\u65b0\u7684\u4ea4\u6613\u3002 1\u3001\u767b\u5f55\u8054\u76df\u7ba1\u7406\u7ec4\u7ec7\u7684cli \u00b6 1 docker exec -it cli bash 2\u3001\u5b89\u88c5 jq \u5de5\u5177 \u00b6 jq \u662f Linux \u4e0b\u547d\u4ee4\u884c\u5904\u7406 JSON \u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5bf9 JSON \u8fdb\u884c\u8fc7\u6ee4\u3001\u683c\u5f0f\u5316\u3001\u4fee\u6539\u7b49\u7b49\u64cd\u4f5c\u3002 1 apt-get -y update && apt-get -y install jq 3\u3001\u8bbe\u7f6eorderer TLS CA\u73af\u5883\u53d8\u91cf\uff08\u6ce8\u610f\uff1apeer\u5bf9\u5e94\u7684\u8282\u70b9\u4e0a\u9700\u8981\u6709orderer\u8282\u70b9\u7684\u8bc1\u4e66\uff09 \u00b6 1 export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem 4\u3001\u83b7\u53d6\u51c6\u5907\u52a0\u5165channel\u7684\u914d\u7f6e \u00b6 1 peer channel fetch config vtm_config_block.pb -o orderer0.fabric.mbfa.cn:7050 -c cfitestchannel --cafile $ORDERER_CA 5\u3001\u8054\u76df\u7ba1\u7406\u7ec4\u7ec7\u4fee\u6539\u539fchannel\u914d\u7f6e\u6587\u4ef6, \u589e\u52a0\u65b0\u7ec4\u7ec7 \u00b6 5.1\u3001\u89e3\u7801\u539f\u6709\u7f51\u7edc\u7684\u914d\u7f6e\u6587\u4ef6 1 2 \u5c06\u51c6\u5907\u52a0\u5165channel\u7684pb\u683c\u5f0f\u914d\u7f6e\u4fe1\u606f\u8f6c\u6362\u6210json\u683c\u5f0f configtxlator proto_decode --input vtm_config_block.pb --type common.Block | jq .data.data [ 0 ] .payload.data.config > vtm_config.json \u751f\u6210\u6587\u4ef6\u5185\u5bb9\u7c7b\u4f3cset2\u4e2dsyorg.json\u5185\u5bb9 5.2\u3001\u4f7f\u7528jq\u5de5\u5177\uff0c\u5408\u5e76cfiorg.json\u4e0ecfi_config.json, \u5f62\u6210\u589e\u52a0\u65b0\u7ec4\u7ec7\u540e\u7684\u5b8c\u6574json\u683c\u5f0f\u7684\u914d\u7f6e\u66f4\u65b0\u6587\u4ef6 1 jq -s '.[0] * {\"channel_group\":{\"groups\":{\"Application\":{\"groups\": {\"VtmMSP\":.[1]}}}}}' vtm_config.json ./channel-artifacts/vtmorg.json > vtm_modified_config.json 5.3\u3001\u5c06 config.json \u548c modified_config.json \u8f6c\u4e3a protobuf \u683c\u5f0f 1 2 configtxlator proto_encode --input vtm_config.json --type common.Config > vtm_config.pb configtxlator proto_encode --input vtm_modified_config.json --type common.Config > vtm_modified_config.pb 5.4\u3001\u6839\u636e config.pb \u548c modified_config.pb \u8ba1\u7b97\u51fa org3_update.pb \uff0c\u8ba1\u7b97\u51fa\u589e\u91cf\u66f4\u65b0\u5185\u5bb9\u3002 (\u7c7b\u4f3c\u4e8e diff \u64cd\u4f5c\uff0c\u4f46\u662f\u9488\u5bf9 protobuf \u683c\u5f0f\uff0c\u56e0\u6b64\u4f1a\u591a\u51fa\u597d\u591a\u64cd\u4f5c\u3002) 1 configtxlator compute_update --channel_id cfitestchannel --original vtm_config.pb --updated vtm_modified_config.pb > vtm_config_update.pb 5.5\u3001\u89e3\u7801 config_update.pb \u4e3a json\uff0c\u7136\u540e\u7528 jq \u4fee\u6539\uff0c\u7136\u540e\u5728\u7f16\u7801\u4e3a protobuf \u683c\u5f0f\uff0c\u6700\u7ec8\u8f93\u51fa syorg_update_in_envelope.pb 1 2 3 configtxlator proto_decode --input cfi_config_update.pb --type common.ConfigUpdate > cfi_config_update.json echo '{\"payload\":{\"header\":{\"channel_header\":{\"channel_id\":\"cfitestchannel\", \"type\":2}},\"data\":{\"config_update\":' $( cat cfi_config_update.json ) '}}}' | jq . > cfi_config_update_in_envelope.json configtxlator proto_encode --input cfi_config_update_in_envelope.json --type common.Envelope > cfiorg_update_in_envelope.pb 6\u3001\u4e3a\u65b0\u7ec4\u7ec7\u914d\u7f6e\u7b7e\u540d \u00b6 \u4e3a\u914d\u7f6e\u4ea4\u6613\u7b7e\u540d\uff0c\u9700\u8981 channel \u4e2d\u7684\u5927\u591a\u6570 Org \u5bf9\u5176\u8fdb\u884c\u7b7e\u540d\u3002 \u5bf9\u4e8e mychannel \u800c\u8a00\uff0c\u5df2\u6709\u4e86 org1\uff0corg2\uff0c\u56e0\u6b64\u65b0\u589e org3 \u65f6\u9700\u8981 org1\u3001org2 \u90fd\u7b7e\u540d\u3002 \u7b7e\u540d\u64cd\u4f5c\u4e8e cli \u4e2d\u5b8c\u6210\uff0c\u9700\u91c7\u7528 Anchor Peer\uff0c\u53ef\u901a\u8fc7\u66f4\u6539\u73af\u5883\u53d8\u91cf\uff0c\u6539\u53d8\u7b7e\u540d\u8005\u7684\u8eab\u4efd\u3002 6.1\u3001MBFA\u7ec4\u7ec7\u7b7e\u540d 1 2 3 4 docker exec -it cli bash \u7ec4\u7ec7\u7b7e\u540d peer channel signconfigtx -f cfiorg_update_in_envelope.pb 6.2\u3001\u767b\u5f55MSC\u7ec4\u7ec7CLI\u7ee7\u7eed\u7b7e\u540d \uff08\u4e0b\u8f7dMBFA\u7b7e\u540d\u540e\u7684syorg_update_in_envelope.pb\u4e0a\u4f20\u5230msc\u7ec4\u7ec7CLI\u4e2d\uff0c\u53c2\u7167MBFA\u5c06syorg_update_in_envelope.pb\u8fdb\u884c\u7b7e\u540d\u3002\uff09 7\u3001\u63d0\u4ea4\u7b7e\u540d\u540e\u7684\u914d\u7f6e\u4ea4\u6613\u81f3orderer \u00b6 \u6ce8\u610f\uff1a\u9700\u8981\u5c06syorg_update_in_envelope.pb\u6ce8\u610f\u4e0a\u4f20\u5230\u8001\u7ec4\u7ec7\uff0c\u5e76\u9010\u4e00\u53e0\u52a0\u7b7e\u540d\u3002\u7136\u540e\u7531\u751f\u4ea7\u6b64pb\u6587\u4ef6\u7684\u7ec4\u7ec7\u63d0\u4ea4\u66f4\u65b0\u3002 1 2 export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem peer channel update -f cfiorg_update_in_envelope.pb -c cfitestchannel -o orderer0.fabric.mbfa.cn:7050 --cafile $ORDERER_CA \u82e5\u6210\u529f\u5165\u94fe\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a 1 2018 -11-01 13 :45:17.982 UTC [ kvledger ] CommitWithPvtData -> INFO 066 [ mbfastorechannel ] Committed block [ 2 ] with 1 transaction ( s ) in 19ms ( state_validation = 0ms block_commit = 13ms state_commit = 3ms ) \u8f93\u51fa\u663e\u793a\uff0c\u5f53\u524d\u63d0\u4ea4\u7684\u5757\u53f7\u662f 6\u3002\u5757 0 \u662f\u521b\u4e16\u5757\uff1b1~2 \u662f\u4e00\u4e9b\u521d\u59cb\u5316\uff1b3~4 \u662f\u5b9e\u4f8b\u5316\u4e0e\u8c03\u7528 chaincode \uff0c\u66f4\u65b0\u914d\u7f6e\u3002","title":"\u516d\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#org","text":"\u901a\u8fc7 step 3~4\uff0c\u5df2\u7ecf\u751f\u6210\u4e86 Sy \u7684\u8bc1\u4e66\u548c\u914d\u7f6e\uff0c\u4f46\u8fd9\u4ec5\u4ec5\u662f\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd8\u672a\u4e8e\u533a\u5757\u94fe\u7f51\u7edc\u4ea7\u751f\u5173\u8054\u3002\u4e3a channel \u65b0\u52a0 Org\uff0c\u5bf9 Fabric\u800c\u8a00\uff0c\u662f\u4ee5\u4e00\u7b14\u4ea4\u6613\u7684\u5f62\u5f0f\u63d0\u4ea4\u7684\u3002\u56e0\u6b64\u8981\u4f7f\u5f97\u8fd9\u7b14\u4ea4\u6613\u80fd\u987a\u5229\u5b8c\u6210\uff0c\u9700\u8981\u63d0\u4ea4Sy\u7684\u914d\u7f6e\uff0c\u5230channel\u4e2d\uff0c\u83b7\u5f97\u6743\u9650\u8ba4\u8bc1\uff1b\u7136\u540e\u4e8e\u7f51\u7edc\u4e2d\u53d1\u8d77\u66f4\u65b0\u7684\u4ea4\u6613\u3002","title":"\u516d\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#1cli","text":"1 docker exec -it cli bash","title":"1\u3001\u767b\u5f55\u8054\u76df\u7ba1\u7406\u7ec4\u7ec7\u7684cli"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#2-jq","text":"jq \u662f Linux \u4e0b\u547d\u4ee4\u884c\u5904\u7406 JSON \u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5bf9 JSON \u8fdb\u884c\u8fc7\u6ee4\u3001\u683c\u5f0f\u5316\u3001\u4fee\u6539\u7b49\u7b49\u64cd\u4f5c\u3002 1 apt-get -y update && apt-get -y install jq","title":"2\u3001\u5b89\u88c5 jq \u5de5\u5177"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#3orderer-tls-capeerorderer","text":"1 export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem","title":"3\u3001\u8bbe\u7f6eorderer TLS CA\u73af\u5883\u53d8\u91cf\uff08\u6ce8\u610f\uff1apeer\u5bf9\u5e94\u7684\u8282\u70b9\u4e0a\u9700\u8981\u6709orderer\u8282\u70b9\u7684\u8bc1\u4e66\uff09"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#4channel","text":"1 peer channel fetch config vtm_config_block.pb -o orderer0.fabric.mbfa.cn:7050 -c cfitestchannel --cafile $ORDERER_CA","title":"4\u3001\u83b7\u53d6\u51c6\u5907\u52a0\u5165channel\u7684\u914d\u7f6e"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#5channel","text":"","title":"5\u3001\u8054\u76df\u7ba1\u7406\u7ec4\u7ec7\u4fee\u6539\u539fchannel\u914d\u7f6e\u6587\u4ef6, \u589e\u52a0\u65b0\u7ec4\u7ec7"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#6","text":"\u4e3a\u914d\u7f6e\u4ea4\u6613\u7b7e\u540d\uff0c\u9700\u8981 channel \u4e2d\u7684\u5927\u591a\u6570 Org \u5bf9\u5176\u8fdb\u884c\u7b7e\u540d\u3002 \u5bf9\u4e8e mychannel \u800c\u8a00\uff0c\u5df2\u6709\u4e86 org1\uff0corg2\uff0c\u56e0\u6b64\u65b0\u589e org3 \u65f6\u9700\u8981 org1\u3001org2 \u90fd\u7b7e\u540d\u3002 \u7b7e\u540d\u64cd\u4f5c\u4e8e cli \u4e2d\u5b8c\u6210\uff0c\u9700\u91c7\u7528 Anchor Peer\uff0c\u53ef\u901a\u8fc7\u66f4\u6539\u73af\u5883\u53d8\u91cf\uff0c\u6539\u53d8\u7b7e\u540d\u8005\u7684\u8eab\u4efd\u3002","title":"6\u3001\u4e3a\u65b0\u7ec4\u7ec7\u914d\u7f6e\u7b7e\u540d"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/6\u3001\u8054\u76df\u7ec4\u7ec7\u751f\u6210\u548c\u63d0\u4ea4\u65b0 org \u914d\u7f6e.html#7orderer","text":"\u6ce8\u610f\uff1a\u9700\u8981\u5c06syorg_update_in_envelope.pb\u6ce8\u610f\u4e0a\u4f20\u5230\u8001\u7ec4\u7ec7\uff0c\u5e76\u9010\u4e00\u53e0\u52a0\u7b7e\u540d\u3002\u7136\u540e\u7531\u751f\u4ea7\u6b64pb\u6587\u4ef6\u7684\u7ec4\u7ec7\u63d0\u4ea4\u66f4\u65b0\u3002 1 2 export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem peer channel update -f cfiorg_update_in_envelope.pb -c cfitestchannel -o orderer0.fabric.mbfa.cn:7050 --cafile $ORDERER_CA \u82e5\u6210\u529f\u5165\u94fe\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a 1 2018 -11-01 13 :45:17.982 UTC [ kvledger ] CommitWithPvtData -> INFO 066 [ mbfastorechannel ] Committed block [ 2 ] with 1 transaction ( s ) in 19ms ( state_validation = 0ms block_commit = 13ms state_commit = 3ms ) \u8f93\u51fa\u663e\u793a\uff0c\u5f53\u524d\u63d0\u4ea4\u7684\u5757\u53f7\u662f 6\u3002\u5757 0 \u662f\u521b\u4e16\u5757\uff1b1~2 \u662f\u4e00\u4e9b\u521d\u59cb\u5316\uff1b3~4 \u662f\u5b9e\u4f8b\u5316\u4e0e\u8c03\u7528 chaincode \uff0c\u66f4\u65b0\u914d\u7f6e\u3002","title":"7\u3001\u63d0\u4ea4\u7b7e\u540d\u540e\u7684\u914d\u7f6e\u4ea4\u6613\u81f3orderer"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/7\u3001\u65b0\u7ec4\u7ec7\u7533\u8bf7\u6dfb\u52a0\u5230channel\u4e2d.html","text":"\u4e03\u3001\u65b0\u7ec4\u7ec7\u7533\u8bf7\u6dfb\u52a0\u5230channel\u4e2d \u00b6 \u542f\u52a8\u65b0\u7ec4\u7ec7\u8282\u70b9\uff0c\u767b\u5f55cli\uff0c\u52a0\u5165\u5230\u65b0channel\uff1a 1 2 3 4 5 6 7 8 9 10 docker-compose -f cfi.yaml up docker exec -it cli bash export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem export CHANNEL_NAME = cfitestchannel //\u4ece orderer \u4e2d\u83b7\u53d6 channel \u521b\u4e16\u5757\u914d\u7f6e peer channel fetch 0 cfitestchannel.block -o orderer0.fabric.mbfa.cn:7050 -c $CHANNEL_NAME --cafile $ORDERER_CA peer channel join -b cfitestchannel.block","title":"\u4e03\u3001\u65b0\u7ec4\u7ec7\u7533\u8bf7\u6dfb\u52a0\u5230channel\u4e2d"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/7\u3001\u65b0\u7ec4\u7ec7\u7533\u8bf7\u6dfb\u52a0\u5230channel\u4e2d.html#channel","text":"\u542f\u52a8\u65b0\u7ec4\u7ec7\u8282\u70b9\uff0c\u767b\u5f55cli\uff0c\u52a0\u5165\u5230\u65b0channel\uff1a 1 2 3 4 5 6 7 8 9 10 docker-compose -f cfi.yaml up docker exec -it cli bash export ORDERER_CA = /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/fabric.mbfa.cn/orderers/orderer0.fabric.mbfa.cn/msp/tlscacerts/tlsca.fabric.mbfa.cn-cert.pem export CHANNEL_NAME = cfitestchannel //\u4ece orderer \u4e2d\u83b7\u53d6 channel \u521b\u4e16\u5757\u914d\u7f6e peer channel fetch 0 cfitestchannel.block -o orderer0.fabric.mbfa.cn:7050 -c $CHANNEL_NAME --cafile $ORDERER_CA peer channel join -b cfitestchannel.block","title":"\u4e03\u3001\u65b0\u7ec4\u7ec7\u7533\u8bf7\u6dfb\u52a0\u5230channel\u4e2d"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/8\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565.html","text":"\u516b\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565 \u00b6 1\u3001\u4e3a\u65b0\u7ec4\u7ec7\u5b89\u88c5 2.0 \u7248\u672c\u7684 chaincode \u00b6 \u5176\u4ed6\u7ec4\u7ec7\u7684 chaincode \u7248\u672c\u53f7\u662f 1\uff0c\u65b0\u7ec4\u7ec7\u9700\u8981\u66f4\u65b0\u6b64\u7248\u672c\u7684 chaincode\uff0c\u56e0\u6b64\u4e3a\u65b0\u7ec4\u7ec7\u76f4\u63a5\u5b89\u88c5\u7248\u672c\u4e3a 2 \u7684 chaincode\uff0c\u7701\u5f97\u5148\u5b89\u88c5\u518d\u5347\u7ea7\u3002 1 peer chaincode install -n cfistore -v 2 -p github.com/hyperledger/fabric/chaincode/go/cfistore 2\u3001\u4e3a\u5176\u4ed6\u7ec4\u7ec7\u5b89\u88c5 2.0 \u7248\u672c chaincode \u00b6 \u767b\u5f55\u6bcf\u4e2a\u8054\u76df\u539f\u6709\u7ec4\u7ec7 cli\uff0c\u9010\u4e00\u8fdb\u884c\u66f4\u65b0\u3002 1 2 3 4 5 6 7 8 docker exec -it cli bash peer chaincode install -n cfistore -v 2 -p github.com/hyperledger/fabric/chaincode/go/cfistore peer chaincode upgrade -n cfistore -v 7 -c '{\"Args\":[\"init\"]}' -o orderer0.fabric.mbfa.cn:7050 -C cfichannel -P \"OR ('MbfaMSP.member','MscMSP.member','CfecMSP.member','VteamMSP.member')\" // \u67e5\u770bchannel\u4e2d\u5df2\u7ecf\u5b9e\u4f8b\u5316\u7684\u94fe\u7801 peer chaincode list --instantiated -C cfichannel 3\u3001\u5347\u7ea7\u80cc\u4e66\u7b56\u7565 \u00b6 \u5347\u7ea7\u80cc\u4e66\u7b56\u7565\uff0c-v 2 \u6307\u660e\u7248\u672c\u53f7\uff0c-P \"AND ('MbfaMSP.peer','CfecMSP.peer')\"\u6307\u660e\u65b0\u7684\u80cc\u4e66\u7b56\u7565\uff08\u6dfb\u52a0\u4e86 CfecOrg\uff09\u3002 1 peer chaincode upgrade -n cfistore -v 2 -c '{\"Args\":[\"init\"]}' -o orderer0.fabric.mbfa.cn:7050 -C cfichannel -P \"AND ('MbfaMSP.peer','CfecMSP.peer')\" peer chaincode upgrade \u547d\u4ee4\u5c06\u4e3a\u533a\u5757\u94fe\u65b0\u589e\u4e00\u4e2a\u5757\uff0c\u53ef\u4ee5\u5728\u5176\u4ed6\u7684 peer \u7684\u8f93\u51fa\u4e2d\u67e5\u770b\u3002 \u67e5\u8be2\u94fe\u7801 1 peer chaincode query -C cfichannel -n cfistore -c '{\"Args\":[\"query\",\"a\"]}'","title":"\u516b\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/8\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565.html#chaincode","text":"","title":"\u516b\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/8\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565.html#1-20-chaincode","text":"\u5176\u4ed6\u7ec4\u7ec7\u7684 chaincode \u7248\u672c\u53f7\u662f 1\uff0c\u65b0\u7ec4\u7ec7\u9700\u8981\u66f4\u65b0\u6b64\u7248\u672c\u7684 chaincode\uff0c\u56e0\u6b64\u4e3a\u65b0\u7ec4\u7ec7\u76f4\u63a5\u5b89\u88c5\u7248\u672c\u4e3a 2 \u7684 chaincode\uff0c\u7701\u5f97\u5148\u5b89\u88c5\u518d\u5347\u7ea7\u3002 1 peer chaincode install -n cfistore -v 2 -p github.com/hyperledger/fabric/chaincode/go/cfistore","title":"1\u3001\u4e3a\u65b0\u7ec4\u7ec7\u5b89\u88c5 2.0 \u7248\u672c\u7684 chaincode"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/8\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565.html#2-20-chaincode","text":"\u767b\u5f55\u6bcf\u4e2a\u8054\u76df\u539f\u6709\u7ec4\u7ec7 cli\uff0c\u9010\u4e00\u8fdb\u884c\u66f4\u65b0\u3002 1 2 3 4 5 6 7 8 docker exec -it cli bash peer chaincode install -n cfistore -v 2 -p github.com/hyperledger/fabric/chaincode/go/cfistore peer chaincode upgrade -n cfistore -v 7 -c '{\"Args\":[\"init\"]}' -o orderer0.fabric.mbfa.cn:7050 -C cfichannel -P \"OR ('MbfaMSP.member','MscMSP.member','CfecMSP.member','VteamMSP.member')\" // \u67e5\u770bchannel\u4e2d\u5df2\u7ecf\u5b9e\u4f8b\u5316\u7684\u94fe\u7801 peer chaincode list --instantiated -C cfichannel","title":"2\u3001\u4e3a\u5176\u4ed6\u7ec4\u7ec7\u5b89\u88c5 2.0 \u7248\u672c chaincode"},{"location":"Fabric\u4ece\u5165\u95e8\u5230\u4f01\u4e1a\u7ea7\u5b9e\u6218/8\u3001\u5347\u7ea7chaincode\u548c\u80cc\u4e66\u7b56\u7565.html#3","text":"\u5347\u7ea7\u80cc\u4e66\u7b56\u7565\uff0c-v 2 \u6307\u660e\u7248\u672c\u53f7\uff0c-P \"AND ('MbfaMSP.peer','CfecMSP.peer')\"\u6307\u660e\u65b0\u7684\u80cc\u4e66\u7b56\u7565\uff08\u6dfb\u52a0\u4e86 CfecOrg\uff09\u3002 1 peer chaincode upgrade -n cfistore -v 2 -c '{\"Args\":[\"init\"]}' -o orderer0.fabric.mbfa.cn:7050 -C cfichannel -P \"AND ('MbfaMSP.peer','CfecMSP.peer')\" peer chaincode upgrade \u547d\u4ee4\u5c06\u4e3a\u533a\u5757\u94fe\u65b0\u589e\u4e00\u4e2a\u5757\uff0c\u53ef\u4ee5\u5728\u5176\u4ed6\u7684 peer \u7684\u8f93\u51fa\u4e2d\u67e5\u770b\u3002 \u67e5\u8be2\u94fe\u7801 1 peer chaincode query -C cfichannel -n cfistore -c '{\"Args\":[\"query\",\"a\"]}'","title":"3\u3001\u5347\u7ea7\u80cc\u4e66\u7b56\u7565"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5728\u7528\u6237\u4e0e\u7528\u6237\u76f4\u63a5\u804a\u5929\u7684\u8bbe\u8ba1\u65b9\u6848\u4e2d\uff0c\u7528\u6237\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u5f88\u5f3a\u7684\u5173\u8054\u6027\uff0c\u5c06\u5bfc\u81f4\u7cfb\u7edf\u51fa\u73b0\u5982\u4e0b\u95ee\u9898\uff1a \u7cfb\u7edf\u7ed3\u6784\u590d\u6742\uff1a\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u5927\u91cf\u7684\u76f8\u4e92\u5173\u8054\u548c\u8c03\u7528\uff0c\u82e5\u6709\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\uff0c\u5219\u9700\u8981\u8ddf\u8e2a\u548c\u8be5\u5bf9\u8c61\u5173\u8054\u7684\u5176\u4ed6\u6240\u6709\u5bf9\u8c61\uff0c\u5e76\u8fdb\u884c\u9002\u5f53\u5904\u7406\u3002 \u5bf9\u8c61\u53ef\u91cd\u7528\u6027\u5dee\uff1a\u7531\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u5177\u6709\u5f88\u5f3a\u7684\u5173\u8054\uff0c\u82e5\u6ca1\u6709\u5176\u4ed6\u5bf9\u8c61\u7684\u652f\u6301\uff0c\u4e00\u4e2a\u5bf9\u8c61\u5f88\u96be\u88ab\u53e6\u4e00\u4e2a\u7cfb\u7edf\u6216\u6a21\u5757\u91cd\u7528\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u8868\u73b0\u51fa\u6765\u66f4\u50cf\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u6574\u4f53\uff0c\u804c\u8d23\u8f83\u4e3a\u6df7\u4e71\u3002 \u7cfb\u7edf\u6269\u5c55\u6027\u4f4e\uff1a\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u9700\u8981\u5728\u539f\u6709\u76f8\u5173\u5bf9\u8c61\u4e0a\u589e\u52a0\u5f15\u7528\uff0c\u589e\u52a0\u65b0\u7684\u5f15\u7528\u5173\u7cfb\u4e5f\u9700\u8981\u8c03\u6574\u539f\u6709\u5bf9\u8c61\uff0c\u7cfb\u7edf\u8026\u5408\u5ea6\u5f88\u9ad8\uff0c\u5bf9\u8c61\u64cd\u4f5c\u5f88\u4e0d\u7075\u6d3b\uff0c\u6269\u5c55\u6027\u5dee\u3002 \u5728\u9762\u5411\u5bf9\u8c61\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u4e0e\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6839\u636e\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u5c06\u5bf9\u8c61\u7ec6\u5316\uff0c\u4f7f\u5176\u53ea\u8d1f\u8d23\u6216\u5448\u73b0\u5355\u4e00\u7684\u804c\u8d23\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u6a21\u5757\uff0c\u53ef\u80fd\u7531\u5f88\u591a\u5bf9\u8c61\u6784\u6210\uff0c\u800c\u4e14\u8fd9\u4e9b\u5bf9\u8c61\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u76f8\u4e92\u7684\u5f15\u7528\uff0c\u4e3a\u4e86\u51cf\u5c11\u5bf9\u8c61\u4e24\u4e24\u4e4b\u95f4\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4f7f\u4e4b\u6210\u4e3a\u4e00\u4e2a\u677e\u8026\u5408\u7684\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff0c\u8fd9\u5c31\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f( Mediator Pattern ) \uff1a\u7528\u4e00\u4e2a\u4e2d\u4ecb\u5bf9\u8c61\u6765\u5c01\u88c5\u4e00\u7cfb\u5217\u7684\u5bf9\u8c61\u4ea4\u4e92\uff0c\u4e2d\u4ecb\u8005\u4f7f\u5404\u5bf9\u8c61\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u76f8\u4e92\u5f15\u7528\uff0c\u4ece\u800c\u4f7f\u5176\u8026\u5408\u677e\u6563\uff0c\u800c\u4e14\u53ef\u4ee5\u72ec\u7acb\u5730\u6539\u53d8\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53c8\u79f0\u4e3a**\u8c03\u505c\u8005\u6a21\u5f0f**\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Mediator : \u62bd\u8c61\u4e2d\u4ecb\u8005 ConcreteMediator : \u5177\u4f53\u4e2d\u4ecb\u8005 Colleague : \u62bd\u8c61\u540c\u4e8b\u7c7b ConcreteColleague : \u5177\u4f53\u540c\u4e8b\u7c7b 2. \u7ed3\u6784\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684 Mediator \u7c7b\u548c\u5177\u4f53\u7684 ConcreteMediator \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 /** * \u901a\u7528\u62bd\u8c61\u4e2d\u4ecb\u8005\u7c7b. */ public abstract class Mediator { /** \u5b9a\u4e49\u540c\u4e8b\u7c7b1. */ protected ConcreteColleague1 colleague1 ; /** \u5b9a\u4e49\u540c\u4e8b\u7c7b2. */ protected ConcreteColleague2 colleague2 ; /* getter \u548c setter \u65b9\u6cd5 */ public ConcreteColleague1 getColleague1 () { return colleague1 ; } public void setColleague1 ( ConcreteColleague1 colleague1 ) { this . colleague1 = colleague1 ; } public ConcreteColleague2 getColleague2 () { return colleague2 ; } public void setColleague2 ( ConcreteColleague2 colleague2 ) { this . colleague2 = colleague2 ; } /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u62bd\u8c61\u4e1a\u52a1\u903b\u8f911. */ public abstract void doSomething1 (); /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u62bd\u8c61\u4e1a\u52a1\u903b\u8f912. */ public abstract void doSomething2 (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u5177\u4f53\u7684\u901a\u7528\u4e2d\u4ecb\u8005\u7c7b. */ public class ConcreteMediator extends Mediator { /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5177\u4f53\u4e1a\u52a1\u903b\u8f911. */ @Override public void doSomething1 () { super . colleague1 . selfMethod1 (); super . colleague2 . selfMethod2 (); } /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5177\u4f53\u4e1a\u52a1\u903b\u8f912. */ @Override public void doSomething2 () { super . colleague1 . selfMethod1 (); super . colleague2 . selfMethod2 (); } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684 Colleague \u7c7b\u548c\u5177\u4f53\u7684 ConcreteColleague \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u62bd\u8c61\u7684\u540c\u4e8b\u7c7b. */ public abstract class Colleague { /** \u4e2d\u4ecb\u8005. */ protected Mediator mediator ; public Colleague ( Mediator mediator ) { this . mediator = mediator ; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u7684\u540c\u4e8b\u7c7b1. */ public class ConcreteColleague1 extends Colleague { public ConcreteColleague1 ( Mediator mediator ) { super ( mediator ); } /** * \u81ea\u6709\u65b9\u6cd5. */ public void selfMethod1 () { System . out . println ( \"------ConcreteColleague1-\u5904\u7406\u81ea\u5df1\u7684\u4e1a\u52a1\u903b\u8f911--------\" ); } /** * \u4f9d\u8d56\u65b9\u6cd5. */ public void depMethod1 () { System . out . println ( \"------ConcreteColleague1-\u59d4\u6258\u7ed9\u4e2d\u4ecb\u8005\u7684\u4e1a\u52a1\u903b\u8f911--------\" ); super . mediator . doSomething1 (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u7684\u540c\u4e8b\u7c7b2. */ public class ConcreteColleague2 extends Colleague { public ConcreteColleague2 ( Mediator mediator ) { super ( mediator ); } /** * \u81ea\u6709\u65b9\u6cd52. */ public void selfMethod2 () { System . out . println ( \"------ConcreteColleague2-\u5904\u7406\u81ea\u5df1\u7684\u4e1a\u52a1\u903b\u8f912--------\" ); } /** * \u4f9d\u8d56\u65b9\u6cd52. */ public void depMethod2 () { System . out . println ( \"------ConcreteColleague2-\u59d4\u6258\u7ed9\u4e2d\u4ecb\u8005\u7684\u4e1a\u52a1\u903b\u8f912--------\" ); super . mediator . doSomething2 (); } } \u4ee5\u4e0b\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u573a\u666f\u7c7b */ public class MediatorClient { public static void main ( String [] args ) { Mediator mediator = new ConcreteMediator (); ConcreteColleague1 colleague1 = new ConcreteColleague1 ( mediator ); ConcreteColleague2 colleague2 = new ConcreteColleague2 ( mediator ); mediator . setColleague1 ( colleague1 ); mediator . setColleague2 ( colleague2 ); colleague1 . depMethod1 (); colleague2 . depMethod2 (); mediator . doSomething1 (); mediator . doSomething2 (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u6570\u91cf\u6025\u5267\u51cf\u5c11\u3002 \u4e2d\u4ecb\u8005\u627f\u62c5\u4e24\u65b9\u9762\u7684\u804c\u8d23\uff1a \u4e2d\u8f6c\u4f5c\u7528\uff08\u7ed3\u6784\u6027\uff09 \uff1a\u901a\u8fc7\u4e2d\u4ecb\u8005\u63d0\u4f9b\u7684\u4e2d\u8f6c\u4f5c\u7528\uff0c\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u5c31\u4e0d\u518d\u9700\u8981\u663e\u5f0f\u5f15\u7528\u5176\u4ed6\u540c\u4e8b\uff0c\u5f53\u9700\u8981\u548c\u5176\u4ed6\u540c\u4e8b\u8fdb\u884c\u901a\u4fe1\u65f6\uff0c\u901a\u8fc7\u4e2d\u4ecb\u8005\u5373\u53ef\u3002\u8be5\u4e2d\u8f6c\u4f5c\u7528\u5c5e\u4e8e\u4e2d\u4ecb\u8005\u5728\u7ed3\u6784\u4e0a\u7684\u652f\u6301\u3002 \u534f\u8c03\u4f5c\u7528\uff08\u884c\u4e3a\u6027\uff09 \uff1a\u4e2d\u4ecb\u8005\u53ef\u4ee5\u66f4\u8fdb\u4e00\u6b65\u7684\u5bf9\u540c\u4e8b\u4e4b\u95f4\u7684\u5173\u7cfb\u8fdb\u884c\u5c01\u88c5\uff0c\u540c\u4e8b\u53ef\u4ee5\u4e00\u81f4\u5730\u548c\u4e2d\u4ecb\u8005\u8fdb\u884c\u4ea4\u4e92\uff0c\u800c\u4e0d\u9700\u8981\u6307\u660e\u4e2d\u4ecb\u8005\u9700\u8981\u5177\u4f53\u600e\u4e48\u505a\uff0c\u4e2d\u4ecb\u8005\u6839\u636e\u5c01\u88c5\u5728\u81ea\u8eab\u5185\u90e8\u7684\u534f\u8c03\u903b\u8f91\uff0c\u5bf9\u540c\u4e8b\u7684\u8bf7\u6c42\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u5c06\u540c\u4e8b\u6210\u5458\u4e4b\u95f4\u7684\u5173\u7cfb\u884c\u4e3a\u8fdb\u884c\u5206\u79bb\u548c\u5c01\u88c5\u3002\u8be5\u534f\u8c03\u4f5c\u7528\u5c5e\u4e8e\u4e2d\u4ecb\u8005\u5728\u884c\u4e3a\u4e0a\u7684\u652f\u6301\u3002 1. \u4f18\u70b9 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002 \u5c06\u5404\u540c\u4e8b\u89e3\u8026\u3002 \u51cf\u5c11\u5b50\u7c7b\u751f\u6210\u3002 \u53ef\u4ee5\u7b80\u5316\u5404\u540c\u4e8b\u7c7b\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\u3002 2. \u7f3a\u70b9 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5728\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u4e2d\u5305\u542b\u4e86\u540c\u4e8b\u4e4b\u95f4\u7684\u4ea4\u4e92\u7ec6\u8282\uff0c \u53ef\u80fd\u4f1a\u5bfc\u81f4\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u975e\u5e38\u590d\u6742\uff0c\u4f7f\u5f97\u7cfb\u7edf\u96be\u4ee5\u7ef4\u62a4 \u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff1a \u7cfb\u7edf\u4e2d\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4ea7\u751f\u7684\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u7ed3\u6784\u6df7\u4e71\u4e14\u96be\u4ee5\u7406\u89e3\u3002 \u4e00\u4e2a\u5bf9\u8c61\u7531\u4e8e\u5f15\u7528\u4e86\u5176\u4ed6\u5f88\u591a\u5bf9\u8c61\u5e76\u4e14\u76f4\u63a5\u548c\u8fd9\u4e9b\u5bf9\u8c61\u901a\u4fe1\uff0c\u5bfc\u81f4\u96be\u4ee5\u590d\u7528\u8be5\u5bf9\u8c61\u3002 \u60f3\u901a\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u7c7b\u6765\u5c01\u88c5\u591a\u4e2a\u7c7b\u4e2d\u7684\u884c\u4e3a\uff0c\u800c\u53c8\u4e0d\u60f3\u751f\u6210\u592a\u591a\u7684\u5b50\u7c7b\u3002\u53ef\u4ee5\u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\u7c7b\u6765\u5b9e\u73b0\uff0c\u5728\u4e2d\u4ecb\u8005\u4e2d\u5b9a\u4e49\u5bf9\u8c61\u3002 \u4ea4\u4e92\u7684\u516c\u5171\u884c\u4e3a\uff0c\u5982\u679c\u9700\u8981\u6539\u53d8\u884c\u4e3a\u5219\u53ef\u4ee5\u589e\u52a0\u65b0\u7684\u4e2d\u4ecb\u8005\u7c7b\u3002 \u516d\u3001\u6a21\u5f0f\u603b\u7ed3 \u00b6 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7528\u4e00\u4e2a\u4e2d\u4ecb\u5bf9\u8c61\u6765\u5c01\u88c5\u4e00\u7cfb\u5217\u7684\u5bf9\u8c61\u4ea4\u4e92\uff0c\u4e2d\u4ecb\u8005\u4f7f\u5404\u5bf9\u8c61\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u76f8\u4e92\u5f15\u7528\uff0c\u4ece\u800c\u4f7f\u5176\u8026\u5408\u677e\u6563\uff0c\u800c\u4e14\u53ef\u4ee5\u72ec\u7acb\u5730\u6539\u53d8\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53c8\u79f0\u4e3a\u8c03\u505c\u8005\u6a21\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4e2d\u4ecb\u8005\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u7528\u4e8e\u4e0e\u5404\u540c\u4e8b\u5bf9\u8c61\u4e4b\u95f4\u7684\u901a\u4fe1\uff1b\u5177\u4f53\u4e2d\u4ecb\u8005\u662f\u62bd\u8c61\u4e2d\u4ecb\u8005\u7684\u5b50\u7c7b\uff0c\u901a\u8fc7\u534f\u8c03\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u6765\u5b9e\u73b0\u534f\u4f5c\u884c\u4e3a\uff0c\u4e86\u89e3\u5e76\u7ef4\u62a4\u5b83\u7684\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u7684\u5f15\u7528\uff1b\u62bd\u8c61\u540c\u4e8b\u7c7b\u5b9a\u4e49\u5404\u540c\u4e8b\u7684\u516c\u6709\u65b9\u6cd5\uff1b\u5177\u4f53\u540c\u4e8b\u7c7b\u662f\u62bd\u8c61\u540c\u4e8b\u7c7b\u7684\u5b50\u7c7b\uff0c\u6bcf\u4e00\u4e2a\u540c\u4e8b\u5bf9\u8c61\u90fd\u5f15\u7528\u4e00\u4e2a\u4e2d\u4ecb\u8005\u5bf9\u8c61\uff1b\u6bcf\u4e00\u4e2a\u540c\u4e8b\u5bf9\u8c61\u5728\u9700\u8981\u548c\u5176\u4ed6\u540c\u4e8b\u5bf9\u8c61\u901a\u4fe1\u65f6\uff0c\u5148\u4e0e\u4e2d\u4ecb\u8005\u901a\u4fe1\uff0c\u901a\u8fc7\u4e2d\u4ecb\u8005\u6765\u95f4\u63a5\u5b8c\u6210\u4e0e\u5176\u4ed6\u540c\u4e8b\u7c7b\u7684\u901a\u4fe1\uff1b\u5728\u5177\u4f53\u540c\u4e8b\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u540c\u4e8b\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002 \u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5c06\u7cfb\u7edf\u7684\u7f51\u72b6\u7ed3\u6784\u53d8\u6210\u4ee5\u4e2d\u4ecb\u8005\u4e3a\u4e2d\u5fc3\u7684\u661f\u5f62\u7ed3\u6784\uff0c\u4e2d\u4ecb\u8005\u627f\u62c5\u4e86\u4e2d\u8f6c\u4f5c\u7528\u548c\u534f\u8c03\u4f5c\u7528\u3002\u4e2d\u4ecb\u8005\u7c7b\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u6838\u5fc3\uff0c\u5b83\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u63a7\u5236\u548c\u534f\u8c03\uff0c\u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u5bf9\u8c61\u95f4\u7684\u4ea4\u4e92\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u63a7\u5236\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u5c06\u5404\u540c\u4e8b\u89e3\u8026\uff0c\u8fd8\u53ef\u4ee5\u51cf\u5c11\u5b50\u7c7b\u751f\u6210\uff0c\u5bf9\u4e8e\u590d\u6742\u7684\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\uff0c\u53ef\u4ee5\u7b80\u5316\u5404\u540c\u4e8b\u7c7b\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\uff1b\u4e2d\u4ecb\u8005\u6a21\u5f0f\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u4e2d\u5305\u542b\u4e86\u540c\u4e8b\u4e4b\u95f4\u7684\u4ea4\u4e92\u7ec6\u8282\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u975e\u5e38\u590d\u6742\uff0c\u4f7f\u5f97\u7cfb\u7edf\u96be\u4ee5\u7ef4\u62a4\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4ea7\u751f\u7684\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u7ed3\u6784\u6df7\u4e71\u4e14\u96be\u4ee5\u7406\u89e3\uff1b\u4e00\u4e2a\u5bf9\u8c61\u7531\u4e8e\u5f15\u7528\u4e86\u5176\u4ed6\u5f88\u591a\u5bf9\u8c61\u5e76\u4e14\u76f4\u63a5\u548c\u8fd9\u4e9b\u5bf9\u8c61\u901a\u4fe1\uff0c\u5bfc\u81f4\u96be\u4ee5\u590d\u7528\u8be5\u5bf9\u8c61\uff1b\u60f3\u901a\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u7c7b\u6765\u5c01\u88c5\u591a\u4e2a\u7c7b\u4e2d\u7684\u884c\u4e3a\uff0c\u800c\u53c8\u4e0d\u60f3\u751f\u6210\u592a\u591a\u7684\u5b50\u7c7b\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_1","text":"\u5728\u7528\u6237\u4e0e\u7528\u6237\u76f4\u63a5\u804a\u5929\u7684\u8bbe\u8ba1\u65b9\u6848\u4e2d\uff0c\u7528\u6237\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u5f88\u5f3a\u7684\u5173\u8054\u6027\uff0c\u5c06\u5bfc\u81f4\u7cfb\u7edf\u51fa\u73b0\u5982\u4e0b\u95ee\u9898\uff1a \u7cfb\u7edf\u7ed3\u6784\u590d\u6742\uff1a\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u5927\u91cf\u7684\u76f8\u4e92\u5173\u8054\u548c\u8c03\u7528\uff0c\u82e5\u6709\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\uff0c\u5219\u9700\u8981\u8ddf\u8e2a\u548c\u8be5\u5bf9\u8c61\u5173\u8054\u7684\u5176\u4ed6\u6240\u6709\u5bf9\u8c61\uff0c\u5e76\u8fdb\u884c\u9002\u5f53\u5904\u7406\u3002 \u5bf9\u8c61\u53ef\u91cd\u7528\u6027\u5dee\uff1a\u7531\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u5177\u6709\u5f88\u5f3a\u7684\u5173\u8054\uff0c\u82e5\u6ca1\u6709\u5176\u4ed6\u5bf9\u8c61\u7684\u652f\u6301\uff0c\u4e00\u4e2a\u5bf9\u8c61\u5f88\u96be\u88ab\u53e6\u4e00\u4e2a\u7cfb\u7edf\u6216\u6a21\u5757\u91cd\u7528\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u8868\u73b0\u51fa\u6765\u66f4\u50cf\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u6574\u4f53\uff0c\u804c\u8d23\u8f83\u4e3a\u6df7\u4e71\u3002 \u7cfb\u7edf\u6269\u5c55\u6027\u4f4e\uff1a\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u9700\u8981\u5728\u539f\u6709\u76f8\u5173\u5bf9\u8c61\u4e0a\u589e\u52a0\u5f15\u7528\uff0c\u589e\u52a0\u65b0\u7684\u5f15\u7528\u5173\u7cfb\u4e5f\u9700\u8981\u8c03\u6574\u539f\u6709\u5bf9\u8c61\uff0c\u7cfb\u7edf\u8026\u5408\u5ea6\u5f88\u9ad8\uff0c\u5bf9\u8c61\u64cd\u4f5c\u5f88\u4e0d\u7075\u6d3b\uff0c\u6269\u5c55\u6027\u5dee\u3002 \u5728\u9762\u5411\u5bf9\u8c61\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u4e0e\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6839\u636e\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u5c06\u5bf9\u8c61\u7ec6\u5316\uff0c\u4f7f\u5176\u53ea\u8d1f\u8d23\u6216\u5448\u73b0\u5355\u4e00\u7684\u804c\u8d23\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u6a21\u5757\uff0c\u53ef\u80fd\u7531\u5f88\u591a\u5bf9\u8c61\u6784\u6210\uff0c\u800c\u4e14\u8fd9\u4e9b\u5bf9\u8c61\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u76f8\u4e92\u7684\u5f15\u7528\uff0c\u4e3a\u4e86\u51cf\u5c11\u5bf9\u8c61\u4e24\u4e24\u4e4b\u95f4\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4f7f\u4e4b\u6210\u4e3a\u4e00\u4e2a\u677e\u8026\u5408\u7684\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff0c\u8fd9\u5c31\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_2","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f( Mediator Pattern ) \uff1a\u7528\u4e00\u4e2a\u4e2d\u4ecb\u5bf9\u8c61\u6765\u5c01\u88c5\u4e00\u7cfb\u5217\u7684\u5bf9\u8c61\u4ea4\u4e92\uff0c\u4e2d\u4ecb\u8005\u4f7f\u5404\u5bf9\u8c61\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u76f8\u4e92\u5f15\u7528\uff0c\u4ece\u800c\u4f7f\u5176\u8026\u5408\u677e\u6563\uff0c\u800c\u4e14\u53ef\u4ee5\u72ec\u7acb\u5730\u6539\u53d8\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53c8\u79f0\u4e3a**\u8c03\u505c\u8005\u6a21\u5f0f**\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#1","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Mediator : \u62bd\u8c61\u4e2d\u4ecb\u8005 ConcreteMediator : \u5177\u4f53\u4e2d\u4ecb\u8005 Colleague : \u62bd\u8c61\u540c\u4e8b\u7c7b ConcreteColleague : \u5177\u4f53\u540c\u4e8b\u7c7b","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684 Mediator \u7c7b\u548c\u5177\u4f53\u7684 ConcreteMediator \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 /** * \u901a\u7528\u62bd\u8c61\u4e2d\u4ecb\u8005\u7c7b. */ public abstract class Mediator { /** \u5b9a\u4e49\u540c\u4e8b\u7c7b1. */ protected ConcreteColleague1 colleague1 ; /** \u5b9a\u4e49\u540c\u4e8b\u7c7b2. */ protected ConcreteColleague2 colleague2 ; /* getter \u548c setter \u65b9\u6cd5 */ public ConcreteColleague1 getColleague1 () { return colleague1 ; } public void setColleague1 ( ConcreteColleague1 colleague1 ) { this . colleague1 = colleague1 ; } public ConcreteColleague2 getColleague2 () { return colleague2 ; } public void setColleague2 ( ConcreteColleague2 colleague2 ) { this . colleague2 = colleague2 ; } /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u62bd\u8c61\u4e1a\u52a1\u903b\u8f911. */ public abstract void doSomething1 (); /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u62bd\u8c61\u4e1a\u52a1\u903b\u8f912. */ public abstract void doSomething2 (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u5177\u4f53\u7684\u901a\u7528\u4e2d\u4ecb\u8005\u7c7b. */ public class ConcreteMediator extends Mediator { /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5177\u4f53\u4e1a\u52a1\u903b\u8f911. */ @Override public void doSomething1 () { super . colleague1 . selfMethod1 (); super . colleague2 . selfMethod2 (); } /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5177\u4f53\u4e1a\u52a1\u903b\u8f912. */ @Override public void doSomething2 () { super . colleague1 . selfMethod1 (); super . colleague2 . selfMethod2 (); } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684 Colleague \u7c7b\u548c\u5177\u4f53\u7684 ConcreteColleague \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u62bd\u8c61\u7684\u540c\u4e8b\u7c7b. */ public abstract class Colleague { /** \u4e2d\u4ecb\u8005. */ protected Mediator mediator ; public Colleague ( Mediator mediator ) { this . mediator = mediator ; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u7684\u540c\u4e8b\u7c7b1. */ public class ConcreteColleague1 extends Colleague { public ConcreteColleague1 ( Mediator mediator ) { super ( mediator ); } /** * \u81ea\u6709\u65b9\u6cd5. */ public void selfMethod1 () { System . out . println ( \"------ConcreteColleague1-\u5904\u7406\u81ea\u5df1\u7684\u4e1a\u52a1\u903b\u8f911--------\" ); } /** * \u4f9d\u8d56\u65b9\u6cd5. */ public void depMethod1 () { System . out . println ( \"------ConcreteColleague1-\u59d4\u6258\u7ed9\u4e2d\u4ecb\u8005\u7684\u4e1a\u52a1\u903b\u8f911--------\" ); super . mediator . doSomething1 (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u7684\u540c\u4e8b\u7c7b2. */ public class ConcreteColleague2 extends Colleague { public ConcreteColleague2 ( Mediator mediator ) { super ( mediator ); } /** * \u81ea\u6709\u65b9\u6cd52. */ public void selfMethod2 () { System . out . println ( \"------ConcreteColleague2-\u5904\u7406\u81ea\u5df1\u7684\u4e1a\u52a1\u903b\u8f912--------\" ); } /** * \u4f9d\u8d56\u65b9\u6cd52. */ public void depMethod2 () { System . out . println ( \"------ConcreteColleague2-\u59d4\u6258\u7ed9\u4e2d\u4ecb\u8005\u7684\u4e1a\u52a1\u903b\u8f912--------\" ); super . mediator . doSomething2 (); } } \u4ee5\u4e0b\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u573a\u666f\u7c7b */ public class MediatorClient { public static void main ( String [] args ) { Mediator mediator = new ConcreteMediator (); ConcreteColleague1 colleague1 = new ConcreteColleague1 ( mediator ); ConcreteColleague2 colleague2 = new ConcreteColleague2 ( mediator ); mediator . setColleague1 ( colleague1 ); mediator . setColleague2 ( colleague2 ); colleague1 . depMethod1 (); colleague2 . depMethod2 (); mediator . doSomething1 (); mediator . doSomething2 (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_5","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u6570\u91cf\u6025\u5267\u51cf\u5c11\u3002 \u4e2d\u4ecb\u8005\u627f\u62c5\u4e24\u65b9\u9762\u7684\u804c\u8d23\uff1a \u4e2d\u8f6c\u4f5c\u7528\uff08\u7ed3\u6784\u6027\uff09 \uff1a\u901a\u8fc7\u4e2d\u4ecb\u8005\u63d0\u4f9b\u7684\u4e2d\u8f6c\u4f5c\u7528\uff0c\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u5c31\u4e0d\u518d\u9700\u8981\u663e\u5f0f\u5f15\u7528\u5176\u4ed6\u540c\u4e8b\uff0c\u5f53\u9700\u8981\u548c\u5176\u4ed6\u540c\u4e8b\u8fdb\u884c\u901a\u4fe1\u65f6\uff0c\u901a\u8fc7\u4e2d\u4ecb\u8005\u5373\u53ef\u3002\u8be5\u4e2d\u8f6c\u4f5c\u7528\u5c5e\u4e8e\u4e2d\u4ecb\u8005\u5728\u7ed3\u6784\u4e0a\u7684\u652f\u6301\u3002 \u534f\u8c03\u4f5c\u7528\uff08\u884c\u4e3a\u6027\uff09 \uff1a\u4e2d\u4ecb\u8005\u53ef\u4ee5\u66f4\u8fdb\u4e00\u6b65\u7684\u5bf9\u540c\u4e8b\u4e4b\u95f4\u7684\u5173\u7cfb\u8fdb\u884c\u5c01\u88c5\uff0c\u540c\u4e8b\u53ef\u4ee5\u4e00\u81f4\u5730\u548c\u4e2d\u4ecb\u8005\u8fdb\u884c\u4ea4\u4e92\uff0c\u800c\u4e0d\u9700\u8981\u6307\u660e\u4e2d\u4ecb\u8005\u9700\u8981\u5177\u4f53\u600e\u4e48\u505a\uff0c\u4e2d\u4ecb\u8005\u6839\u636e\u5c01\u88c5\u5728\u81ea\u8eab\u5185\u90e8\u7684\u534f\u8c03\u903b\u8f91\uff0c\u5bf9\u540c\u4e8b\u7684\u8bf7\u6c42\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u5c06\u540c\u4e8b\u6210\u5458\u4e4b\u95f4\u7684\u5173\u7cfb\u884c\u4e3a\u8fdb\u884c\u5206\u79bb\u548c\u5c01\u88c5\u3002\u8be5\u534f\u8c03\u4f5c\u7528\u5c5e\u4e8e\u4e2d\u4ecb\u8005\u5728\u884c\u4e3a\u4e0a\u7684\u652f\u6301\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#1_1","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002 \u5c06\u5404\u540c\u4e8b\u89e3\u8026\u3002 \u51cf\u5c11\u5b50\u7c7b\u751f\u6210\u3002 \u53ef\u4ee5\u7b80\u5316\u5404\u540c\u4e8b\u7c7b\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#2_1","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5728\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u4e2d\u5305\u542b\u4e86\u540c\u4e8b\u4e4b\u95f4\u7684\u4ea4\u4e92\u7ec6\u8282\uff0c \u53ef\u80fd\u4f1a\u5bfc\u81f4\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u975e\u5e38\u590d\u6742\uff0c\u4f7f\u5f97\u7cfb\u7edf\u96be\u4ee5\u7ef4\u62a4 \u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#3","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff1a \u7cfb\u7edf\u4e2d\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4ea7\u751f\u7684\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u7ed3\u6784\u6df7\u4e71\u4e14\u96be\u4ee5\u7406\u89e3\u3002 \u4e00\u4e2a\u5bf9\u8c61\u7531\u4e8e\u5f15\u7528\u4e86\u5176\u4ed6\u5f88\u591a\u5bf9\u8c61\u5e76\u4e14\u76f4\u63a5\u548c\u8fd9\u4e9b\u5bf9\u8c61\u901a\u4fe1\uff0c\u5bfc\u81f4\u96be\u4ee5\u590d\u7528\u8be5\u5bf9\u8c61\u3002 \u60f3\u901a\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u7c7b\u6765\u5c01\u88c5\u591a\u4e2a\u7c7b\u4e2d\u7684\u884c\u4e3a\uff0c\u800c\u53c8\u4e0d\u60f3\u751f\u6210\u592a\u591a\u7684\u5b50\u7c7b\u3002\u53ef\u4ee5\u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\u7c7b\u6765\u5b9e\u73b0\uff0c\u5728\u4e2d\u4ecb\u8005\u4e2d\u5b9a\u4e49\u5bf9\u8c61\u3002 \u4ea4\u4e92\u7684\u516c\u5171\u884c\u4e3a\uff0c\u5982\u679c\u9700\u8981\u6539\u53d8\u884c\u4e3a\u5219\u53ef\u4ee5\u589e\u52a0\u65b0\u7684\u4e2d\u4ecb\u8005\u7c7b\u3002","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4e2d\u4ecb\u8005\u6a21\u5f0f.html#_6","text":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7528\u4e00\u4e2a\u4e2d\u4ecb\u5bf9\u8c61\u6765\u5c01\u88c5\u4e00\u7cfb\u5217\u7684\u5bf9\u8c61\u4ea4\u4e92\uff0c\u4e2d\u4ecb\u8005\u4f7f\u5404\u5bf9\u8c61\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u76f8\u4e92\u5f15\u7528\uff0c\u4ece\u800c\u4f7f\u5176\u8026\u5408\u677e\u6563\uff0c\u800c\u4e14\u53ef\u4ee5\u72ec\u7acb\u5730\u6539\u53d8\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53c8\u79f0\u4e3a\u8c03\u505c\u8005\u6a21\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4e2d\u4ecb\u8005\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u7528\u4e8e\u4e0e\u5404\u540c\u4e8b\u5bf9\u8c61\u4e4b\u95f4\u7684\u901a\u4fe1\uff1b\u5177\u4f53\u4e2d\u4ecb\u8005\u662f\u62bd\u8c61\u4e2d\u4ecb\u8005\u7684\u5b50\u7c7b\uff0c\u901a\u8fc7\u534f\u8c03\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u6765\u5b9e\u73b0\u534f\u4f5c\u884c\u4e3a\uff0c\u4e86\u89e3\u5e76\u7ef4\u62a4\u5b83\u7684\u5404\u4e2a\u540c\u4e8b\u5bf9\u8c61\u7684\u5f15\u7528\uff1b\u62bd\u8c61\u540c\u4e8b\u7c7b\u5b9a\u4e49\u5404\u540c\u4e8b\u7684\u516c\u6709\u65b9\u6cd5\uff1b\u5177\u4f53\u540c\u4e8b\u7c7b\u662f\u62bd\u8c61\u540c\u4e8b\u7c7b\u7684\u5b50\u7c7b\uff0c\u6bcf\u4e00\u4e2a\u540c\u4e8b\u5bf9\u8c61\u90fd\u5f15\u7528\u4e00\u4e2a\u4e2d\u4ecb\u8005\u5bf9\u8c61\uff1b\u6bcf\u4e00\u4e2a\u540c\u4e8b\u5bf9\u8c61\u5728\u9700\u8981\u548c\u5176\u4ed6\u540c\u4e8b\u5bf9\u8c61\u901a\u4fe1\u65f6\uff0c\u5148\u4e0e\u4e2d\u4ecb\u8005\u901a\u4fe1\uff0c\u901a\u8fc7\u4e2d\u4ecb\u8005\u6765\u95f4\u63a5\u5b8c\u6210\u4e0e\u5176\u4ed6\u540c\u4e8b\u7c7b\u7684\u901a\u4fe1\uff1b\u5728\u5177\u4f53\u540c\u4e8b\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u540c\u4e8b\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002 \u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5c06\u7cfb\u7edf\u7684\u7f51\u72b6\u7ed3\u6784\u53d8\u6210\u4ee5\u4e2d\u4ecb\u8005\u4e3a\u4e2d\u5fc3\u7684\u661f\u5f62\u7ed3\u6784\uff0c\u4e2d\u4ecb\u8005\u627f\u62c5\u4e86\u4e2d\u8f6c\u4f5c\u7528\u548c\u534f\u8c03\u4f5c\u7528\u3002\u4e2d\u4ecb\u8005\u7c7b\u662f\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u6838\u5fc3\uff0c\u5b83\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u63a7\u5236\u548c\u534f\u8c03\uff0c\u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u5bf9\u8c61\u95f4\u7684\u4ea4\u4e92\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u63a7\u5236\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u5c06\u5404\u540c\u4e8b\u89e3\u8026\uff0c\u8fd8\u53ef\u4ee5\u51cf\u5c11\u5b50\u7c7b\u751f\u6210\uff0c\u5bf9\u4e8e\u590d\u6742\u7684\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u901a\u8fc7\u5f15\u5165\u4e2d\u4ecb\u8005\uff0c\u53ef\u4ee5\u7b80\u5316\u5404\u540c\u4e8b\u7c7b\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\uff1b\u4e2d\u4ecb\u8005\u6a21\u5f0f\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u4e2d\u5305\u542b\u4e86\u540c\u4e8b\u4e4b\u95f4\u7684\u4ea4\u4e92\u7ec6\u8282\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5177\u4f53\u4e2d\u4ecb\u8005\u7c7b\u975e\u5e38\u590d\u6742\uff0c\u4f7f\u5f97\u7cfb\u7edf\u96be\u4ee5\u7ef4\u62a4\u3002 \u4e2d\u4ecb\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u590d\u6742\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4ea7\u751f\u7684\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u7ed3\u6784\u6df7\u4e71\u4e14\u96be\u4ee5\u7406\u89e3\uff1b\u4e00\u4e2a\u5bf9\u8c61\u7531\u4e8e\u5f15\u7528\u4e86\u5176\u4ed6\u5f88\u591a\u5bf9\u8c61\u5e76\u4e14\u76f4\u63a5\u548c\u8fd9\u4e9b\u5bf9\u8c61\u901a\u4fe1\uff0c\u5bfc\u81f4\u96be\u4ee5\u590d\u7528\u8be5\u5bf9\u8c61\uff1b\u60f3\u901a\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u7c7b\u6765\u5c01\u88c5\u591a\u4e2a\u7c7b\u4e2d\u7684\u884c\u4e3a\uff0c\u800c\u53c8\u4e0d\u60f3\u751f\u6210\u592a\u591a\u7684\u5b50\u7c7b\u3002","title":"\u516d\u3001\u6a21\u5f0f\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5ba2\u6237\u4e0d\u60f3\u6216\u8005\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u79f0\u4e4b\u4e3a\u201c\u4ee3\u7406\u201d\u7684\u7b2c\u4e09\u8005\u6765\u5b9e\u73b0\u95f4\u63a5\u5f15\u7528\u3002\u4ee3\u7406\u5bf9\u8c61\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u5bf9\u8c61\u4e4b\u95f4\u8d77\u5230\u4e2d\u4ecb\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u5bf9\u8c61\u53bb\u6389\u5ba2\u6237\u4e0d\u80fd\u770b\u5230 \u7684\u5185\u5bb9\u548c\u670d\u52a1\u6216\u8005\u6dfb\u52a0\u5ba2\u6237\u9700\u8981\u7684\u989d\u5916\u670d\u52a1\u3002 \u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u5b9e\u73b0\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u64cd\u4f5c\u6216\u8005\u5c06\u65b0\u7684\u5bf9\u8c61\u4f5c\u4e3a\u771f\u5b9e\u5bf9\u8c61\u7684\u4e00\u4e2a\u66ff\u8eab\uff0c\u8fd9\u79cd\u5b9e\u73b0\u673a\u5236\u5373\u4e3a\u4ee3\u7406\u6a21\u5f0f\uff0c\u901a\u8fc7\u5f15\u5165\u4ee3\u7406\u5bf9\u8c61\u6765\u95f4\u63a5\u8bbf\u95ee\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u5c31\u662f\u4ee3\u7406\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u4ee3\u7406\u6a21\u5f0f( Proxy Pattern ) \uff1a\u7ed9\u67d0\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u5e76\u7531\u4ee3\u7406\u5bf9\u8c61\u63a7\u5236\u5bf9\u539f\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u4ee3\u7406\u6a21\u5f0f\u7684\u82f1\u6587\u53eb\u505a Proxy \u6216 Surrogate \uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u4ee3\u7406\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Subject : \u62bd\u8c61\u4e3b\u9898\u89d2\u8272 RealSubject : \u771f\u5b9e\u4e3b\u9898\u89d2\u8272 Proxy : \u4ee3\u7406\u4e3b\u9898\u89d2\u8272 2. \u7ed3\u6784\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u4e3b\u9898\u63a5\u53e3\u548c\u771f\u5b9e\u4e3b\u9898\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 package com.blinkfox.patterns.proxy ; /** * \u62bd\u8c61\u4e3b\u9898\u7c7b */ public interface ISubject { /** * \u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5 */ public void request (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package com.blinkfox.patterns.proxy ; /** * \u771f\u5b9e\u4e3b\u9898\u7c7b */ public class RealSubject implements ISubject { /** * \u5b9e\u73b0\u65b9\u6cd5 */ @Override public void request () { System . out . println ( \"\u771f\u5b9e\u4e3b\u9898\u7c7b\u8bf7\u6c42\u65b9\u6cd5...\" ); } } \u7136\u540e\uff0c\u662f\u4ee3\u7406\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 package com.blinkfox.patterns.proxy ; /** * \u4ee3\u7406\u7c7b */ public class Proxy implements ISubject { private ISubject subject ; public Proxy ( ISubject subject ) { this . subject = subject ; } @Override public void request () { this . before (); this . subject . request (); this . after (); } /** * \u9884\u5904\u7406 */ private void before () { System . out . println ( \"\u6267\u884c\u524d(before)\u7684\u5904\u7406...\" ); } /** * \u5584\u540e\u5904\u7406 */ private void after () { System . out . println ( \"\u6267\u884c\u540e(after)\u7684\u5904\u7406...\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u6d4b\u8bd5\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 package com.blinkfox.patterns.proxy ; /** * \u4ee3\u7406\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b */ public class ProxyClient { public static void main ( String [] args ) { ISubject subject = new RealSubject (); Proxy proxy = new Proxy ( subject ); proxy . request (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 1. \u4f18\u70b9 \u00b6 \u4ee3\u7406\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u4ee3\u7406\u6a21\u5f0f\u80fd\u591f\u534f\u8c03\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86\u7cfb \u7edf\u7684\u8026\u5408\u5ea6\u3002 \u8fdc\u7a0b\u4ee3\u7406\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5\u8bbf\u95ee\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7684\u5bf9\u8c61\uff0c\u8fdc\u7a0b\u673a\u5668\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u8ba1\u7b97\u6027\u80fd\u4e0e\u5904\u7406\u901f\u5ea6\uff0c\u53ef\u4ee5\u5feb\u901f\u54cd\u5e94\u5e76\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002 \u865a\u62df\u4ee3\u7406\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u5c0f\u5bf9\u8c61\u6765\u4ee3\u8868\u4e00\u4e2a\u5927\u5bf9\u8c61\uff0c\u53ef\u4ee5\u51cf\u5c11\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\uff0c\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u5e76\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u4fdd\u62a4\u4ee3\u7406\u53ef\u4ee5\u63a7\u5236\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u4f7f\u7528\u6743\u9650\u3002 2. \u7f3a\u70b9 \u00b6 \u4ee3\u7406\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u7531\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u771f\u5b9e\u4e3b\u9898\u4e4b\u95f4\u589e\u52a0\u4e86\u4ee3\u7406\u5bf9\u8c61\uff0c\u56e0\u6b64\u6709\u4e9b\u7c7b\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u53ef\u80fd\u4f1a\u9020\u6210\u8bf7\u6c42\u7684\u5904\u7406\u901f\u5ea6\u53d8\u6162\u3002 \u5b9e\u73b0\u4ee3\u7406\u6a21\u5f0f\u9700\u8981\u989d\u5916\u7684\u5de5\u4f5c\uff0c\u6709\u4e9b\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u975e\u5e38\u590d\u6742\u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u6839\u636e\u4ee3\u7406\u6a21\u5f0f\u7684\u4f7f\u7528\u76ee\u7684\uff0c\u5e38\u89c1\u7684\u4ee3\u7406\u6a21\u5f0f\u6709\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\uff1a \u8fdc\u7a0b(Remote)\u4ee3\u7406 \uff1a\u4e3a\u4e00\u4e2a\u4f4d\u4e8e\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u672c\u5730\u7684\u4ee3\u7406\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u53ef\u4ee5\u662f\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e2d\uff0c\u4e5f\u53ef\u662f\u5728\u53e6\u4e00\u53f0\u4e3b\u673a\u4e2d\uff0c\u8fdc\u7a0b\u4ee3\u7406\u53c8\u53eb\u505a\u5927\u4f7f(Ambassador)\u3002 \u865a\u62df(Virtual)\u4ee3\u7406 \uff1a\u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u8d44\u6e90\u6d88\u8017\u8f83\u5927\u7684\u5bf9\u8c61\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u6d88\u8017\u76f8\u5bf9\u8f83\u5c0f\u7684\u5bf9\u8c61\u6765\u8868\u793a\uff0c\u771f\u5b9e\u5bf9\u8c61\u53ea\u5728\u9700\u8981\u65f6\u624d\u4f1a\u88ab\u771f\u6b63\u521b\u5efa\u3002 Copy-on-Write \u4ee3\u7406 \uff1a\u5b83\u662f\u865a\u62df\u4ee3\u7406\u7684\u4e00\u79cd\uff0c\u628a\u590d\u5236\uff08\u514b\u9686\uff09\u64cd\u4f5c\u5ef6\u8fdf \u5230\u53ea\u6709\u5728\u5ba2\u6237\u7aef\u771f\u6b63\u9700\u8981\u65f6\u624d\u6267\u884c\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u8c61\u7684\u6df1\u514b\u9686\u662f\u4e00\u4e2a\u5f00\u9500\u8f83\u5927\u7684\u64cd\u4f5c\uff0cCopy-on-Write \u4ee3\u7406\u53ef\u4ee5\u8ba9\u8fd9\u4e2a\u64cd\u4f5c\u5ef6\u8fdf\uff0c\u53ea\u6709\u5bf9\u8c61\u88ab\u7528\u5230\u7684\u65f6\u5019\u624d\u88ab\u514b\u9686\u3002 \u4fdd\u62a4(Protect or Access)\u4ee3\u7406 \uff1a\u63a7\u5236\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u53ef\u4ee5\u7ed9\u4e0d\u540c\u7684\u7528\u6237\u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7684\u4f7f\u7528\u6743\u9650\u3002 \u7f13\u51b2(Cache)\u4ee3\u7406 \uff1a\u4e3a\u67d0\u4e00\u4e2a\u76ee\u6807\u64cd\u4f5c\u7684\u7ed3\u679c\u63d0\u4f9b\u4e34\u65f6\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u591a\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e9b\u7ed3\u679c\u3002 \u9632\u706b\u5899(Firewall)\u4ee3\u7406 \uff1a\u4fdd\u62a4\u76ee\u6807\u4e0d\u8ba9\u6076\u610f\u7528\u6237\u63a5\u8fd1\u3002 \u540c\u6b65\u5316(Synchronization)\u4ee3\u7406 \uff1a\u4f7f\u51e0\u4e2a\u7528\u6237\u80fd\u591f\u540c\u65f6\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u800c\u6ca1\u6709\u51b2\u7a81\u3002 \u667a\u80fd\u5f15\u7528(Smart Reference)\u4ee3\u7406 \uff1a\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u5f15\u7528\u65f6\uff0c\u63d0\u4f9b\u4e00\u4e9b\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u5982\u5c06\u6b64\u5bf9\u8c61\u88ab\u8c03\u7528\u7684\u6b21\u6570\u8bb0\u5f55\u4e0b\u6765\u7b49\u3002 \u6a21\u5f0f\u603b\u7ed3 \u00b6 \u5728\u4ee3\u7406\u6a21\u5f0f\u4e2d\uff0c\u8981\u6c42\u7ed9\u67d0\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u5e76\u7531\u4ee3\u7406\u5bf9\u8c61\u63a7\u5236\u5bf9\u539f\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u4ee3\u7406\u6a21\u5f0f\u7684\u82f1\u6587\u53eb\u505a Proxy \u6216 Surrogate\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u4ee3\u7406\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4e3b\u9898\u89d2\u8272\u58f0\u660e\u4e86\u771f\u5b9e\u4e3b\u9898\u548c\u4ee3\u7406\u4e3b\u9898\u7684\u5171\u540c\u63a5\u53e3\uff1b\u4ee3\u7406\u4e3b\u9898\u89d2\u8272\u5185\u90e8\u5305\u542b\u5bf9\u771f\u5b9e\u4e3b\u9898\u7684\u5f15\u7528\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u64cd\u4f5c\u771f\u5b9e\u4e3b\u9898\u5bf9\u8c61\uff1b\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u5b9a\u4e49\u4e86\u4ee3\u7406\u89d2\u8272\u6240\u4ee3\u8868\u7684\u771f\u5b9e\u5bf9\u8c61\uff0c\u5728\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u4e2d\u5b9e\u73b0\u4e86\u771f\u5b9e\u7684\u4e1a\u52a1\u64cd\u4f5c\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u4e3b\u9898\u89d2\u8272\u95f4\u63a5\u8c03\u7528\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002 \u4ee3\u7406\u6a21\u5f0f\u7684\u4f18\u70b9\u5728\u4e8e\u80fd\u591f\u534f\u8c03\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u7531\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u771f\u5b9e\u4e3b\u9898\u4e4b\u95f4\u589e\u52a0\u4e86\u4ee3\u7406\u5bf9\u8c61\uff0c\u56e0\u6b64\u6709\u4e9b\u7c7b\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u53ef\u80fd\u4f1a\u9020\u6210\u8bf7\u6c42\u7684\u5904\u7406\u901f\u5ea6\u53d8\u6162\uff0c\u5e76\u4e14\u5b9e\u73b0\u4ee3\u7406\u6a21\u5f0f\u9700\u8981\u989d\u5916\u7684\u5de5\u4f5c\uff0c\u6709\u4e9b\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u975e\u5e38\u590d\u6742\u3002\u8fdc\u7a0b\u4ee3\u7406\u4e3a\u4e00\u4e2a\u4f4d\u4e8e\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u672c\u5730\u7684\u4ee3\u8868\u5bf9\u8c61\uff0c\u5b83\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5\u8bbf\u95ee\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7684\u5bf9\u8c61\uff0c\u8fdc\u7a0b\u673a\u5668\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u8ba1\u7b97\u6027\u80fd\u4e0e\u5904\u7406\u901f\u5ea6\uff0c\u53ef\u4ee5\u5feb\u901f\u54cd\u5e94\u5e76\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002 \u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u8d44\u6e90\u6d88\u8017\u8f83\u5927\u7684\u5bf9\u8c61\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u6d88\u8017\u76f8\u5bf9\u8f83\u5c0f\u7684\u5bf9\u8c61\u6765\u8868\u793a\uff0c\u771f\u5b9e\u5bf9\u8c61\u53ea\u5728\u9700\u8981\u65f6\u624d\u4f1a\u88ab\u771f\u6b63\u521b\u5efa\uff0c\u8fd9\u4e2a\u5c0f\u5bf9\u8c61\u79f0\u4e3a\u865a\u62df\u4ee3\u7406\u3002\u865a\u62df\u4ee3\u7406\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u5c0f\u5bf9\u8c61\u6765\u4ee3\u8868\u4e00\u4e2a\u5927\u5bf9\u8c61\uff0c\u53ef\u4ee5\u51cf\u5c11\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\uff0c\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u5e76\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u4fdd\u62a4\u4ee3\u7406\u53ef\u4ee5\u63a7\u5236\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u53ef\u4ee5\u7ed9\u4e0d\u540c\u7684\u7528\u6237\u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7684\u4f7f\u7528\u6743\u9650\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_1","text":"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5ba2\u6237\u4e0d\u60f3\u6216\u8005\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u79f0\u4e4b\u4e3a\u201c\u4ee3\u7406\u201d\u7684\u7b2c\u4e09\u8005\u6765\u5b9e\u73b0\u95f4\u63a5\u5f15\u7528\u3002\u4ee3\u7406\u5bf9\u8c61\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u5bf9\u8c61\u4e4b\u95f4\u8d77\u5230\u4e2d\u4ecb\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u5bf9\u8c61\u53bb\u6389\u5ba2\u6237\u4e0d\u80fd\u770b\u5230 \u7684\u5185\u5bb9\u548c\u670d\u52a1\u6216\u8005\u6dfb\u52a0\u5ba2\u6237\u9700\u8981\u7684\u989d\u5916\u670d\u52a1\u3002 \u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u5b9e\u73b0\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u64cd\u4f5c\u6216\u8005\u5c06\u65b0\u7684\u5bf9\u8c61\u4f5c\u4e3a\u771f\u5b9e\u5bf9\u8c61\u7684\u4e00\u4e2a\u66ff\u8eab\uff0c\u8fd9\u79cd\u5b9e\u73b0\u673a\u5236\u5373\u4e3a\u4ee3\u7406\u6a21\u5f0f\uff0c\u901a\u8fc7\u5f15\u5165\u4ee3\u7406\u5bf9\u8c61\u6765\u95f4\u63a5\u8bbf\u95ee\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u5c31\u662f\u4ee3\u7406\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_2","text":"\u4ee3\u7406\u6a21\u5f0f( Proxy Pattern ) \uff1a\u7ed9\u67d0\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u5e76\u7531\u4ee3\u7406\u5bf9\u8c61\u63a7\u5236\u5bf9\u539f\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u4ee3\u7406\u6a21\u5f0f\u7684\u82f1\u6587\u53eb\u505a Proxy \u6216 Surrogate \uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#1","text":"\u4ee3\u7406\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Subject : \u62bd\u8c61\u4e3b\u9898\u89d2\u8272 RealSubject : \u771f\u5b9e\u4e3b\u9898\u89d2\u8272 Proxy : \u4ee3\u7406\u4e3b\u9898\u89d2\u8272","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u4e3b\u9898\u63a5\u53e3\u548c\u771f\u5b9e\u4e3b\u9898\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 package com.blinkfox.patterns.proxy ; /** * \u62bd\u8c61\u4e3b\u9898\u7c7b */ public interface ISubject { /** * \u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5 */ public void request (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package com.blinkfox.patterns.proxy ; /** * \u771f\u5b9e\u4e3b\u9898\u7c7b */ public class RealSubject implements ISubject { /** * \u5b9e\u73b0\u65b9\u6cd5 */ @Override public void request () { System . out . println ( \"\u771f\u5b9e\u4e3b\u9898\u7c7b\u8bf7\u6c42\u65b9\u6cd5...\" ); } } \u7136\u540e\uff0c\u662f\u4ee3\u7406\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 package com.blinkfox.patterns.proxy ; /** * \u4ee3\u7406\u7c7b */ public class Proxy implements ISubject { private ISubject subject ; public Proxy ( ISubject subject ) { this . subject = subject ; } @Override public void request () { this . before (); this . subject . request (); this . after (); } /** * \u9884\u5904\u7406 */ private void before () { System . out . println ( \"\u6267\u884c\u524d(before)\u7684\u5904\u7406...\" ); } /** * \u5584\u540e\u5904\u7406 */ private void after () { System . out . println ( \"\u6267\u884c\u540e(after)\u7684\u5904\u7406...\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u6d4b\u8bd5\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 package com.blinkfox.patterns.proxy ; /** * \u4ee3\u7406\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b */ public class ProxyClient { public static void main ( String [] args ) { ISubject subject = new RealSubject (); Proxy proxy = new Proxy ( subject ); proxy . request (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_5","text":"","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#1_1","text":"\u4ee3\u7406\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u4ee3\u7406\u6a21\u5f0f\u80fd\u591f\u534f\u8c03\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86\u7cfb \u7edf\u7684\u8026\u5408\u5ea6\u3002 \u8fdc\u7a0b\u4ee3\u7406\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5\u8bbf\u95ee\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7684\u5bf9\u8c61\uff0c\u8fdc\u7a0b\u673a\u5668\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u8ba1\u7b97\u6027\u80fd\u4e0e\u5904\u7406\u901f\u5ea6\uff0c\u53ef\u4ee5\u5feb\u901f\u54cd\u5e94\u5e76\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002 \u865a\u62df\u4ee3\u7406\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u5c0f\u5bf9\u8c61\u6765\u4ee3\u8868\u4e00\u4e2a\u5927\u5bf9\u8c61\uff0c\u53ef\u4ee5\u51cf\u5c11\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\uff0c\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u5e76\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u4fdd\u62a4\u4ee3\u7406\u53ef\u4ee5\u63a7\u5236\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u4f7f\u7528\u6743\u9650\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#2_1","text":"\u4ee3\u7406\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u7531\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u771f\u5b9e\u4e3b\u9898\u4e4b\u95f4\u589e\u52a0\u4e86\u4ee3\u7406\u5bf9\u8c61\uff0c\u56e0\u6b64\u6709\u4e9b\u7c7b\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u53ef\u80fd\u4f1a\u9020\u6210\u8bf7\u6c42\u7684\u5904\u7406\u901f\u5ea6\u53d8\u6162\u3002 \u5b9e\u73b0\u4ee3\u7406\u6a21\u5f0f\u9700\u8981\u989d\u5916\u7684\u5de5\u4f5c\uff0c\u6709\u4e9b\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u975e\u5e38\u590d\u6742\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#3","text":"\u6839\u636e\u4ee3\u7406\u6a21\u5f0f\u7684\u4f7f\u7528\u76ee\u7684\uff0c\u5e38\u89c1\u7684\u4ee3\u7406\u6a21\u5f0f\u6709\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\uff1a \u8fdc\u7a0b(Remote)\u4ee3\u7406 \uff1a\u4e3a\u4e00\u4e2a\u4f4d\u4e8e\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u672c\u5730\u7684\u4ee3\u7406\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u53ef\u4ee5\u662f\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e2d\uff0c\u4e5f\u53ef\u662f\u5728\u53e6\u4e00\u53f0\u4e3b\u673a\u4e2d\uff0c\u8fdc\u7a0b\u4ee3\u7406\u53c8\u53eb\u505a\u5927\u4f7f(Ambassador)\u3002 \u865a\u62df(Virtual)\u4ee3\u7406 \uff1a\u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u8d44\u6e90\u6d88\u8017\u8f83\u5927\u7684\u5bf9\u8c61\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u6d88\u8017\u76f8\u5bf9\u8f83\u5c0f\u7684\u5bf9\u8c61\u6765\u8868\u793a\uff0c\u771f\u5b9e\u5bf9\u8c61\u53ea\u5728\u9700\u8981\u65f6\u624d\u4f1a\u88ab\u771f\u6b63\u521b\u5efa\u3002 Copy-on-Write \u4ee3\u7406 \uff1a\u5b83\u662f\u865a\u62df\u4ee3\u7406\u7684\u4e00\u79cd\uff0c\u628a\u590d\u5236\uff08\u514b\u9686\uff09\u64cd\u4f5c\u5ef6\u8fdf \u5230\u53ea\u6709\u5728\u5ba2\u6237\u7aef\u771f\u6b63\u9700\u8981\u65f6\u624d\u6267\u884c\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u8c61\u7684\u6df1\u514b\u9686\u662f\u4e00\u4e2a\u5f00\u9500\u8f83\u5927\u7684\u64cd\u4f5c\uff0cCopy-on-Write \u4ee3\u7406\u53ef\u4ee5\u8ba9\u8fd9\u4e2a\u64cd\u4f5c\u5ef6\u8fdf\uff0c\u53ea\u6709\u5bf9\u8c61\u88ab\u7528\u5230\u7684\u65f6\u5019\u624d\u88ab\u514b\u9686\u3002 \u4fdd\u62a4(Protect or Access)\u4ee3\u7406 \uff1a\u63a7\u5236\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u53ef\u4ee5\u7ed9\u4e0d\u540c\u7684\u7528\u6237\u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7684\u4f7f\u7528\u6743\u9650\u3002 \u7f13\u51b2(Cache)\u4ee3\u7406 \uff1a\u4e3a\u67d0\u4e00\u4e2a\u76ee\u6807\u64cd\u4f5c\u7684\u7ed3\u679c\u63d0\u4f9b\u4e34\u65f6\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u591a\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e9b\u7ed3\u679c\u3002 \u9632\u706b\u5899(Firewall)\u4ee3\u7406 \uff1a\u4fdd\u62a4\u76ee\u6807\u4e0d\u8ba9\u6076\u610f\u7528\u6237\u63a5\u8fd1\u3002 \u540c\u6b65\u5316(Synchronization)\u4ee3\u7406 \uff1a\u4f7f\u51e0\u4e2a\u7528\u6237\u80fd\u591f\u540c\u65f6\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u800c\u6ca1\u6709\u51b2\u7a81\u3002 \u667a\u80fd\u5f15\u7528(Smart Reference)\u4ee3\u7406 \uff1a\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u5f15\u7528\u65f6\uff0c\u63d0\u4f9b\u4e00\u4e9b\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u5982\u5c06\u6b64\u5bf9\u8c61\u88ab\u8c03\u7528\u7684\u6b21\u6570\u8bb0\u5f55\u4e0b\u6765\u7b49\u3002","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u4ee3\u7406\u6a21\u5f0f.html#_6","text":"\u5728\u4ee3\u7406\u6a21\u5f0f\u4e2d\uff0c\u8981\u6c42\u7ed9\u67d0\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u5e76\u7531\u4ee3\u7406\u5bf9\u8c61\u63a7\u5236\u5bf9\u539f\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u4ee3\u7406\u6a21\u5f0f\u7684\u82f1\u6587\u53eb\u505a Proxy \u6216 Surrogate\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u4ee3\u7406\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4e3b\u9898\u89d2\u8272\u58f0\u660e\u4e86\u771f\u5b9e\u4e3b\u9898\u548c\u4ee3\u7406\u4e3b\u9898\u7684\u5171\u540c\u63a5\u53e3\uff1b\u4ee3\u7406\u4e3b\u9898\u89d2\u8272\u5185\u90e8\u5305\u542b\u5bf9\u771f\u5b9e\u4e3b\u9898\u7684\u5f15\u7528\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u64cd\u4f5c\u771f\u5b9e\u4e3b\u9898\u5bf9\u8c61\uff1b\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u5b9a\u4e49\u4e86\u4ee3\u7406\u89d2\u8272\u6240\u4ee3\u8868\u7684\u771f\u5b9e\u5bf9\u8c61\uff0c\u5728\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u4e2d\u5b9e\u73b0\u4e86\u771f\u5b9e\u7684\u4e1a\u52a1\u64cd\u4f5c\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u4e3b\u9898\u89d2\u8272\u95f4\u63a5\u8c03\u7528\u771f\u5b9e\u4e3b\u9898\u89d2\u8272\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002 \u4ee3\u7406\u6a21\u5f0f\u7684\u4f18\u70b9\u5728\u4e8e\u80fd\u591f\u534f\u8c03\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u7531\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u771f\u5b9e\u4e3b\u9898\u4e4b\u95f4\u589e\u52a0\u4e86\u4ee3\u7406\u5bf9\u8c61\uff0c\u56e0\u6b64\u6709\u4e9b\u7c7b\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u53ef\u80fd\u4f1a\u9020\u6210\u8bf7\u6c42\u7684\u5904\u7406\u901f\u5ea6\u53d8\u6162\uff0c\u5e76\u4e14\u5b9e\u73b0\u4ee3\u7406\u6a21\u5f0f\u9700\u8981\u989d\u5916\u7684\u5de5\u4f5c\uff0c\u6709\u4e9b\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u975e\u5e38\u590d\u6742\u3002\u8fdc\u7a0b\u4ee3\u7406\u4e3a\u4e00\u4e2a\u4f4d\u4e8e\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u672c\u5730\u7684\u4ee3\u8868\u5bf9\u8c61\uff0c\u5b83\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5\u8bbf\u95ee\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7684\u5bf9\u8c61\uff0c\u8fdc\u7a0b\u673a\u5668\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u8ba1\u7b97\u6027\u80fd\u4e0e\u5904\u7406\u901f\u5ea6\uff0c\u53ef\u4ee5\u5feb\u901f\u54cd\u5e94\u5e76\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002 \u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u8d44\u6e90\u6d88\u8017\u8f83\u5927\u7684\u5bf9\u8c61\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u6d88\u8017\u76f8\u5bf9\u8f83\u5c0f\u7684\u5bf9\u8c61\u6765\u8868\u793a\uff0c\u771f\u5b9e\u5bf9\u8c61\u53ea\u5728\u9700\u8981\u65f6\u624d\u4f1a\u88ab\u771f\u6b63\u521b\u5efa\uff0c\u8fd9\u4e2a\u5c0f\u5bf9\u8c61\u79f0\u4e3a\u865a\u62df\u4ee3\u7406\u3002\u865a\u62df\u4ee3\u7406\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u5c0f\u5bf9\u8c61\u6765\u4ee3\u8868\u4e00\u4e2a\u5927\u5bf9\u8c61\uff0c\u53ef\u4ee5\u51cf\u5c11\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\uff0c\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u5e76\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u4fdd\u62a4\u4ee3\u7406\u53ef\u4ee5\u63a7\u5236\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u53ef\u4ee5\u7ed9\u4e0d\u540c\u7684\u7528\u6237\u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7684\u4f7f\u7528\u6743\u9650\u3002","title":"\u6a21\u5f0f\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html","text":"\u6a21\u5f0f\u52a8\u673a \u00b6 \u5bf9\u4e8e\u7cfb\u7edf\u4e2d\u7684\u67d0\u4e9b\u7c7b\u6765\u8bf4\uff0c\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5f88\u91cd\u8981\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5b58\u5728\u591a\u4e2a\u6253\u5370\u4efb\u52a1\uff0c\u4f46\u662f\u53ea\u80fd\u6709\u4e00\u4e2a\u6b63\u5728\u5de5\u4f5c\u7684\u4efb\u52a1\uff1b\u4e00\u4e2a\u7cfb\u7edf\u53ea\u80fd\u6709\u4e00\u4e2a\u7a97\u53e3\u7ba1\u7406\u5668\u6216\u6587\u4ef6\u7cfb\u7edf\uff1b\u4e00\u4e2a\u7cfb\u7edf\u53ea\u80fd\u6709\u4e00\u4e2a\u8ba1\u65f6\u5de5\u5177\u6216 ID\uff08\u5e8f\u53f7\uff09\u751f\u6210\u5668\u3002 \u5982\u4f55\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5e76\u4e14\u8fd9\u4e2a\u5b9e\u4f8b\u6613\u4e8e\u88ab\u8bbf\u95ee\u5462\uff1f\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u786e\u4fdd\u5bf9\u8c61\u968f\u65f6\u90fd\u53ef\u4ee5\u88ab\u8bbf\u95ee\uff0c\u4f46\u4e0d\u80fd\u9632\u6b62\u6211\u4eec\u5b9e\u4f8b\u5316\u591a\u4e2a\u5bf9\u8c61\u3002 \u4e00\u4e2a\u66f4\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u8ba9\u7c7b\u81ea\u8eab\u8d1f\u8d23\u4fdd\u5b58\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u4fdd\u8bc1\u6ca1\u6709\u5176\u4ed6\u5b9e\u4f8b\u88ab\u521b\u5efa\uff0c\u5e76\u4e14\u5b83\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u8be5\u5b9e\u4f8b\u7684\u65b9\u6cd5\u3002\u8fd9\u5c31\u662f\u5355\u4f8b\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u5355\u4f8b\u6a21\u5f0f( Singleton Pattern ) \uff1a\u5355\u4f8b\u6a21\u5f0f\u786e\u4fdd\u67d0\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u800c\u4e14\u81ea\u884c\u5b9e\u4f8b\u5316\u5e76\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u7c7b\u79f0\u4e3a\u5355\u4f8b\u7c7b\uff0c\u5b83\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u7684\u65b9\u6cd5\u3002\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f**\u3002\u5355\u4f8b\u6a21\u5f0f\u53c8\u540d\u5355\u4ef6\u6a21\u5f0f\u6216\u5355\u6001\u6a21\u5f0f\u3002 \u5355\u4f8b\u6a21\u5f0f\u7684\u8981\u70b9\u6709\u4e09\u4e2a\uff1a \u4e00\u662f\u67d0\u4e2a\u7c7b\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff1b \u4e8c\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u521b\u5efa\u8fd9\u4e2a\u5b9e\u4f8b\uff1b \u4e09\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\u3002 \u6a21\u5f0f\u7ed3\u6784 \u00b6 \u53c2\u4e0e\u89d2\u8272 \u00b6 Singleton : \u5355\u4f8b UML \u7c7b\u56fe \u00b6 \u65f6\u5e8f\u56fe \u00b6 \u4ee3\u7801\u5b9e\u73b0\u65b9\u5f0f \u00b6 1. \u997f\u6c49\u5f0f\uff08\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u997f\u6c49\u5f0f\u5355\u4f8b\u6a21\u5f0f. */ public class Singleton { /** \u5168\u5c40\u552f\u4e00\u5b9e\u4f8b. */ private static final Singleton singleton = new Singleton (); private Singleton () {} public static Singleton getSingleton () { return singleton ; } } \u6ce8 \uff1a\u8fd9\u79cd\u65b9\u5f0f\u907f\u514d\u4e86\u591a\u7ebf\u7a0b\u7684\u540c\u6b65\u95ee\u9898\uff0c\u4f46\u4e0d\u662f\u61d2\u52a0\u8f7d\u3002\u5982\u679c\u4e0d\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u63a8\u8350\u4f7f\u7528\u3002 2. \u975e\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u975e\u7ebf\u7a0b\u5b89\u5168\u7684\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u83b7\u53d6\u5b9e\u4f8b\uff0c\u4f46\u662f\u975e\u7ebf\u7a0b\u5b89\u5168. * @return Singleton\u5b9e\u4f8b */ public static Singleton getSingleton () { if ( singleton == null ) { singleton = new Singleton (); } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4f46\u975e\u7ebf\u7a0b\u5b89\u5168\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 3. \u4f4e\u6548\u7684\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u4f4e\u6548\u7684\u7ebf\u7a0b\u5b89\u5168\u7684\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7 synchronized \u5173\u952e\u5b57\u6765\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u4e5f\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u5b9e\u4f8b. * @return Singleton\u5b9e\u4f8b */ public static synchronized Singleton getSingleton () { if ( singleton == null ) { singleton = new Singleton (); } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4e5f\u7ebf\u7a0b\u5b89\u5168\uff0c\u4f46\u662f\u6548\u7387\u5f88\u4f4e\u3002\u56e0\u4e3a 99%\u7684\u60c5\u51b5\u4e0b\u662f\u4e0d\u9700\u8981\u53bb\u540c\u6b65\u7684\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 4. \u53cc\u91cd\u6821\u9a8c\u9501\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u53cc\u91cd\u6821\u9a8c\u9501\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7'\u53cc\u91cd\u6821\u9a8c\u9501'\u6765\u66f4\u9ad8\u6548\u7684\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u4e5f\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u5b9e\u4f8b. * @return Singleton\u5b9e\u4f8b */ public static Singleton getSingleton () { if ( singleton == null ) { synchronized ( Singleton . class ) { if ( singleton == null ) { singleton = new Singleton (); } } } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4e5f\u7ebf\u7a0b\u5b89\u5168\uff0c\u6548\u7387\u4e5f\u4e0d\u9519\u3002\u4f46\u53d7\u9650\u4e8e Jdk5 \u4ee5\u524d\u7684 Java \u5185\u5b58\u6a21\u578b\uff0c\u4ecd\u7136\u4f1a\u6709 bug\uff0cJava5 \u53ca\u4e4b\u540e\u624d\u80fd\u6b63\u5e38\u8fbe\u5230\u5355\u4f8b\u6548\u679c\u3002 5. \u679a\u4e3e\u5f0f\uff08\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 /** * \u679a\u4e3e\u65b9\u5f0f\u7684\u5355\u4f8b. */ public enum Singleton { INSTANCE ; } \u6ce8 \uff1a\u5728 \u300aEffective Java\u300b \u4e00\u4e66\u4e2d\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\u679a\u4e3e\u6765\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff0c\u8be5\u65b9\u5f0f\u7b80\u5355\u53ef\u81ea\u7531\u5e8f\u5217\u5316\uff1b\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff08\u5373\u4f7f\u4f7f\u7528\u53cd\u5c04\u673a\u5236\u4e5f\u65e0\u6cd5\u591a\u6b21\u5b9e\u4f8b\u5316\u4e00\u4e2a\u679a\u4e3e\u91cf\uff09\uff1b\u7ebf\u7a0b\u5b89\u5168\u3002\u552f\u4e00\u7684\u7f3a\u70b9\u662f\u975e\u61d2\u52a0\u8f7d\u65b9\u5f0f\u3002 6. \u9759\u6001\u5185\u90e8\u7c7b\uff08\u63a8\u8350\u4f7f\u7528\uff09 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 /** * \u901a\u8fc7\u4f7f\u7528\u9759\u6001\u5185\u90e8\u7c7b\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u61d2\u52a0\u8f7d\u4e14\u7ebf\u7a0b\u5b89\u5168\u7684\u521b\u5efa\u5355\u4f8b. */ public class Singleton { private Singleton () {} /** * \u9759\u6001\u5185\u90e8\u7c7b. */ private static final class SingletonHolder { private SingletonHolder () {} private static Singleton4 instance = new Singleton (); } /** * \u901a\u8fc7\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u83b7\u53d6Singleton\u552f\u4e00\u5b9e\u4f8b\u7684\u65b9\u6cd5. * @return Singleton\u5b9e\u4f8b */ public static Singleton getInstance () { return SingletonHolder . instance ; } } \u6ce8 \uff1a\u8fd9\u79cd\u65b9\u5f0f\u5229\u7528\u4e86 ClassLoader \u7684\u673a\u5236\u4fdd\u8bc1\u521d\u59cb\u5316 instance \u65f6\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5176\u53ea\u6709\u663e\u793a\u901a\u8fc7\u8c03\u7528 getInstance \u65b9\u6cd5\u65f6\uff0c\u624d\u4f1a\u663e\u793a\u88c5\u8f7d SingletonHolder \u7c7b\uff0c\u4ece\u800c\u5b9e\u4f8b\u5316 instance \u3002 \u6a21\u5f0f\u5206\u6790 \u00b6 \u5355\u4f8b\u6a21\u5f0f\u7684\u76ee\u7684\u662f\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u5b83\u7684\u5168\u5c40\u8bbf\u95ee\u70b9\u3002\u5355\u4f8b\u6a21\u5f0f\u5305\u542b\u7684\u89d2\u8272\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u5355\u4f8b\u7c7b\u2014\u2014 Singleton \u3002 \u4f18\u70b9 \u00b6 \u63d0\u4f9b\u4e86\u5bf9\u552f\u4e00\u5b9e\u4f8b\u7684\u53d7\u63a7\u8bbf\u95ee\u3002\u56e0\u4e3a\u5355\u4f8b\u7c7b\u5c01\u88c5\u4e86\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u4e25\u683c\u63a7\u5236\u5ba2\u6237\u600e\u6837\u4ee5\u53ca\u4f55\u65f6\u8bbf\u95ee\u5b83\uff0c\u5e76\u4e3a\u8bbe\u8ba1\u53ca\u5f00\u53d1\u56e2\u961f\u63d0\u4f9b\u4e86\u5171\u4eab\u7684\u6982\u5ff5\u3002 \u7531\u4e8e\u5728\u7cfb\u7edf\u5185\u5b58\u4e2d\u53ea\u5b58\u5728\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u8282\u7ea6\u7cfb\u7edf\u8d44\u6e90\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u9700\u8981\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\u7684\u5bf9\u8c61\uff0c\u5355\u4f8b\u6a21\u5f0f\u65e0\u7591\u53ef\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002 \u5141\u8bb8\u53ef\u53d8\u6570\u76ee\u7684\u5b9e\u4f8b\u3002\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u5355\u4f8b\u6a21\u5f0f\u8fdb\u884c\u6269\u5c55\uff0c\u4f7f\u7528\u4e0e\u5355\u4f8b\u63a7\u5236\u76f8\u4f3c\u7684\u65b9\u6cd5\u6765\u83b7\u5f97\u6307\u5b9a\u4e2a\u6570\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u7f3a\u70b9 \u00b6 \u7531\u4e8e\u5355\u4f8b\u6a21\u5f0f\u4e2d\u6ca1\u6709\u62bd\u8c61\u5c42\uff0c\u56e0\u6b64\u5355\u4f8b\u7c7b\u7684\u6269\u5c55\u6709\u5f88\u5927\u7684\u56f0\u96be\u3002 \u5355\u4f8b\u7c7b\u7684\u804c\u8d23\u8fc7\u91cd\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u8fdd\u80cc\u4e86\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\u3002\u56e0\u4e3a\u5355\u4f8b\u7c7b\u65e2\u5145\u5f53\u4e86\u5de5\u5382\u89d2\u8272\uff0c\u63d0\u4f9b\u4e86\u5de5\u5382\u65b9\u6cd5\uff0c\u540c\u65f6\u53c8\u5145\u5f53\u4e86\u4ea7\u54c1\u89d2\u8272\uff0c\u5305\u542b\u4e00\u4e9b\u4e1a\u52a1\u65b9\u6cd5\uff0c\u5c06\u4ea7\u54c1\u7684\u521b\u5efa\u548c\u4ea7\u54c1\u7684\u672c\u8eab\u7684\u529f\u80fd\u878d\u5408\u5230\u4e00\u8d77\u3002 \u6ee5\u7528\u5355\u4f8b\u5c06\u5e26\u6765\u4e00\u4e9b\u8d1f\u9762\u95ee\u9898\uff0c\u5982\u4e3a\u4e86\u8282\u7701\u8d44\u6e90\u5c06\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u5bf9\u8c61\u8bbe\u8ba1\u4e3a\u5355\u4f8b\u7c7b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5171\u4eab\u8fde\u63a5\u6c60\u5bf9\u8c61\u7684\u7a0b\u5e8f\u8fc7\u591a\u800c\u51fa\u73b0\u8fde\u63a5\u6c60\u6ea2\u51fa\uff1b\u73b0\u5728\u5f88\u591a\u9762\u5411\u5bf9\u8c61\u8bed\u8a00(\u5982 Java \u3001 C# )\u7684\u8fd0\u884c\u73af\u5883\u90fd\u63d0\u4f9b\u4e86\u81ea\u52a8\u5783\u573e\u56de\u6536\u7684\u6280\u672f\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\u957f\u65f6\u95f4\u4e0d\u88ab\u5229\u7528\uff0c\u7cfb\u7edf\u4f1a\u8ba4\u4e3a\u5b83\u662f\u5783\u573e\uff0c\u4f1a\u81ea\u52a8\u9500\u6bc1\u5e76\u56de\u6536\u8d44\u6e90\uff0c\u4e0b\u6b21\u5229\u7528\u65f6\u53c8\u5c06\u91cd\u65b0\u5b9e\u4f8b\u5316\uff0c\u8fd9\u5c06\u5bfc\u81f4\u5bf9\u8c61\u72b6\u6001\u7684\u4e22\u5931\u3002 \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\uff1a \u7cfb\u7edf\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5982\u7cfb\u7edf\u8981\u6c42\u63d0\u4f9b\u4e00\u4e2a\u552f\u4e00\u7684\u5e8f\u5217\u53f7\u751f\u6210\u5668\uff0c\u6216\u8005\u9700\u8981\u8003\u8651\u8d44\u6e90\u6d88\u8017\u592a\u5927\u800c\u53ea\u5141\u8bb8\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5ba2\u6237\u8c03\u7528\u7c7b\u7684\u5355\u4e2a\u5b9e\u4f8b\u53ea\u5141\u8bb8\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u8bbf\u95ee\u70b9\uff0c\u9664\u4e86\u8be5\u516c\u5171\u8bbf\u95ee\u70b9\uff0c\u4e0d\u80fd\u901a\u8fc7\u5176\u4ed6\u9014\u5f84\u8bbf\u95ee\u8be5\u5b9e\u4f8b\u3002 \u5728\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u8981\u6c42\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u65f6\u624d\u5e94\u5f53\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u3002\u53cd\u8fc7\u6765\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u6709\u51e0\u4e2a\u5b9e\u4f8b\u5171\u5b58\uff0c\u5c31\u9700\u8981\u5bf9\u5355\u4f8b\u6a21\u5f0f\u8fdb\u884c\u6539\u8fdb\uff0c\u4f7f\u4e4b\u6210\u4e3a\u591a\u4f8b\u6a21\u5f0f\u3002 \u603b\u7ed3 \u00b6 \u5355\u4f8b\u6a21\u5f0f\u786e\u4fdd\u67d0\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u800c\u4e14\u81ea\u884c\u5b9e\u4f8b\u5316\u5e76\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u7c7b\u79f0\u4e3a\u5355\u4f8b\u7c7b\uff0c\u5b83\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u7684\u65b9\u6cd5\u3002\u5355\u4f8b\u6a21\u5f0f\u7684\u8981\u70b9\u6709\u4e09\u4e2a\uff1a\u4e00\u662f\u67d0\u4e2a\u7c7b\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff1b\u4e8c\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u521b\u5efa\u8fd9\u4e2a\u5b9e\u4f8b\uff1b\u4e09\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\u3002\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f\u3002 \u5355\u4f8b\u6a21\u5f0f\u53ea\u5305\u542b\u4e00\u4e2a\u5355\u4f8b\u89d2\u8272\uff1a\u5728\u5355\u4f8b\u7c7b\u7684\u5185\u90e8\u5b9e\u73b0\u53ea\u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u540c\u65f6\u5b83\u63d0\u4f9b\u4e00\u4e2a\u9759\u6001\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u8ba9\u5ba2\u6237\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\uff1b\u4e3a\u4e86\u9632\u6b62\u5728\u5916\u90e8\u5bf9\u5176\u5b9e\u4f8b\u5316\uff0c\u5c06\u5176\u6784\u9020\u51fd\u6570\u8bbe\u8ba1\u4e3a\u79c1\u6709\u3002 \u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff0c\u5982\u679c\u4e0d\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u6548\u679c\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u679a\u4e3e\u548c\u997f\u6c49\u5f0f\u7684\u65b9\u5f0f\uff1b\u5982\u679c\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u6548\u679c\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u9759\u6001\u5185\u90e8\u7c7b\u6765\u5b9e\u73b0\u66f4\u597d\u3002 \u5355\u4f8b\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u63d0\u4f9b\u4e86\u5bf9\u552f\u4e00\u5b9e\u4f8b\u7684\u53d7\u63a7\u8bbf\u95ee\u5e76\u53ef\u4ee5\u8282\u7ea6\u7cfb\u7edf\u8d44\u6e90\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u56e0\u4e3a\u7f3a\u5c11\u62bd\u8c61\u5c42\u800c\u96be\u4ee5\u6269\u5c55\uff0c\u4e14\u5355\u4f8b\u7c7b\u804c\u8d23\u8fc7\u91cd\u3002 \u5355\u4f8b\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff1b\u5ba2\u6237\u8c03\u7528\u7c7b\u7684\u5355\u4e2a\u5b9e\u4f8b\u53ea\u5141\u8bb8\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u8bbf\u95ee\u70b9\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_1","text":"\u5bf9\u4e8e\u7cfb\u7edf\u4e2d\u7684\u67d0\u4e9b\u7c7b\u6765\u8bf4\uff0c\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5f88\u91cd\u8981\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5b58\u5728\u591a\u4e2a\u6253\u5370\u4efb\u52a1\uff0c\u4f46\u662f\u53ea\u80fd\u6709\u4e00\u4e2a\u6b63\u5728\u5de5\u4f5c\u7684\u4efb\u52a1\uff1b\u4e00\u4e2a\u7cfb\u7edf\u53ea\u80fd\u6709\u4e00\u4e2a\u7a97\u53e3\u7ba1\u7406\u5668\u6216\u6587\u4ef6\u7cfb\u7edf\uff1b\u4e00\u4e2a\u7cfb\u7edf\u53ea\u80fd\u6709\u4e00\u4e2a\u8ba1\u65f6\u5de5\u5177\u6216 ID\uff08\u5e8f\u53f7\uff09\u751f\u6210\u5668\u3002 \u5982\u4f55\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5e76\u4e14\u8fd9\u4e2a\u5b9e\u4f8b\u6613\u4e8e\u88ab\u8bbf\u95ee\u5462\uff1f\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u786e\u4fdd\u5bf9\u8c61\u968f\u65f6\u90fd\u53ef\u4ee5\u88ab\u8bbf\u95ee\uff0c\u4f46\u4e0d\u80fd\u9632\u6b62\u6211\u4eec\u5b9e\u4f8b\u5316\u591a\u4e2a\u5bf9\u8c61\u3002 \u4e00\u4e2a\u66f4\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u8ba9\u7c7b\u81ea\u8eab\u8d1f\u8d23\u4fdd\u5b58\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u4fdd\u8bc1\u6ca1\u6709\u5176\u4ed6\u5b9e\u4f8b\u88ab\u521b\u5efa\uff0c\u5e76\u4e14\u5b83\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u8be5\u5b9e\u4f8b\u7684\u65b9\u6cd5\u3002\u8fd9\u5c31\u662f\u5355\u4f8b\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_2","text":"\u5355\u4f8b\u6a21\u5f0f( Singleton Pattern ) \uff1a\u5355\u4f8b\u6a21\u5f0f\u786e\u4fdd\u67d0\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u800c\u4e14\u81ea\u884c\u5b9e\u4f8b\u5316\u5e76\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u7c7b\u79f0\u4e3a\u5355\u4f8b\u7c7b\uff0c\u5b83\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u7684\u65b9\u6cd5\u3002\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f**\u3002\u5355\u4f8b\u6a21\u5f0f\u53c8\u540d\u5355\u4ef6\u6a21\u5f0f\u6216\u5355\u6001\u6a21\u5f0f\u3002 \u5355\u4f8b\u6a21\u5f0f\u7684\u8981\u70b9\u6709\u4e09\u4e2a\uff1a \u4e00\u662f\u67d0\u4e2a\u7c7b\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff1b \u4e8c\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u521b\u5efa\u8fd9\u4e2a\u5b9e\u4f8b\uff1b \u4e09\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\u3002","title":"\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_3","text":"","title":"\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_4","text":"Singleton : \u5355\u4f8b","title":"\u53c2\u4e0e\u89d2\u8272"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#uml","text":"","title":"UML \u7c7b\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_5","text":"","title":"\u65f6\u5e8f\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_6","text":"","title":"\u4ee3\u7801\u5b9e\u73b0\u65b9\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#1","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u997f\u6c49\u5f0f\u5355\u4f8b\u6a21\u5f0f. */ public class Singleton { /** \u5168\u5c40\u552f\u4e00\u5b9e\u4f8b. */ private static final Singleton singleton = new Singleton (); private Singleton () {} public static Singleton getSingleton () { return singleton ; } } \u6ce8 \uff1a\u8fd9\u79cd\u65b9\u5f0f\u907f\u514d\u4e86\u591a\u7ebf\u7a0b\u7684\u540c\u6b65\u95ee\u9898\uff0c\u4f46\u4e0d\u662f\u61d2\u52a0\u8f7d\u3002\u5982\u679c\u4e0d\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u63a8\u8350\u4f7f\u7528\u3002","title":"1. \u997f\u6c49\u5f0f\uff08\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#2","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u975e\u7ebf\u7a0b\u5b89\u5168\u7684\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u83b7\u53d6\u5b9e\u4f8b\uff0c\u4f46\u662f\u975e\u7ebf\u7a0b\u5b89\u5168. * @return Singleton\u5b9e\u4f8b */ public static Singleton getSingleton () { if ( singleton == null ) { singleton = new Singleton (); } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4f46\u975e\u7ebf\u7a0b\u5b89\u5168\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u3002","title":"2. \u975e\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#3","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u4f4e\u6548\u7684\u7ebf\u7a0b\u5b89\u5168\u7684\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7 synchronized \u5173\u952e\u5b57\u6765\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u4e5f\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u5b9e\u4f8b. * @return Singleton\u5b9e\u4f8b */ public static synchronized Singleton getSingleton () { if ( singleton == null ) { singleton = new Singleton (); } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4e5f\u7ebf\u7a0b\u5b89\u5168\uff0c\u4f46\u662f\u6548\u7387\u5f88\u4f4e\u3002\u56e0\u4e3a 99%\u7684\u60c5\u51b5\u4e0b\u662f\u4e0d\u9700\u8981\u53bb\u540c\u6b65\u7684\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u3002","title":"3. \u4f4e\u6548\u7684\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#4","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u53cc\u91cd\u6821\u9a8c\u9501\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f. */ public class Singleton { private static Singleton singleton ; private Singleton () {} /** * \u901a\u8fc7'\u53cc\u91cd\u6821\u9a8c\u9501'\u6765\u66f4\u9ad8\u6548\u7684\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u4e5f\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u5b9e\u4f8b. * @return Singleton\u5b9e\u4f8b */ public static Singleton getSingleton () { if ( singleton == null ) { synchronized ( Singleton . class ) { if ( singleton == null ) { singleton = new Singleton (); } } } return singleton ; } } \u6ce8 \uff1a\u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\uff0c\u4e5f\u7ebf\u7a0b\u5b89\u5168\uff0c\u6548\u7387\u4e5f\u4e0d\u9519\u3002\u4f46\u53d7\u9650\u4e8e Jdk5 \u4ee5\u524d\u7684 Java \u5185\u5b58\u6a21\u578b\uff0c\u4ecd\u7136\u4f1a\u6709 bug\uff0cJava5 \u53ca\u4e4b\u540e\u624d\u80fd\u6b63\u5e38\u8fbe\u5230\u5355\u4f8b\u6548\u679c\u3002","title":"4. \u53cc\u91cd\u6821\u9a8c\u9501\u7ebf\u7a0b\u5b89\u5168\u61d2\u6c49\u5f0f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#5","text":"1 2 3 4 5 6 7 8 /** * \u679a\u4e3e\u65b9\u5f0f\u7684\u5355\u4f8b. */ public enum Singleton { INSTANCE ; } \u6ce8 \uff1a\u5728 \u300aEffective Java\u300b \u4e00\u4e66\u4e2d\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\u679a\u4e3e\u6765\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff0c\u8be5\u65b9\u5f0f\u7b80\u5355\u53ef\u81ea\u7531\u5e8f\u5217\u5316\uff1b\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff08\u5373\u4f7f\u4f7f\u7528\u53cd\u5c04\u673a\u5236\u4e5f\u65e0\u6cd5\u591a\u6b21\u5b9e\u4f8b\u5316\u4e00\u4e2a\u679a\u4e3e\u91cf\uff09\uff1b\u7ebf\u7a0b\u5b89\u5168\u3002\u552f\u4e00\u7684\u7f3a\u70b9\u662f\u975e\u61d2\u52a0\u8f7d\u65b9\u5f0f\u3002","title":"5. \u679a\u4e3e\u5f0f\uff08\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#6","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 /** * \u901a\u8fc7\u4f7f\u7528\u9759\u6001\u5185\u90e8\u7c7b\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u61d2\u52a0\u8f7d\u4e14\u7ebf\u7a0b\u5b89\u5168\u7684\u521b\u5efa\u5355\u4f8b. */ public class Singleton { private Singleton () {} /** * \u9759\u6001\u5185\u90e8\u7c7b. */ private static final class SingletonHolder { private SingletonHolder () {} private static Singleton4 instance = new Singleton (); } /** * \u901a\u8fc7\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u83b7\u53d6Singleton\u552f\u4e00\u5b9e\u4f8b\u7684\u65b9\u6cd5. * @return Singleton\u5b9e\u4f8b */ public static Singleton getInstance () { return SingletonHolder . instance ; } } \u6ce8 \uff1a\u8fd9\u79cd\u65b9\u5f0f\u5229\u7528\u4e86 ClassLoader \u7684\u673a\u5236\u4fdd\u8bc1\u521d\u59cb\u5316 instance \u65f6\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5176\u53ea\u6709\u663e\u793a\u901a\u8fc7\u8c03\u7528 getInstance \u65b9\u6cd5\u65f6\uff0c\u624d\u4f1a\u663e\u793a\u88c5\u8f7d SingletonHolder \u7c7b\uff0c\u4ece\u800c\u5b9e\u4f8b\u5316 instance \u3002","title":"6. \u9759\u6001\u5185\u90e8\u7c7b\uff08\u63a8\u8350\u4f7f\u7528\uff09"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_7","text":"\u5355\u4f8b\u6a21\u5f0f\u7684\u76ee\u7684\u662f\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u5b83\u7684\u5168\u5c40\u8bbf\u95ee\u70b9\u3002\u5355\u4f8b\u6a21\u5f0f\u5305\u542b\u7684\u89d2\u8272\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u5355\u4f8b\u7c7b\u2014\u2014 Singleton \u3002","title":"\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_8","text":"\u63d0\u4f9b\u4e86\u5bf9\u552f\u4e00\u5b9e\u4f8b\u7684\u53d7\u63a7\u8bbf\u95ee\u3002\u56e0\u4e3a\u5355\u4f8b\u7c7b\u5c01\u88c5\u4e86\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u4e25\u683c\u63a7\u5236\u5ba2\u6237\u600e\u6837\u4ee5\u53ca\u4f55\u65f6\u8bbf\u95ee\u5b83\uff0c\u5e76\u4e3a\u8bbe\u8ba1\u53ca\u5f00\u53d1\u56e2\u961f\u63d0\u4f9b\u4e86\u5171\u4eab\u7684\u6982\u5ff5\u3002 \u7531\u4e8e\u5728\u7cfb\u7edf\u5185\u5b58\u4e2d\u53ea\u5b58\u5728\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u8282\u7ea6\u7cfb\u7edf\u8d44\u6e90\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u9700\u8981\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\u7684\u5bf9\u8c61\uff0c\u5355\u4f8b\u6a21\u5f0f\u65e0\u7591\u53ef\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002 \u5141\u8bb8\u53ef\u53d8\u6570\u76ee\u7684\u5b9e\u4f8b\u3002\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u5355\u4f8b\u6a21\u5f0f\u8fdb\u884c\u6269\u5c55\uff0c\u4f7f\u7528\u4e0e\u5355\u4f8b\u63a7\u5236\u76f8\u4f3c\u7684\u65b9\u6cd5\u6765\u83b7\u5f97\u6307\u5b9a\u4e2a\u6570\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_9","text":"\u7531\u4e8e\u5355\u4f8b\u6a21\u5f0f\u4e2d\u6ca1\u6709\u62bd\u8c61\u5c42\uff0c\u56e0\u6b64\u5355\u4f8b\u7c7b\u7684\u6269\u5c55\u6709\u5f88\u5927\u7684\u56f0\u96be\u3002 \u5355\u4f8b\u7c7b\u7684\u804c\u8d23\u8fc7\u91cd\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u8fdd\u80cc\u4e86\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\u3002\u56e0\u4e3a\u5355\u4f8b\u7c7b\u65e2\u5145\u5f53\u4e86\u5de5\u5382\u89d2\u8272\uff0c\u63d0\u4f9b\u4e86\u5de5\u5382\u65b9\u6cd5\uff0c\u540c\u65f6\u53c8\u5145\u5f53\u4e86\u4ea7\u54c1\u89d2\u8272\uff0c\u5305\u542b\u4e00\u4e9b\u4e1a\u52a1\u65b9\u6cd5\uff0c\u5c06\u4ea7\u54c1\u7684\u521b\u5efa\u548c\u4ea7\u54c1\u7684\u672c\u8eab\u7684\u529f\u80fd\u878d\u5408\u5230\u4e00\u8d77\u3002 \u6ee5\u7528\u5355\u4f8b\u5c06\u5e26\u6765\u4e00\u4e9b\u8d1f\u9762\u95ee\u9898\uff0c\u5982\u4e3a\u4e86\u8282\u7701\u8d44\u6e90\u5c06\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u5bf9\u8c61\u8bbe\u8ba1\u4e3a\u5355\u4f8b\u7c7b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5171\u4eab\u8fde\u63a5\u6c60\u5bf9\u8c61\u7684\u7a0b\u5e8f\u8fc7\u591a\u800c\u51fa\u73b0\u8fde\u63a5\u6c60\u6ea2\u51fa\uff1b\u73b0\u5728\u5f88\u591a\u9762\u5411\u5bf9\u8c61\u8bed\u8a00(\u5982 Java \u3001 C# )\u7684\u8fd0\u884c\u73af\u5883\u90fd\u63d0\u4f9b\u4e86\u81ea\u52a8\u5783\u573e\u56de\u6536\u7684\u6280\u672f\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\u957f\u65f6\u95f4\u4e0d\u88ab\u5229\u7528\uff0c\u7cfb\u7edf\u4f1a\u8ba4\u4e3a\u5b83\u662f\u5783\u573e\uff0c\u4f1a\u81ea\u52a8\u9500\u6bc1\u5e76\u56de\u6536\u8d44\u6e90\uff0c\u4e0b\u6b21\u5229\u7528\u65f6\u53c8\u5c06\u91cd\u65b0\u5b9e\u4f8b\u5316\uff0c\u8fd9\u5c06\u5bfc\u81f4\u5bf9\u8c61\u72b6\u6001\u7684\u4e22\u5931\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_10","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\uff1a \u7cfb\u7edf\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5982\u7cfb\u7edf\u8981\u6c42\u63d0\u4f9b\u4e00\u4e2a\u552f\u4e00\u7684\u5e8f\u5217\u53f7\u751f\u6210\u5668\uff0c\u6216\u8005\u9700\u8981\u8003\u8651\u8d44\u6e90\u6d88\u8017\u592a\u5927\u800c\u53ea\u5141\u8bb8\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5ba2\u6237\u8c03\u7528\u7c7b\u7684\u5355\u4e2a\u5b9e\u4f8b\u53ea\u5141\u8bb8\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u8bbf\u95ee\u70b9\uff0c\u9664\u4e86\u8be5\u516c\u5171\u8bbf\u95ee\u70b9\uff0c\u4e0d\u80fd\u901a\u8fc7\u5176\u4ed6\u9014\u5f84\u8bbf\u95ee\u8be5\u5b9e\u4f8b\u3002 \u5728\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u8981\u6c42\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u65f6\u624d\u5e94\u5f53\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u3002\u53cd\u8fc7\u6765\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u6709\u51e0\u4e2a\u5b9e\u4f8b\u5171\u5b58\uff0c\u5c31\u9700\u8981\u5bf9\u5355\u4f8b\u6a21\u5f0f\u8fdb\u884c\u6539\u8fdb\uff0c\u4f7f\u4e4b\u6210\u4e3a\u591a\u4f8b\u6a21\u5f0f\u3002","title":"\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5355\u4f8b\u6a21\u5f0f.html#_11","text":"\u5355\u4f8b\u6a21\u5f0f\u786e\u4fdd\u67d0\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u800c\u4e14\u81ea\u884c\u5b9e\u4f8b\u5316\u5e76\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u7c7b\u79f0\u4e3a\u5355\u4f8b\u7c7b\uff0c\u5b83\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u7684\u65b9\u6cd5\u3002\u5355\u4f8b\u6a21\u5f0f\u7684\u8981\u70b9\u6709\u4e09\u4e2a\uff1a\u4e00\u662f\u67d0\u4e2a\u7c7b\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff1b\u4e8c\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u521b\u5efa\u8fd9\u4e2a\u5b9e\u4f8b\uff1b\u4e09\u662f\u5b83\u5fc5\u987b\u81ea\u884c\u5411\u6574\u4e2a\u7cfb\u7edf\u63d0\u4f9b\u8fd9\u4e2a\u5b9e\u4f8b\u3002\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f\u3002 \u5355\u4f8b\u6a21\u5f0f\u53ea\u5305\u542b\u4e00\u4e2a\u5355\u4f8b\u89d2\u8272\uff1a\u5728\u5355\u4f8b\u7c7b\u7684\u5185\u90e8\u5b9e\u73b0\u53ea\u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u540c\u65f6\u5b83\u63d0\u4f9b\u4e00\u4e2a\u9759\u6001\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u8ba9\u5ba2\u6237\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684\u552f\u4e00\u5b9e\u4f8b\uff1b\u4e3a\u4e86\u9632\u6b62\u5728\u5916\u90e8\u5bf9\u5176\u5b9e\u4f8b\u5316\uff0c\u5c06\u5176\u6784\u9020\u51fd\u6570\u8bbe\u8ba1\u4e3a\u79c1\u6709\u3002 \u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff0c\u5982\u679c\u4e0d\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u6548\u679c\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u679a\u4e3e\u548c\u997f\u6c49\u5f0f\u7684\u65b9\u5f0f\uff1b\u5982\u679c\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u6548\u679c\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u9759\u6001\u5185\u90e8\u7c7b\u6765\u5b9e\u73b0\u66f4\u597d\u3002 \u5355\u4f8b\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u63d0\u4f9b\u4e86\u5bf9\u552f\u4e00\u5b9e\u4f8b\u7684\u53d7\u63a7\u8bbf\u95ee\u5e76\u53ef\u4ee5\u8282\u7ea6\u7cfb\u7edf\u8d44\u6e90\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u56e0\u4e3a\u7f3a\u5c11\u62bd\u8c61\u5c42\u800c\u96be\u4ee5\u6269\u5c55\uff0c\u4e14\u5355\u4f8b\u7c7b\u804c\u8d23\u8fc7\u91cd\u3002 \u5355\u4f8b\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff1b\u5ba2\u6237\u8c03\u7528\u7c7b\u7684\u5355\u4e2a\u5b9e\u4f8b\u53ea\u5141\u8bb8\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u8bbf\u95ee\u70b9\u3002","title":"\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5728\u8f6f\u4ef6\u8bbe\u8ba1\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u5411\u67d0\u4e9b\u5bf9\u8c61\u53d1\u9001\u8bf7\u6c42\uff0c\u4f46\u662f\u5e76\u4e0d\u77e5\u9053\u8bf7\u6c42\u7684\u63a5\u6536\u8005\u662f\u8c01\uff0c\u4e5f\u4e0d\u77e5\u9053\u88ab\u8bf7\u6c42\u7684\u64cd\u4f5c\u662f\u54ea\u4e2a\uff0c\u6211\u4eec\u53ea\u9700\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6307\u5b9a\u5177\u4f53\u7684\u8bf7\u6c42\u63a5\u6536\u8005\u5373\u53ef\uff0c\u6b64\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\u6765\u8fdb\u884c\u8bbe\u8ba1\uff0c\u4f7f\u5f97\u8bf7\u6c42\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u63a5\u6536\u8005\u6d88\u9664\u5f7c\u6b64\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u8ba9\u5bf9\u8c61\u4e4b\u95f4\u7684\u8c03\u7528\u5173\u7cfb\u66f4\u52a0\u7075\u6d3b\u3002 \u547d\u4ee4\u6a21\u5f0f\u53ef\u4ee5\u5bf9\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u5b8c\u5168\u89e3\u8026\uff0c\u53d1\u9001\u8005\u4e0e\u63a5\u6536\u8005\u4e4b\u95f4\u6ca1\u6709\u76f4\u63a5\u5f15\u7528\u5173\u7cfb\uff0c\u53d1\u9001\u8bf7\u6c42\u7684\u5bf9\u8c61\u53ea\u9700\u8981\u77e5\u9053\u5982\u4f55\u53d1\u9001\u8bf7\u6c42\uff0c\u800c\u4e0d\u5fc5\u77e5\u9053\u5982\u4f55\u5b8c\u6210\u8bf7\u6c42\u3002\u8fd9\u5c31\u662f\u547d\u4ee4\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u547d\u4ee4\u6a21\u5f0f( Command Pattern ) \uff1a\u5c06\u4e00\u4e2a\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u6211\u4eec\u53ef\u7528\u4e0d\u540c\u7684\u8bf7\u6c42\u5bf9\u5ba2\u6237\u8fdb\u884c\u53c2\u6570\u5316\uff1b\u5bf9\u8bf7\u6c42\u6392\u961f\u6216\u8005\u8bb0\u5f55\u8bf7\u6c42\u65e5\u5fd7\uff0c\u4ee5\u53ca\u652f\u6301\u53ef\u64a4\u9500\u7684\u64cd\u4f5c\u3002\u547d\u4ee4\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\uff0c\u5176\u522b\u540d\u4e3a\u52a8\u4f5c( Action )\u6a21\u5f0f\u6216\u4e8b\u52a1( Transaction )\u6a21\u5f0f\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u547d\u4ee4\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Command : \u62bd\u8c61\u547d\u4ee4\u7c7b ConcreteCommand : \u5177\u4f53\u547d\u4ee4\u7c7b Invoker : \u8c03\u7528\u8005 Receiver : \u63a5\u6536\u8005 Client : \u5ba2\u6237\u7c7b 2. \u7ed3\u6784\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684 Receiver \u7c7b\u548c\u5177\u4f53\u7684 Receiver \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u901a\u7528\u7684\u62bd\u8c61 Receiver \u63a5\u6536\u8005. */ public abstract class Receiver { /** * \u5b9a\u4e49\u6bcf\u4e2a\u63a5\u6536\u8005\u90fd\u5fc5\u987b\u5b8c\u6210\u7684\u4e1a\u52a1. */ public abstract void doSomething (); } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u7684 Receiver \u7c7b1. */ public class ConcreteReceiver1 extends Receiver { @Override public void doSomething () { System . out . println ( \"ConcreteReceiver1 \u5904\u7406\u7684\u4e1a\u52a1\u903b\u8f91...\" ); } } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u7684 Receiver \u7c7b2. */ public class ConcreteReceiver2 extends Receiver { @Override public void doSomething () { System . out . println ( \"ConcreteReceiver2 \u5904\u7406\u7684\u4e1a\u52a1\u903b\u8f91...\" ); } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684 Command \u7c7b\u548c\u5177\u4f53\u7684 Command \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u62bd\u8c61\u7684 Command \u7c7b. */ public abstract class Command { /** * \u547d\u4ee4\u7684\u62bd\u8c61\u6267\u884c\u547d\u4ee4\u7684\u65b9\u6cd5. */ public abstract void execute (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5177\u4f53\u7684 Command \u547d\u4ee4\u7c7b1. */ public class ConcreteCommand1 extends Command { /** \u5bf9\u54ea\u4e2areceiver\u7c7b\u8fdb\u884c\u5904\u7406. */ private Receiver receiver ; public ConcreteCommand1 ( Receiver receiver ) { this . receiver = receiver ; } /** * \u5fc5\u987b\u5b9e\u73b0\u7684\u4e00\u4e2a\u547d\u4ee4. */ @Override public void execute () { this . receiver . doSomething (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5177\u4f53\u7684 Command \u547d\u4ee4\u7c7b2. */ public class ConcreteCommand2 extends Command { /** \u5bf9\u54ea\u4e2areceiver\u7c7b\u8fdb\u884c\u5904\u7406. */ private Receiver receiver ; public ConcreteCommand2 ( Receiver receiver ) { this . receiver = receiver ; } /** * \u5fc5\u987b\u5b9e\u73b0\u7684\u547d\u4ee4. */ @Override public void execute () { this . receiver . doSomething (); } } \u6700\u540e\uff0c\u8c03\u7528\u8005 Invoker \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u8c03\u7528\u8005 Invoker \u7c7b. */ public class Invoker { private Command command ; public void setCommand ( Command command ) { this . command = command ; } /** * \u6267\u884c\u547d\u4ee4. */ public void action () { this . command . execute (); } } \u4ee5\u4e0b\u662f\u547d\u4ee4\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u547d\u4ee4\u6a21\u5f0f\u7684\u573a\u666f\u7c7b. */ public class CommandClient { public static void main ( String [] args ) { Invoker invoker = new Invoker (); Receiver receiver = new ConcreteReceiver1 (); Command command = new ConcreteCommand1 ( receiver ); // \u628a\u547d\u4ee4\u4ea4\u7ed9\u8c03\u7528\u8005\u6267\u884c invoker . setCommand ( command ); invoker . action (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u547d\u4ee4\u6a21\u5f0f\u7684\u672c\u8d28\u662f\u5bf9\u547d\u4ee4\u8fdb\u884c\u5c01\u88c5\uff0c\u5c06\u53d1\u51fa\u547d\u4ee4\u7684\u8d23\u4efb\u548c\u6267\u884c\u547d\u4ee4\u7684\u8d23\u4efb\u5206\u5272\u5f00 \u3002 \u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u662f\u4e00\u4e2a\u64cd\u4f5c\uff1a\u8bf7\u6c42\u7684\u4e00\u65b9\u53d1\u51fa\u8bf7\u6c42\uff0c\u8981\u6c42\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\uff1b\u63a5\u6536\u7684\u4e00\u65b9\u6536\u5230\u8bf7\u6c42\uff0c\u5e76\u6267\u884c\u64cd\u4f5c\u3002 \u547d\u4ee4\u6a21\u5f0f\u5141\u8bb8\u8bf7\u6c42\u7684\u4e00\u65b9\u548c\u63a5\u6536\u7684\u4e00\u65b9\u72ec\u7acb\u5f00\u6765\uff0c\u4f7f\u5f97\u8bf7\u6c42\u7684\u4e00\u65b9\u4e0d\u5fc5\u77e5\u9053\u63a5\u6536\u8bf7\u6c42\u7684\u4e00\u65b9\u7684\u63a5\u53e3\uff0c\u66f4\u4e0d\u5fc5\u77e5\u9053\u8bf7\u6c42\u662f\u600e\u4e48\u88ab\u63a5\u6536\uff0c\u4ee5\u53ca\u64cd\u4f5c\u662f\u5426\u88ab\u6267\u884c\u3001\u4f55\u65f6\u88ab\u6267\u884c\uff0c\u4ee5\u53ca\u662f\u600e\u4e48\u88ab\u6267\u884c\u7684\u3002 \u547d\u4ee4\u6a21\u5f0f\u4f7f\u8bf7\u6c42\u672c\u8eab\u6210\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u53ef\u4ee5\u88ab\u5b58\u50a8\u548c\u4f20\u9012\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u5173\u952e\u5728\u4e8e\u5f15\u5165\u4e86\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\uff0c\u4e14\u53d1\u9001\u8005\u9488\u5bf9\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\u7f16\u7a0b\uff0c\u53ea\u6709\u5b9e\u73b0\u4e86\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\u7684\u5177\u4f53\u547d\u4ee4\u624d\u80fd\u4e0e\u63a5\u6536\u8005\u76f8\u5173\u8054\u3002 1. \u4f18\u70b9 \u00b6 \u547d\u4ee4\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\u3002 \u65b0\u7684\u547d\u4ee4\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u52a0\u5165\u5230\u7cfb\u7edf\u4e2d\u3002 \u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u5730\u8bbe\u8ba1\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\u548c\u5b8f\u547d\u4ee4\uff08\u7ec4\u5408\u547d\u4ee4\uff09\u3002 \u53ef\u4ee5\u65b9\u4fbf\u5730\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684 Undo \u548c Redo \u3002 2. \u7f3a\u70b9 \u00b6 \u547d\u4ee4\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u7cfb\u7edf\u6709\u8fc7\u591a\u7684\u5177\u4f53\u547d\u4ee4\u7c7b\u3002\u56e0\u4e3a\u9488\u5bf9\u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u9700\u8981\u8bbe\u8ba1\u4e00\u4e2a\u5177\u4f53\u547d\u4ee4\u7c7b\uff0c\u56e0\u6b64\u67d0\u4e9b\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u5927\u91cf\u5177\u4f53\u547d\u4ee4\u7c7b\uff0c\u8fd9\u5c06\u5f71\u54cd\u547d\u4ee4\u6a21\u5f0f\u7684\u4f7f\u7528\u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\uff1a \u7cfb\u7edf\u9700\u8981\u5c06\u8bf7\u6c42\u8c03\u7528\u8005\u548c\u8bf7\u6c42\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4f7f\u5f97\u8c03\u7528\u8005\u548c\u63a5\u6536\u8005\u4e0d\u76f4\u63a5\u4ea4\u4e92\u3002 \u7cfb\u7edf\u9700\u8981\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6307\u5b9a\u8bf7\u6c42\u3001\u5c06\u8bf7\u6c42\u6392\u961f\u548c\u6267\u884c\u8bf7\u6c42\u3002 \u7cfb\u7edf\u9700\u8981\u652f\u6301\u547d\u4ee4\u7684\u64a4\u9500(Undo)\u64cd\u4f5c\u548c\u6062\u590d(Redo)\u64cd\u4f5c\u3002 \u7cfb\u7edf\u9700\u8981\u5c06\u4e00\u7ec4\u64cd\u4f5c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5373\u652f\u6301\u5b8f\u547d\u4ee4 \u516d\u3001\u6a21\u5f0f\u603b\u7ed3 \u00b6 \u5728\u547d\u4ee4\u6a21\u5f0f\u4e2d\uff0c\u5c06\u4e00\u4e2a\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u6211\u4eec\u53ef\u7528\u4e0d\u540c\u7684\u8bf7\u6c42\u5bf9\u5ba2\u6237\u8fdb\u884c\u53c2\u6570\u5316\uff1b\u5bf9\u8bf7\u6c42\u6392\u961f\u6216\u8005\u8bb0\u5f55\u8bf7\u6c42\u65e5\u5fd7\uff0c\u4ee5\u53ca\u652f\u6301\u53ef\u64a4\u9500\u7684\u64cd\u4f5c\u3002\u547d\u4ee4\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\uff0c\u5176\u522b\u540d\u4e3a\u52a8\u4f5c\u6a21\u5f0f\u6216\u4e8b\u52a1\u6a21\u5f0f\u3002 \u547d\u4ee4\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u547d\u4ee4\u7c7b\u4e2d\u58f0\u660e\u4e86\u7528\u4e8e\u6267\u884c\u8bf7\u6c42\u7684 execute() \u7b49\u65b9\u6cd5\uff0c\u901a\u8fc7\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\u8bf7\u6c42\u63a5\u6536\u8005\u7684\u76f8\u5173\u64cd\u4f5c\uff1b\u5177\u4f53\u547d\u4ee4\u7c7b\u662f\u62bd\u8c61\u547d\u4ee4\u7c7b\u7684\u5b50\u7c7b\uff0c\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u547d\u4ee4\u7c7b\u4e2d\u58f0\u660e\u7684\u65b9\u6cd5\uff0c\u5b83\u5bf9\u5e94\u5177\u4f53\u7684\u63a5\u6536\u8005\u5bf9\u8c61\uff0c\u5c06\u63a5\u6536\u8005\u5bf9\u8c61\u7684\u52a8\u4f5c\u7ed1\u5b9a\u5176\u4e2d\uff1b\u8c03\u7528\u8005\u5373\u8bf7\u6c42\u7684\u53d1\u9001\u8005\uff0c\u53c8\u79f0\u4e3a\u8bf7\u6c42\u8005\uff0c\u5b83\u901a\u8fc7\u547d\u4ee4\u5bf9\u8c61\u6765\u6267\u884c\u8bf7\u6c42\uff1b\u63a5\u6536\u8005\u6267\u884c\u4e0e\u8bf7\u6c42\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u5b83\u5177\u4f53\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684\u4e1a\u52a1\u5904\u7406\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u672c\u8d28\u662f\u5bf9\u547d\u4ee4\u8fdb\u884c\u5c01\u88c5\uff0c\u5c06\u53d1\u51fa\u547d\u4ee4\u7684\u8d23\u4efb\u548c\u6267\u884c\u547d\u4ee4\u7684\u8d23\u4efb\u5206\u5272\u5f00\u3002\u547d\u4ee4\u6a21\u5f0f\u4f7f\u8bf7\u6c42\u672c\u8eab\u6210\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u53ef\u4ee5\u88ab\u5b58\u50a8\u548c\u4f20\u9012\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff0c\u589e\u52a0\u65b0\u7684\u547d\u4ee4\u5f88\u65b9\u4fbf\uff0c\u800c\u4e14\u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u5730\u8bbe\u8ba1\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\u548c\u5b8f\u547d\u4ee4\uff0c\u5e76\u65b9\u4fbf\u5730\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684\u64a4\u9500\u548c\u6062\u590d\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u7cfb\u7edf\u6709\u8fc7\u591a\u7684\u5177\u4f53\u547d\u4ee4\u7c7b\u3002 \u547d\u4ee4\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u5c06\u8bf7\u6c42\u8c03\u7528\u8005\u548c\u8bf7\u6c42\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4f7f\u5f97\u8c03\u7528\u8005\u548c\u63a5\u6536\u8005\u4e0d\u76f4\u63a5\u4ea4\u4e92\uff1b\u9700\u8981\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6307\u5b9a\u8bf7\u6c42\u3001\u5c06\u8bf7\u6c42\u6392\u961f\u548c\u6267\u884c\u8bf7\u6c42\uff1b\u9700\u8981\u652f\u6301\u547d\u4ee4\u7684\u64a4\u9500\u64cd\u4f5c\u548c\u6062\u590d\u64cd\u4f5c\uff0c\u9700\u8981\u5c06\u4e00\u7ec4\u64cd\u4f5c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5373\u652f\u6301\u5b8f\u547d\u4ee4\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_1","text":"\u5728\u8f6f\u4ef6\u8bbe\u8ba1\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u5411\u67d0\u4e9b\u5bf9\u8c61\u53d1\u9001\u8bf7\u6c42\uff0c\u4f46\u662f\u5e76\u4e0d\u77e5\u9053\u8bf7\u6c42\u7684\u63a5\u6536\u8005\u662f\u8c01\uff0c\u4e5f\u4e0d\u77e5\u9053\u88ab\u8bf7\u6c42\u7684\u64cd\u4f5c\u662f\u54ea\u4e2a\uff0c\u6211\u4eec\u53ea\u9700\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6307\u5b9a\u5177\u4f53\u7684\u8bf7\u6c42\u63a5\u6536\u8005\u5373\u53ef\uff0c\u6b64\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\u6765\u8fdb\u884c\u8bbe\u8ba1\uff0c\u4f7f\u5f97\u8bf7\u6c42\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u63a5\u6536\u8005\u6d88\u9664\u5f7c\u6b64\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u8ba9\u5bf9\u8c61\u4e4b\u95f4\u7684\u8c03\u7528\u5173\u7cfb\u66f4\u52a0\u7075\u6d3b\u3002 \u547d\u4ee4\u6a21\u5f0f\u53ef\u4ee5\u5bf9\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u5b8c\u5168\u89e3\u8026\uff0c\u53d1\u9001\u8005\u4e0e\u63a5\u6536\u8005\u4e4b\u95f4\u6ca1\u6709\u76f4\u63a5\u5f15\u7528\u5173\u7cfb\uff0c\u53d1\u9001\u8bf7\u6c42\u7684\u5bf9\u8c61\u53ea\u9700\u8981\u77e5\u9053\u5982\u4f55\u53d1\u9001\u8bf7\u6c42\uff0c\u800c\u4e0d\u5fc5\u77e5\u9053\u5982\u4f55\u5b8c\u6210\u8bf7\u6c42\u3002\u8fd9\u5c31\u662f\u547d\u4ee4\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_2","text":"\u547d\u4ee4\u6a21\u5f0f( Command Pattern ) \uff1a\u5c06\u4e00\u4e2a\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u6211\u4eec\u53ef\u7528\u4e0d\u540c\u7684\u8bf7\u6c42\u5bf9\u5ba2\u6237\u8fdb\u884c\u53c2\u6570\u5316\uff1b\u5bf9\u8bf7\u6c42\u6392\u961f\u6216\u8005\u8bb0\u5f55\u8bf7\u6c42\u65e5\u5fd7\uff0c\u4ee5\u53ca\u652f\u6301\u53ef\u64a4\u9500\u7684\u64cd\u4f5c\u3002\u547d\u4ee4\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\uff0c\u5176\u522b\u540d\u4e3a\u52a8\u4f5c( Action )\u6a21\u5f0f\u6216\u4e8b\u52a1( Transaction )\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#1","text":"\u547d\u4ee4\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Command : \u62bd\u8c61\u547d\u4ee4\u7c7b ConcreteCommand : \u5177\u4f53\u547d\u4ee4\u7c7b Invoker : \u8c03\u7528\u8005 Receiver : \u63a5\u6536\u8005 Client : \u5ba2\u6237\u7c7b","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684 Receiver \u7c7b\u548c\u5177\u4f53\u7684 Receiver \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u901a\u7528\u7684\u62bd\u8c61 Receiver \u63a5\u6536\u8005. */ public abstract class Receiver { /** * \u5b9a\u4e49\u6bcf\u4e2a\u63a5\u6536\u8005\u90fd\u5fc5\u987b\u5b8c\u6210\u7684\u4e1a\u52a1. */ public abstract void doSomething (); } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u7684 Receiver \u7c7b1. */ public class ConcreteReceiver1 extends Receiver { @Override public void doSomething () { System . out . println ( \"ConcreteReceiver1 \u5904\u7406\u7684\u4e1a\u52a1\u903b\u8f91...\" ); } } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u7684 Receiver \u7c7b2. */ public class ConcreteReceiver2 extends Receiver { @Override public void doSomething () { System . out . println ( \"ConcreteReceiver2 \u5904\u7406\u7684\u4e1a\u52a1\u903b\u8f91...\" ); } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684 Command \u7c7b\u548c\u5177\u4f53\u7684 Command \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u62bd\u8c61\u7684 Command \u7c7b. */ public abstract class Command { /** * \u547d\u4ee4\u7684\u62bd\u8c61\u6267\u884c\u547d\u4ee4\u7684\u65b9\u6cd5. */ public abstract void execute (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5177\u4f53\u7684 Command \u547d\u4ee4\u7c7b1. */ public class ConcreteCommand1 extends Command { /** \u5bf9\u54ea\u4e2areceiver\u7c7b\u8fdb\u884c\u5904\u7406. */ private Receiver receiver ; public ConcreteCommand1 ( Receiver receiver ) { this . receiver = receiver ; } /** * \u5fc5\u987b\u5b9e\u73b0\u7684\u4e00\u4e2a\u547d\u4ee4. */ @Override public void execute () { this . receiver . doSomething (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5177\u4f53\u7684 Command \u547d\u4ee4\u7c7b2. */ public class ConcreteCommand2 extends Command { /** \u5bf9\u54ea\u4e2areceiver\u7c7b\u8fdb\u884c\u5904\u7406. */ private Receiver receiver ; public ConcreteCommand2 ( Receiver receiver ) { this . receiver = receiver ; } /** * \u5fc5\u987b\u5b9e\u73b0\u7684\u547d\u4ee4. */ @Override public void execute () { this . receiver . doSomething (); } } \u6700\u540e\uff0c\u8c03\u7528\u8005 Invoker \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u8c03\u7528\u8005 Invoker \u7c7b. */ public class Invoker { private Command command ; public void setCommand ( Command command ) { this . command = command ; } /** * \u6267\u884c\u547d\u4ee4. */ public void action () { this . command . execute (); } } \u4ee5\u4e0b\u662f\u547d\u4ee4\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u547d\u4ee4\u6a21\u5f0f\u7684\u573a\u666f\u7c7b. */ public class CommandClient { public static void main ( String [] args ) { Invoker invoker = new Invoker (); Receiver receiver = new ConcreteReceiver1 (); Command command = new ConcreteCommand1 ( receiver ); // \u628a\u547d\u4ee4\u4ea4\u7ed9\u8c03\u7528\u8005\u6267\u884c invoker . setCommand ( command ); invoker . action (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_5","text":"\u547d\u4ee4\u6a21\u5f0f\u7684\u672c\u8d28\u662f\u5bf9\u547d\u4ee4\u8fdb\u884c\u5c01\u88c5\uff0c\u5c06\u53d1\u51fa\u547d\u4ee4\u7684\u8d23\u4efb\u548c\u6267\u884c\u547d\u4ee4\u7684\u8d23\u4efb\u5206\u5272\u5f00 \u3002 \u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u662f\u4e00\u4e2a\u64cd\u4f5c\uff1a\u8bf7\u6c42\u7684\u4e00\u65b9\u53d1\u51fa\u8bf7\u6c42\uff0c\u8981\u6c42\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\uff1b\u63a5\u6536\u7684\u4e00\u65b9\u6536\u5230\u8bf7\u6c42\uff0c\u5e76\u6267\u884c\u64cd\u4f5c\u3002 \u547d\u4ee4\u6a21\u5f0f\u5141\u8bb8\u8bf7\u6c42\u7684\u4e00\u65b9\u548c\u63a5\u6536\u7684\u4e00\u65b9\u72ec\u7acb\u5f00\u6765\uff0c\u4f7f\u5f97\u8bf7\u6c42\u7684\u4e00\u65b9\u4e0d\u5fc5\u77e5\u9053\u63a5\u6536\u8bf7\u6c42\u7684\u4e00\u65b9\u7684\u63a5\u53e3\uff0c\u66f4\u4e0d\u5fc5\u77e5\u9053\u8bf7\u6c42\u662f\u600e\u4e48\u88ab\u63a5\u6536\uff0c\u4ee5\u53ca\u64cd\u4f5c\u662f\u5426\u88ab\u6267\u884c\u3001\u4f55\u65f6\u88ab\u6267\u884c\uff0c\u4ee5\u53ca\u662f\u600e\u4e48\u88ab\u6267\u884c\u7684\u3002 \u547d\u4ee4\u6a21\u5f0f\u4f7f\u8bf7\u6c42\u672c\u8eab\u6210\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u53ef\u4ee5\u88ab\u5b58\u50a8\u548c\u4f20\u9012\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u5173\u952e\u5728\u4e8e\u5f15\u5165\u4e86\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\uff0c\u4e14\u53d1\u9001\u8005\u9488\u5bf9\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\u7f16\u7a0b\uff0c\u53ea\u6709\u5b9e\u73b0\u4e86\u62bd\u8c61\u547d\u4ee4\u63a5\u53e3\u7684\u5177\u4f53\u547d\u4ee4\u624d\u80fd\u4e0e\u63a5\u6536\u8005\u76f8\u5173\u8054\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#1_1","text":"\u547d\u4ee4\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\u3002 \u65b0\u7684\u547d\u4ee4\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u52a0\u5165\u5230\u7cfb\u7edf\u4e2d\u3002 \u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u5730\u8bbe\u8ba1\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\u548c\u5b8f\u547d\u4ee4\uff08\u7ec4\u5408\u547d\u4ee4\uff09\u3002 \u53ef\u4ee5\u65b9\u4fbf\u5730\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684 Undo \u548c Redo \u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#2_1","text":"\u547d\u4ee4\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u7cfb\u7edf\u6709\u8fc7\u591a\u7684\u5177\u4f53\u547d\u4ee4\u7c7b\u3002\u56e0\u4e3a\u9488\u5bf9\u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u9700\u8981\u8bbe\u8ba1\u4e00\u4e2a\u5177\u4f53\u547d\u4ee4\u7c7b\uff0c\u56e0\u6b64\u67d0\u4e9b\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u5927\u91cf\u5177\u4f53\u547d\u4ee4\u7c7b\uff0c\u8fd9\u5c06\u5f71\u54cd\u547d\u4ee4\u6a21\u5f0f\u7684\u4f7f\u7528\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#3","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f\uff1a \u7cfb\u7edf\u9700\u8981\u5c06\u8bf7\u6c42\u8c03\u7528\u8005\u548c\u8bf7\u6c42\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4f7f\u5f97\u8c03\u7528\u8005\u548c\u63a5\u6536\u8005\u4e0d\u76f4\u63a5\u4ea4\u4e92\u3002 \u7cfb\u7edf\u9700\u8981\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6307\u5b9a\u8bf7\u6c42\u3001\u5c06\u8bf7\u6c42\u6392\u961f\u548c\u6267\u884c\u8bf7\u6c42\u3002 \u7cfb\u7edf\u9700\u8981\u652f\u6301\u547d\u4ee4\u7684\u64a4\u9500(Undo)\u64cd\u4f5c\u548c\u6062\u590d(Redo)\u64cd\u4f5c\u3002 \u7cfb\u7edf\u9700\u8981\u5c06\u4e00\u7ec4\u64cd\u4f5c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5373\u652f\u6301\u5b8f\u547d\u4ee4","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u547d\u4ee4\u6a21\u5f0f.html#_6","text":"\u5728\u547d\u4ee4\u6a21\u5f0f\u4e2d\uff0c\u5c06\u4e00\u4e2a\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u6211\u4eec\u53ef\u7528\u4e0d\u540c\u7684\u8bf7\u6c42\u5bf9\u5ba2\u6237\u8fdb\u884c\u53c2\u6570\u5316\uff1b\u5bf9\u8bf7\u6c42\u6392\u961f\u6216\u8005\u8bb0\u5f55\u8bf7\u6c42\u65e5\u5fd7\uff0c\u4ee5\u53ca\u652f\u6301\u53ef\u64a4\u9500\u7684\u64cd\u4f5c\u3002\u547d\u4ee4\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\uff0c\u5176\u522b\u540d\u4e3a\u52a8\u4f5c\u6a21\u5f0f\u6216\u4e8b\u52a1\u6a21\u5f0f\u3002 \u547d\u4ee4\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u547d\u4ee4\u7c7b\u4e2d\u58f0\u660e\u4e86\u7528\u4e8e\u6267\u884c\u8bf7\u6c42\u7684 execute() \u7b49\u65b9\u6cd5\uff0c\u901a\u8fc7\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\u8bf7\u6c42\u63a5\u6536\u8005\u7684\u76f8\u5173\u64cd\u4f5c\uff1b\u5177\u4f53\u547d\u4ee4\u7c7b\u662f\u62bd\u8c61\u547d\u4ee4\u7c7b\u7684\u5b50\u7c7b\uff0c\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u547d\u4ee4\u7c7b\u4e2d\u58f0\u660e\u7684\u65b9\u6cd5\uff0c\u5b83\u5bf9\u5e94\u5177\u4f53\u7684\u63a5\u6536\u8005\u5bf9\u8c61\uff0c\u5c06\u63a5\u6536\u8005\u5bf9\u8c61\u7684\u52a8\u4f5c\u7ed1\u5b9a\u5176\u4e2d\uff1b\u8c03\u7528\u8005\u5373\u8bf7\u6c42\u7684\u53d1\u9001\u8005\uff0c\u53c8\u79f0\u4e3a\u8bf7\u6c42\u8005\uff0c\u5b83\u901a\u8fc7\u547d\u4ee4\u5bf9\u8c61\u6765\u6267\u884c\u8bf7\u6c42\uff1b\u63a5\u6536\u8005\u6267\u884c\u4e0e\u8bf7\u6c42\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u5b83\u5177\u4f53\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684\u4e1a\u52a1\u5904\u7406\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u672c\u8d28\u662f\u5bf9\u547d\u4ee4\u8fdb\u884c\u5c01\u88c5\uff0c\u5c06\u53d1\u51fa\u547d\u4ee4\u7684\u8d23\u4efb\u548c\u6267\u884c\u547d\u4ee4\u7684\u8d23\u4efb\u5206\u5272\u5f00\u3002\u547d\u4ee4\u6a21\u5f0f\u4f7f\u8bf7\u6c42\u672c\u8eab\u6210\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u53ef\u4ee5\u88ab\u5b58\u50a8\u548c\u4f20\u9012\u3002 \u547d\u4ee4\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff0c\u589e\u52a0\u65b0\u7684\u547d\u4ee4\u5f88\u65b9\u4fbf\uff0c\u800c\u4e14\u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u5730\u8bbe\u8ba1\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\u548c\u5b8f\u547d\u4ee4\uff0c\u5e76\u65b9\u4fbf\u5730\u5b9e\u73b0\u5bf9\u8bf7\u6c42\u7684\u64a4\u9500\u548c\u6062\u590d\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u7cfb\u7edf\u6709\u8fc7\u591a\u7684\u5177\u4f53\u547d\u4ee4\u7c7b\u3002 \u547d\u4ee4\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u5c06\u8bf7\u6c42\u8c03\u7528\u8005\u548c\u8bf7\u6c42\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4f7f\u5f97\u8c03\u7528\u8005\u548c\u63a5\u6536\u8005\u4e0d\u76f4\u63a5\u4ea4\u4e92\uff1b\u9700\u8981\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6307\u5b9a\u8bf7\u6c42\u3001\u5c06\u8bf7\u6c42\u6392\u961f\u548c\u6267\u884c\u8bf7\u6c42\uff1b\u9700\u8981\u652f\u6301\u547d\u4ee4\u7684\u64a4\u9500\u64cd\u4f5c\u548c\u6062\u590d\u64cd\u4f5c\uff0c\u9700\u8981\u5c06\u4e00\u7ec4\u64cd\u4f5c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5373\u652f\u6301\u5b8f\u547d\u4ee4\u3002","title":"\u516d\u3001\u6a21\u5f0f\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u5916\u89c2\u6a21\u5f0f ( Facade Pattern )\uff1a\u5916\u90e8\u4e0e\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u901a\u4fe1\u5fc5\u987b\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u4e3a\u5b50\u7cfb\u7edf\u4e2d\u7684\u4e00\u7ec4\u63a5\u53e3\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u754c\u9762\uff0c\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9ad8\u5c42\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4f7f\u5f97\u8fd9\u4e00\u5b50\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u4f7f\u7528\u3002\u5916\u89c2\u6a21\u5f0f\u53c8\u79f0\u4e3a**\u95e8\u9762\u6a21\u5f0f**\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u4e8c\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u5916\u89c2\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Facade : \u5916\u89c2\u89d2\u8272 SubSystem : \u5b50\u7cfb\u7edf\u89d2\u8272 2. \u7ed3\u6784\u56fe \u00b6 \u4e09\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u5404\u4e2a\u5b50\u7cfb\u7edf\u89d2\u8272\u7c7b\uff0c\u5206\u522b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bA. */ public class ClassA { public void doSomethingA () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5A...\" ); } } 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bB. */ public class ClassB { public void doSomethingB () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5B...\" ); } } 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bC. */ public class ClassC { public void doSomethingC () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5C...\" ); } } \u4ee5\u4e0b\u662f\u5916\u89c2\u6a21\u5f0f\u7684\u5916\u89c2\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u5916\u89c2\u95e8\u9762\u7c7b. */ public class Facade { private ClassA a = new ClassA (); private ClassB b = new ClassB (); private ClassC c = new ClassC (); // \u4ee5\u4e0b\u662f\u63d0\u4f9b\u7ed9\u5916\u90e8\u8bbf\u95ee\u7684\u65b9\u6cd5. public void methodA () { this . a . doSomethingA (); } public void methodB () { this . b . doSomethingB (); } public void methodC () { this . c . doSomethingC (); } } \u56db\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u6839\u636e\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\uff0c\u5728\u8f6f\u4ef6\u4e2d\u5c06\u4e00\u4e2a\u7cfb\u7edf\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u5b50\u7cfb\u7edf\u6709\u5229\u4e8e\u964d\u4f4e\u6574\u4e2a\u7cfb\u7edf\u7684\u590d\u6742\u6027\uff0c\u4e00\u4e2a\u5e38\u89c1\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u4f7f\u5b50\u7cfb\u7edf\u95f4\u7684\u901a\u4fe1\u548c\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u8fbe\u5230\u6700\u5c0f\uff0c\u800c\u8fbe\u5230\u8be5\u76ee\u6807\u7684\u9014\u5f84\u4e4b\u4e00\u5c31\u662f\u5f15\u5165\u4e00\u4e2a\u5916\u89c2\u5bf9\u8c61\uff0c\u5b83\u4e3a\u5b50\u7cfb\u7edf\u7684\u8bbf\u95ee\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u800c\u5355\u4e00\u7684\u5165\u53e3\u3002 \u5916\u89c2\u6a21\u5f0f\u4e5f\u662f\u201c \u8fea\u7c73\u7279\u6cd5\u5219 \u201d\u7684\u4f53\u73b0\uff0c\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u5916\u89c2\u7c7b\u53ef\u4ee5\u964d\u4f4e\u539f\u6709\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u540c\u65f6\u964d\u4f4e\u5ba2\u6237\u7c7b\u4e0e\u5b50\u7cfb\u7edf\u7c7b\u7684\u8026\u5408\u5ea6\u3002 \u5916\u89c2\u6a21\u5f0f\u8981\u6c42\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u5916\u90e8\u4e0e\u5176\u5185\u90e8\u7684\u901a\u4fe1\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u5916\u89c2\u7c7b\u5c06\u5ba2\u6237\u7aef\u4e0e\u5b50\u7cfb\u7edf\u7684\u5185\u90e8\u590d\u6742\u6027\u5206\u9694\u5f00\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u4e0e\u5916\u89c2\u5bf9\u8c61\u6253\u4ea4\u9053\uff0c\u800c\u4e0d\u9700\u8981\u4e0e\u5b50\u7cfb\u7edf\u5185\u90e8\u7684\u5f88\u591a\u5bf9\u8c61\u6253\u4ea4\u9053\u3002 \u5916\u89c2\u6a21\u5f0f\u7684\u76ee\u7684\u5728\u4e8e\u964d\u4f4e\u7cfb\u7edf\u7684\u590d\u6742\u7a0b\u5ea6\u3002 \u5916\u89c2\u6a21\u5f0f\u4ece\u5f88\u5927\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u4e86\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u4fbf\u6377\u6027\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u65e0\u987b\u5173\u5fc3\u5b50\u7cfb\u7edf\u7684\u5de5\u4f5c\u7ec6\u8282\uff0c\u901a\u8fc7\u5916\u89c2\u89d2\u8272\u5373\u53ef\u8c03\u7528\u76f8\u5173\u529f\u80fd\u3002 1. \u4f18\u70b9 \u00b6 \u5916\u89c2\u6a21\u5f0f\u7684\u4f18\u70b9 k\uff1a \u5bf9\u5ba2\u6237\u5c4f\u853d\u5b50\u7cfb\u7edf\u7ec4\u4ef6\uff0c\u51cf\u5c11\u4e86\u5ba2\u6237\u5904\u7406\u7684\u5bf9\u8c61\u6570\u76ee\u5e76\u4f7f\u5f97\u5b50\u7cfb\u7edf\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\u3002\u901a\u8fc7\u5f15\u5165\u5916\u89c2\u6a21\u5f0f\uff0c\u5ba2\u6237\u4ee3\u7801\u5c06\u53d8\u5f97\u5f88\u7b80\u5355\uff0c\u4e0e\u4e4b\u5173\u8054\u7684\u5bf9\u8c61\u4e5f\u5f88\u5c11\u3002 \u5b9e\u73b0\u4e86\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4e4b\u95f4\u7684\u677e\u8026\u5408\u5173\u7cfb\uff0c\u8fd9\u4f7f\u5f97\u5b50\u7cfb\u7edf\u7684\u7ec4\u4ef6\u53d8\u5316\u4e0d\u4f1a\u5f71\u54cd\u5230\u8c03\u7528\u5b83\u7684\u5ba2\u6237\u7c7b\uff0c\u53ea\u9700\u8981\u8c03\u6574\u5916\u89c2\u7c7b\u5373\u53ef\u3002 \u964d\u4f4e\u4e86\u5927\u578b\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u7684\u7f16\u8bd1\u4f9d\u8d56\u6027\uff0c\u5e76\u7b80\u5316\u4e86\u7cfb\u7edf\u5728\u4e0d\u540c\u5e73\u53f0\u4e4b\u95f4\u7684\u79fb\u690d\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u7f16\u8bd1\u4e00\u4e2a\u5b50\u7cfb\u7edf\u4e00\u822c\u4e0d\u9700\u8981\u7f16\u8bd1\u6240\u6709\u5176\u4ed6\u7684\u5b50\u7cfb\u7edf\u3002\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u4fee\u6539\u5bf9\u5176\u4ed6\u5b50\u7cfb\u7edf\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\uff0c\u800c\u4e14\u5b50\u7cfb\u7edf\u5185\u90e8\u53d8\u5316\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u89c2\u5bf9\u8c61\u3002 \u53ea\u662f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8bbf\u95ee\u5b50\u7cfb\u7edf\u7684\u7edf\u4e00\u5165\u53e3\uff0c\u5e76\u4e0d\u5f71\u54cd\u7528\u6237\u76f4\u63a5\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\u3002 2. \u7f3a\u70b9 \u00b6 \u5916\u89c2\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4e0d\u80fd\u5f88\u597d\u5730\u9650\u5236\u5ba2\u6237\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\uff0c\u5982\u679c\u5bf9\u5ba2\u6237\u8bbf\u95ee\u5b50\u7cfb\u7edf\u7c7b\u505a\u592a\u591a\u7684\u9650\u5236\u5219\u51cf\u5c11\u4e86\u53ef\u53d8\u6027\u548c\u7075\u6d3b\u6027\u3002 \u5728\u4e0d\u5f15\u5165\u62bd\u8c61\u5916\u89c2\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u65b0\u7684\u5b50\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5916\u89c2\u7c7b\u6216\u5ba2\u6237\u7aef\u7684\u6e90\u4ee3\u7801\uff0c\u8fdd\u80cc\u4e86\u201c \u5f00\u95ed\u539f\u5219 \u201d\u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\uff1a \u5f53\u8981\u4e3a\u4e00\u4e2a\u590d\u6742\u5b50\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u63a5\u53e3\u65f6\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\u3002\u8be5\u63a5\u53e3\u53ef\u4ee5\u6ee1\u8db3\u5927\u591a\u6570\u7528\u6237\u7684\u9700\u6c42\uff0c\u800c\u4e14\u7528\u6237\u4e5f\u53ef\u4ee5\u8d8a\u8fc7\u5916\u89c2\u7c7b\u76f4\u63a5\u8bbf\u95ee\u5b50\u7cfb\u7edf\u3002 \u5ba2\u6237\u7a0b\u5e8f\u4e0e\u591a\u4e2a\u5b50\u7cfb\u7edf\u4e4b\u95f4\u5b58\u5728\u5f88\u5927\u7684\u4f9d\u8d56\u6027\u3002\u5f15\u5165\u5916\u89c2\u7c7b\u5c06\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4ee5\u53ca\u5176\u4ed6\u5b50\u7cfb\u7edf\u89e3\u8026\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5b50\u7cfb\u7edf\u7684\u72ec\u7acb\u6027\u548c\u53ef\u79fb\u690d\u6027\u3002 \u5728\u5c42\u6b21\u5316\u7ed3\u6784\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u7cfb\u7edf\u4e2d\u6bcf\u4e00\u5c42\u7684\u5165\u53e3\uff0c\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4e0d\u76f4\u63a5\u4ea7\u751f\u8054\u7cfb\uff0c\u800c\u901a\u8fc7\u5916\u89c2\u7c7b\u5efa\u7acb\u8054\u7cfb\uff0c\u964d\u4f4e\u5c42\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u3002 \u4e94\u3001\u6a21\u5f0f\u603b\u7ed3 \u00b6 \u5728\u5916\u89c2\u6a21\u5f0f\u4e2d\uff0c\u5916\u90e8\u4e0e\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u901a\u4fe1\u5fc5\u987b\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u4e3a\u5b50\u7cfb\u7edf\u4e2d\u7684\u4e00\u7ec4\u63a5\u53e3\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u754c\u9762\uff0c\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9ad8\u5c42\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4f7f\u5f97\u8fd9\u4e00\u5b50\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u4f7f\u7528\u3002\u5916\u89c2\u6a21\u5f0f\u53c8\u79f0\u4e3a\u95e8\u9762\u6a21\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u5916\u89c2\u6a21\u5f0f\u5305\u542b\u4e24\u4e2a\u89d2\u8272\uff1a\u5916\u89c2\u89d2\u8272\u662f\u5728\u5ba2\u6237\u7aef\u76f4\u63a5\u8c03\u7528\u7684\u89d2\u8272\uff0c\u5728\u5916\u89c2\u89d2\u8272\u4e2d\u53ef\u4ee5\u77e5\u9053\u76f8\u5173\u7684(\u4e00\u4e2a\u6216\u8005\u591a\u4e2a)\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\u548c\u8d23\u4efb\uff0c\u5b83\u5c06\u6240\u6709\u4ece\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u8bf7\u6c42\u59d4\u6d3e\u5230\u76f8\u5e94\u7684\u5b50\u7cfb\u7edf\u53bb\uff0c\u4f20\u9012\u7ed9\u76f8\u5e94\u7684\u5b50\u7cfb\u7edf\u5bf9\u8c61\u5904\u7406\uff1b\u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u540c\u65f6\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5b50\u7cfb\u7edf\u89d2\u8272\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7cfb\u7edf\u53ef\u4ee5\u4e0d\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u7c7b\uff0c\u800c\u662f\u4e00\u4e2a\u7c7b\u7684\u96c6\u5408\uff0c\u5b83\u5b9e\u73b0\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\u3002 \u5916\u89c2\u6a21\u5f0f\u8981\u6c42\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u5916\u90e8\u4e0e\u5176\u5185\u90e8\u7684\u901a\u4fe1\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u5916\u89c2\u7c7b\u5c06\u5ba2\u6237\u7aef\u4e0e\u5b50\u7cfb\u7edf\u7684\u5185\u90e8\u590d\u6742\u6027\u5206\u9694\u5f00\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u4e0e\u5916\u89c2\u5bf9\u8c61\u6253\u4ea4\u9053\uff0c\u800c\u4e0d\u9700\u8981\u4e0e\u5b50\u7cfb\u7edf\u5185\u90e8\u7684\u5f88\u591a\u5bf9\u8c61\u6253\u4ea4\u9053\u3002 \u5916\u89c2\u6a21\u5f0f\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5bf9\u5ba2\u6237\u5c4f\u853d\u5b50\u7cfb\u7edf\u7ec4\u4ef6\uff0c\u51cf\u5c11\u4e86\u5ba2\u6237\u5904\u7406\u7684\u5bf9\u8c61\u6570\u76ee\u5e76\u4f7f\u5f97\u5b50\u7cfb\u7edf\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\uff0c\u5b83\u5b9e\u73b0\u4e86\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4e4b\u95f4\u7684\u677e\u8026\u5408\u5173\u7cfb\uff0c\u5e76\u964d\u4f4e\u4e86\u5927\u578b\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u7684\u7f16\u8bd1\u4f9d\u8d56\u6027\uff0c\u7b80\u5316\u4e86\u7cfb\u7edf\u5728\u4e0d\u540c\u5e73\u53f0\u4e4b\u95f4\u7684\u79fb\u690d\u8fc7\u7a0b\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u4e0d\u80fd\u5f88\u597d\u5730\u9650\u5236\u5ba2\u6237\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\uff0c\u800c\u4e14\u5728\u4e0d\u5f15\u5165\u62bd\u8c61\u5916\u89c2\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u65b0\u7684\u5b50\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5916\u89c2\u7c7b\u6216\u5ba2\u6237\u7aef\u7684\u6e90\u4ee3\u7801\uff0c\u8fdd\u80cc\u4e86\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 \u5916\u89c2\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u8981\u4e3a\u4e00\u4e2a\u590d\u6742\u5b50\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u63a5\u53e3\uff1b\u5ba2\u6237\u7a0b\u5e8f\u4e0e\u591a\u4e2a\u5b50\u7cfb\u7edf\u4e4b\u95f4\u5b58\u5728\u5f88\u5927\u7684\u4f9d\u8d56\u6027\uff1b\u5728\u5c42\u6b21\u5316\u7ed3\u6784\u4e2d\uff0c\u9700\u8981\u5b9a\u4e49\u7cfb\u7edf\u4e2d\u6bcf\u4e00\u5c42\u7684\u5165\u53e3\uff0c\u4f7f\u5f97\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4e0d\u76f4\u63a5\u4ea7\u751f\u8054\u7cfb\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#_1","text":"\u5916\u89c2\u6a21\u5f0f ( Facade Pattern )\uff1a\u5916\u90e8\u4e0e\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u901a\u4fe1\u5fc5\u987b\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u4e3a\u5b50\u7cfb\u7edf\u4e2d\u7684\u4e00\u7ec4\u63a5\u53e3\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u754c\u9762\uff0c\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9ad8\u5c42\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4f7f\u5f97\u8fd9\u4e00\u5b50\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u4f7f\u7528\u3002\u5916\u89c2\u6a21\u5f0f\u53c8\u79f0\u4e3a**\u95e8\u9762\u6a21\u5f0f**\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#_2","text":"","title":"\u4e8c\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#1","text":"\u5916\u89c2\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Facade : \u5916\u89c2\u89d2\u8272 SubSystem : \u5b50\u7cfb\u7edf\u89d2\u8272","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#_3","text":"\u9996\u5148\uff0c\u662f\u5404\u4e2a\u5b50\u7cfb\u7edf\u89d2\u8272\u7c7b\uff0c\u5206\u522b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bA. */ public class ClassA { public void doSomethingA () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5A...\" ); } } 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bB. */ public class ClassB { public void doSomethingB () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5B...\" ); } } 1 2 3 4 5 6 7 8 9 10 /** * \u5b50\u7cfb\u7edf\u7c7bC. */ public class ClassC { public void doSomethingC () { System . out . println ( \"----\u4e1a\u52a1\u65b9\u6cd5C...\" ); } } \u4ee5\u4e0b\u662f\u5916\u89c2\u6a21\u5f0f\u7684\u5916\u89c2\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u5916\u89c2\u95e8\u9762\u7c7b. */ public class Facade { private ClassA a = new ClassA (); private ClassB b = new ClassB (); private ClassC c = new ClassC (); // \u4ee5\u4e0b\u662f\u63d0\u4f9b\u7ed9\u5916\u90e8\u8bbf\u95ee\u7684\u65b9\u6cd5. public void methodA () { this . a . doSomethingA (); } public void methodB () { this . b . doSomethingB (); } public void methodC () { this . c . doSomethingC (); } }","title":"\u4e09\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#_4","text":"\u6839\u636e\u201c\u5355\u4e00\u804c\u8d23\u539f\u5219\u201d\uff0c\u5728\u8f6f\u4ef6\u4e2d\u5c06\u4e00\u4e2a\u7cfb\u7edf\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u5b50\u7cfb\u7edf\u6709\u5229\u4e8e\u964d\u4f4e\u6574\u4e2a\u7cfb\u7edf\u7684\u590d\u6742\u6027\uff0c\u4e00\u4e2a\u5e38\u89c1\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u4f7f\u5b50\u7cfb\u7edf\u95f4\u7684\u901a\u4fe1\u548c\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u8fbe\u5230\u6700\u5c0f\uff0c\u800c\u8fbe\u5230\u8be5\u76ee\u6807\u7684\u9014\u5f84\u4e4b\u4e00\u5c31\u662f\u5f15\u5165\u4e00\u4e2a\u5916\u89c2\u5bf9\u8c61\uff0c\u5b83\u4e3a\u5b50\u7cfb\u7edf\u7684\u8bbf\u95ee\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u800c\u5355\u4e00\u7684\u5165\u53e3\u3002 \u5916\u89c2\u6a21\u5f0f\u4e5f\u662f\u201c \u8fea\u7c73\u7279\u6cd5\u5219 \u201d\u7684\u4f53\u73b0\uff0c\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u5916\u89c2\u7c7b\u53ef\u4ee5\u964d\u4f4e\u539f\u6709\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u540c\u65f6\u964d\u4f4e\u5ba2\u6237\u7c7b\u4e0e\u5b50\u7cfb\u7edf\u7c7b\u7684\u8026\u5408\u5ea6\u3002 \u5916\u89c2\u6a21\u5f0f\u8981\u6c42\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u5916\u90e8\u4e0e\u5176\u5185\u90e8\u7684\u901a\u4fe1\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u5916\u89c2\u7c7b\u5c06\u5ba2\u6237\u7aef\u4e0e\u5b50\u7cfb\u7edf\u7684\u5185\u90e8\u590d\u6742\u6027\u5206\u9694\u5f00\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u4e0e\u5916\u89c2\u5bf9\u8c61\u6253\u4ea4\u9053\uff0c\u800c\u4e0d\u9700\u8981\u4e0e\u5b50\u7cfb\u7edf\u5185\u90e8\u7684\u5f88\u591a\u5bf9\u8c61\u6253\u4ea4\u9053\u3002 \u5916\u89c2\u6a21\u5f0f\u7684\u76ee\u7684\u5728\u4e8e\u964d\u4f4e\u7cfb\u7edf\u7684\u590d\u6742\u7a0b\u5ea6\u3002 \u5916\u89c2\u6a21\u5f0f\u4ece\u5f88\u5927\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u4e86\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u4fbf\u6377\u6027\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u65e0\u987b\u5173\u5fc3\u5b50\u7cfb\u7edf\u7684\u5de5\u4f5c\u7ec6\u8282\uff0c\u901a\u8fc7\u5916\u89c2\u89d2\u8272\u5373\u53ef\u8c03\u7528\u76f8\u5173\u529f\u80fd\u3002","title":"\u56db\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#1_1","text":"\u5916\u89c2\u6a21\u5f0f\u7684\u4f18\u70b9 k\uff1a \u5bf9\u5ba2\u6237\u5c4f\u853d\u5b50\u7cfb\u7edf\u7ec4\u4ef6\uff0c\u51cf\u5c11\u4e86\u5ba2\u6237\u5904\u7406\u7684\u5bf9\u8c61\u6570\u76ee\u5e76\u4f7f\u5f97\u5b50\u7cfb\u7edf\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\u3002\u901a\u8fc7\u5f15\u5165\u5916\u89c2\u6a21\u5f0f\uff0c\u5ba2\u6237\u4ee3\u7801\u5c06\u53d8\u5f97\u5f88\u7b80\u5355\uff0c\u4e0e\u4e4b\u5173\u8054\u7684\u5bf9\u8c61\u4e5f\u5f88\u5c11\u3002 \u5b9e\u73b0\u4e86\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4e4b\u95f4\u7684\u677e\u8026\u5408\u5173\u7cfb\uff0c\u8fd9\u4f7f\u5f97\u5b50\u7cfb\u7edf\u7684\u7ec4\u4ef6\u53d8\u5316\u4e0d\u4f1a\u5f71\u54cd\u5230\u8c03\u7528\u5b83\u7684\u5ba2\u6237\u7c7b\uff0c\u53ea\u9700\u8981\u8c03\u6574\u5916\u89c2\u7c7b\u5373\u53ef\u3002 \u964d\u4f4e\u4e86\u5927\u578b\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u7684\u7f16\u8bd1\u4f9d\u8d56\u6027\uff0c\u5e76\u7b80\u5316\u4e86\u7cfb\u7edf\u5728\u4e0d\u540c\u5e73\u53f0\u4e4b\u95f4\u7684\u79fb\u690d\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u7f16\u8bd1\u4e00\u4e2a\u5b50\u7cfb\u7edf\u4e00\u822c\u4e0d\u9700\u8981\u7f16\u8bd1\u6240\u6709\u5176\u4ed6\u7684\u5b50\u7cfb\u7edf\u3002\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u4fee\u6539\u5bf9\u5176\u4ed6\u5b50\u7cfb\u7edf\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\uff0c\u800c\u4e14\u5b50\u7cfb\u7edf\u5185\u90e8\u53d8\u5316\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u89c2\u5bf9\u8c61\u3002 \u53ea\u662f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8bbf\u95ee\u5b50\u7cfb\u7edf\u7684\u7edf\u4e00\u5165\u53e3\uff0c\u5e76\u4e0d\u5f71\u54cd\u7528\u6237\u76f4\u63a5\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#2_1","text":"\u5916\u89c2\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4e0d\u80fd\u5f88\u597d\u5730\u9650\u5236\u5ba2\u6237\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\uff0c\u5982\u679c\u5bf9\u5ba2\u6237\u8bbf\u95ee\u5b50\u7cfb\u7edf\u7c7b\u505a\u592a\u591a\u7684\u9650\u5236\u5219\u51cf\u5c11\u4e86\u53ef\u53d8\u6027\u548c\u7075\u6d3b\u6027\u3002 \u5728\u4e0d\u5f15\u5165\u62bd\u8c61\u5916\u89c2\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u65b0\u7684\u5b50\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5916\u89c2\u7c7b\u6216\u5ba2\u6237\u7aef\u7684\u6e90\u4ee3\u7801\uff0c\u8fdd\u80cc\u4e86\u201c \u5f00\u95ed\u539f\u5219 \u201d\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#3","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\uff1a \u5f53\u8981\u4e3a\u4e00\u4e2a\u590d\u6742\u5b50\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u63a5\u53e3\u65f6\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\u3002\u8be5\u63a5\u53e3\u53ef\u4ee5\u6ee1\u8db3\u5927\u591a\u6570\u7528\u6237\u7684\u9700\u6c42\uff0c\u800c\u4e14\u7528\u6237\u4e5f\u53ef\u4ee5\u8d8a\u8fc7\u5916\u89c2\u7c7b\u76f4\u63a5\u8bbf\u95ee\u5b50\u7cfb\u7edf\u3002 \u5ba2\u6237\u7a0b\u5e8f\u4e0e\u591a\u4e2a\u5b50\u7cfb\u7edf\u4e4b\u95f4\u5b58\u5728\u5f88\u5927\u7684\u4f9d\u8d56\u6027\u3002\u5f15\u5165\u5916\u89c2\u7c7b\u5c06\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4ee5\u53ca\u5176\u4ed6\u5b50\u7cfb\u7edf\u89e3\u8026\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5b50\u7cfb\u7edf\u7684\u72ec\u7acb\u6027\u548c\u53ef\u79fb\u690d\u6027\u3002 \u5728\u5c42\u6b21\u5316\u7ed3\u6784\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u7cfb\u7edf\u4e2d\u6bcf\u4e00\u5c42\u7684\u5165\u53e3\uff0c\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4e0d\u76f4\u63a5\u4ea7\u751f\u8054\u7cfb\uff0c\u800c\u901a\u8fc7\u5916\u89c2\u7c7b\u5efa\u7acb\u8054\u7cfb\uff0c\u964d\u4f4e\u5c42\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u3002","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5916\u89c2\u6a21\u5f0f.html#_5","text":"\u5728\u5916\u89c2\u6a21\u5f0f\u4e2d\uff0c\u5916\u90e8\u4e0e\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u901a\u4fe1\u5fc5\u987b\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u4e3a\u5b50\u7cfb\u7edf\u4e2d\u7684\u4e00\u7ec4\u63a5\u53e3\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u754c\u9762\uff0c\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9ad8\u5c42\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4f7f\u5f97\u8fd9\u4e00\u5b50\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u4f7f\u7528\u3002\u5916\u89c2\u6a21\u5f0f\u53c8\u79f0\u4e3a\u95e8\u9762\u6a21\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u5916\u89c2\u6a21\u5f0f\u5305\u542b\u4e24\u4e2a\u89d2\u8272\uff1a\u5916\u89c2\u89d2\u8272\u662f\u5728\u5ba2\u6237\u7aef\u76f4\u63a5\u8c03\u7528\u7684\u89d2\u8272\uff0c\u5728\u5916\u89c2\u89d2\u8272\u4e2d\u53ef\u4ee5\u77e5\u9053\u76f8\u5173\u7684(\u4e00\u4e2a\u6216\u8005\u591a\u4e2a)\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\u548c\u8d23\u4efb\uff0c\u5b83\u5c06\u6240\u6709\u4ece\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u8bf7\u6c42\u59d4\u6d3e\u5230\u76f8\u5e94\u7684\u5b50\u7cfb\u7edf\u53bb\uff0c\u4f20\u9012\u7ed9\u76f8\u5e94\u7684\u5b50\u7cfb\u7edf\u5bf9\u8c61\u5904\u7406\uff1b\u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u540c\u65f6\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5b50\u7cfb\u7edf\u89d2\u8272\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7cfb\u7edf\u53ef\u4ee5\u4e0d\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u7c7b\uff0c\u800c\u662f\u4e00\u4e2a\u7c7b\u7684\u96c6\u5408\uff0c\u5b83\u5b9e\u73b0\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\u3002 \u5916\u89c2\u6a21\u5f0f\u8981\u6c42\u4e00\u4e2a\u5b50\u7cfb\u7edf\u7684\u5916\u90e8\u4e0e\u5176\u5185\u90e8\u7684\u901a\u4fe1\u901a\u8fc7\u4e00\u4e2a\u7edf\u4e00\u7684\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\uff0c\u5916\u89c2\u7c7b\u5c06\u5ba2\u6237\u7aef\u4e0e\u5b50\u7cfb\u7edf\u7684\u5185\u90e8\u590d\u6742\u6027\u5206\u9694\u5f00\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u4e0e\u5916\u89c2\u5bf9\u8c61\u6253\u4ea4\u9053\uff0c\u800c\u4e0d\u9700\u8981\u4e0e\u5b50\u7cfb\u7edf\u5185\u90e8\u7684\u5f88\u591a\u5bf9\u8c61\u6253\u4ea4\u9053\u3002 \u5916\u89c2\u6a21\u5f0f\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5bf9\u5ba2\u6237\u5c4f\u853d\u5b50\u7cfb\u7edf\u7ec4\u4ef6\uff0c\u51cf\u5c11\u4e86\u5ba2\u6237\u5904\u7406\u7684\u5bf9\u8c61\u6570\u76ee\u5e76\u4f7f\u5f97\u5b50\u7cfb\u7edf\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\uff0c\u5b83\u5b9e\u73b0\u4e86\u5b50\u7cfb\u7edf\u4e0e\u5ba2\u6237\u4e4b\u95f4\u7684\u677e\u8026\u5408\u5173\u7cfb\uff0c\u5e76\u964d\u4f4e\u4e86\u5927\u578b\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u7684\u7f16\u8bd1\u4f9d\u8d56\u6027\uff0c\u7b80\u5316\u4e86\u7cfb\u7edf\u5728\u4e0d\u540c\u5e73\u53f0\u4e4b\u95f4\u7684\u79fb\u690d\u8fc7\u7a0b\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u4e0d\u80fd\u5f88\u597d\u5730\u9650\u5236\u5ba2\u6237\u4f7f\u7528\u5b50\u7cfb\u7edf\u7c7b\uff0c\u800c\u4e14\u5728\u4e0d\u5f15\u5165\u62bd\u8c61\u5916\u89c2\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u65b0\u7684\u5b50\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5916\u89c2\u7c7b\u6216\u5ba2\u6237\u7aef\u7684\u6e90\u4ee3\u7801\uff0c\u8fdd\u80cc\u4e86\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 \u5916\u89c2\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u8981\u4e3a\u4e00\u4e2a\u590d\u6742\u5b50\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u63a5\u53e3\uff1b\u5ba2\u6237\u7a0b\u5e8f\u4e0e\u591a\u4e2a\u5b50\u7cfb\u7edf\u4e4b\u95f4\u5b58\u5728\u5f88\u5927\u7684\u4f9d\u8d56\u6027\uff1b\u5728\u5c42\u6b21\u5316\u7ed3\u6784\u4e2d\uff0c\u9700\u8981\u5b9a\u4e49\u7cfb\u7edf\u4e2d\u6bcf\u4e00\u5c42\u7684\u5165\u53e3\uff0c\u4f7f\u5f97\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4e0d\u76f4\u63a5\u4ea7\u751f\u8054\u7cfb\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f( Factory Method Pattern )\u53c8\u79f0\u4e3a\u5de5\u5382\u6a21\u5f0f\uff0c\u4e5f\u53eb\u865a\u62df\u6784\u9020\u5668(Virtual Constructor)\u6a21\u5f0f\u6216\u8005\u591a\u6001\u5de5\u5382(Polymorphic Factory)\u6a21\u5f0f\uff0c\u5b83\u5c5e\u4e8e\u7c7b\u521b\u5efa\u578b\u6a21\u5f0f\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u7236\u7c7b\u8d1f\u8d23\u5b9a\u4e49\u521b\u5efa\u4ea7\u54c1\u5bf9\u8c61\u7684\u516c\u5171\u63a5\u53e3\uff0c\u800c\u5de5\u5382\u5b50\u7c7b\u5219\u8d1f\u8d23\u751f\u6210\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u5c06\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u5316\u64cd\u4f5c\u5ef6\u8fdf\u5230\u5de5\u5382\u5b50\u7c7b\u4e2d\u5b8c\u6210\uff0c\u5373\u901a\u8fc7\u5de5\u5382\u5b50\u7c7b\u6765\u786e\u5b9a\u7a76\u7adf\u5e94\u8be5\u5b9e\u4f8b\u5316\u54ea\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u3002 \u4e8c\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Product \uff1a\u62bd\u8c61\u4ea7\u54c1 ConcreteProduct \uff1a\u5177\u4f53\u4ea7\u54c1 Factory \uff1a\u62bd\u8c61\u5de5\u5382 ConcreteFactory \uff1a\u5177\u4f53\u5de5\u5382 2. \u7ed3\u6784\u56fe \u00b6 3. \u65f6\u5e8f\u56fe \u00b6 \u4e09\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u4ea7\u54c1\u7c7b\u548c\u5177\u4f53\u7684\u4ea7\u54c1\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u62bd\u8c61\u4ea7\u54c1\u7c7b * */ public abstract class Product { /** * \u4ea7\u54c1\u7c7b\u7684\u516c\u5171\u65b9\u6cd5 */ public void method1 () { System . out . println ( \"\u8fd9\u662f\u4ea7\u54c1\u7c7b\u7684\u516c\u5171\u65b9\u6cd5\" ); } /** * \u62bd\u8c61\u65b9\u6cd5 */ public abstract void method2 (); } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u4ea7\u54c1\u7c7b1 * */ public class ConcreteProduct1 extends Product { @Override public void method2 () { System . out . println ( \"ConcreteProduct1\u7684method2\u65b9\u6cd5\" ); } } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u4ea7\u54c1\u7c7b2 * */ public class ConcreteProduct2 extends Product { @Override public void method2 () { System . out . println ( \"ConcreteProduct2\u7684method2\u65b9\u6cd5\" ); } } \u7136\u540e\uff0c\u662f\u62bd\u8c61\u7684\u5de5\u5382\u7c7b\u548c\u5177\u4f53\u7684\u5de5\u5382\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u62bd\u8c61\u7684\u5de5\u5382\u7c7b * */ public abstract class Factory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ public abstract < T extends Product > T createProduct ( Class < T > c ); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u751f\u4ea7\u4ea7\u54c1\u7684\u5de5\u5382\u7c7b * */ public class ConcreteFactory extends Factory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ @Override public < T extends Product > T createProduct ( Class < T > c ) { Product product = null ; try { product = ( Product ) Class . forName ( c . getName ()). newInstance (); } catch ( Exception e ) { System . out . println ( \"\u751f\u4ea7\u4ea7\u54c1\u51fa\u9519\" ); e . printStackTrace (); } return ( T ) product ; } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class Client { public static void main ( String [] args ) { Factory factory = new ConcreteFactory (); Product product1 = factory . createProduct ( ConcreteProduct1 . class ); product1 . method1 (); product1 . method2 (); Product product2 = factory . createProduct ( ConcreteProduct2 . class ); product2 . method1 (); product2 . method2 (); } } \u56db\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u6838\u5fc3\u7684\u5de5\u5382\u7c7b\u4e0d\u518d\u8d1f\u8d23\u6240\u6709\u4ea7\u54c1\u7684\u521b\u5efa\uff0c\u800c\u662f\u5c06\u5177\u4f53\u521b\u5efa\u5de5\u4f5c\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002\u8fd9\u4e2a\u6838\u5fc3\u7c7b\u4ec5\u4ec5\u8d1f\u8d23\u7ed9\u51fa\u5177\u4f53\u5de5\u5382\u5fc5\u987b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0c\u800c\u4e0d\u8d1f\u8d23\u54ea\u4e00\u4e2a\u4ea7\u54c1\u7c7b\u88ab\u5b9e\u4f8b\u5316\u8fd9\u79cd\u7ec6\u8282\uff0c\u8fd9\u4f7f\u5f97\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u5141\u8bb8\u7cfb\u7edf\u5728\u4e0d\u4fee\u6539\u5de5\u5382\u89d2\u8272\u7684\u60c5\u51b5\u4e0b\u5f15\u8fdb\u65b0\u4ea7\u54c1\u3002 1. \u4f18\u70b9 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u65b9\u6cd5\u7528\u6765\u521b\u5efa\u5ba2\u6237\u6240\u9700\u8981\u7684\u4ea7\u54c1\uff0c\u540c\u65f6\u8fd8\u5411\u5ba2\u6237\u9690\u85cf\u4e86\u54ea\u79cd\u5177\u4f53\u4ea7\u54c1\u7c7b\u5c06\u88ab\u5b9e\u4f8b\u5316\u8fd9\u4e00\u7ec6\u8282\uff0c\u7528\u6237\u53ea\u9700\u8981\u5173\u5fc3\u6240\u9700\u4ea7\u54c1\u5bf9\u5e94\u7684\u5de5\u5382\uff0c\u65e0\u987b\u5173\u5fc3\u521b\u5efa\u7ec6\u8282\uff0c\u751a\u81f3\u65e0\u987b\u77e5\u9053\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u7c7b\u540d\u3002 \u57fa\u4e8e\u5de5\u5382\u89d2\u8272\u548c\u4ea7\u54c1\u89d2\u8272\u7684\u591a\u6001\u6027\u8bbe\u8ba1\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u5173\u952e\u3002\u5b83\u80fd\u591f\u4f7f\u5de5\u5382\u53ef\u4ee5\u81ea\u4e3b\u786e\u5b9a\u521b\u5efa\u4f55\u79cd\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u5982\u4f55\u521b\u5efa\u8fd9\u4e2a\u5bf9\u8c61\u7684\u7ec6\u8282\u5219\u5b8c\u5168\u5c01\u88c5\u5728\u5177\u4f53\u5de5\u5382\u5185\u90e8\u3002\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e4b\u6240\u4ee5\u53c8\u88ab\u79f0\u4e3a\u591a\u6001\u5de5\u5382\u6a21\u5f0f\uff0c\u662f\u56e0\u4e3a\u6240\u6709\u7684\u5177\u4f53\u5de5\u5382\u7c7b\u90fd\u5177\u6709\u540c\u4e00\u62bd\u8c61\u7236\u7c7b\u3002 \u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\u5728\u7cfb\u7edf\u4e2d\u52a0\u5165\u65b0\u4ea7\u54c1\u65f6\uff0c\u65e0\u987b\u4fee\u6539\u62bd\u8c61\u5de5\u5382\u548c\u62bd\u8c61\u4ea7\u54c1\u63d0\u4f9b\u7684\u63a5\u53e3\uff0c\u65e0\u987b\u4fee\u6539\u5ba2\u6237\u7aef\uff0c\u4e5f\u65e0\u987b\u4fee\u6539\u5176\u4ed6\u7684\u5177\u4f53\u5de5\u5382\u548c\u5177\u4f53\u4ea7\u54c1\uff0c\u800c\u53ea\u8981\u6dfb\u52a0\u4e00\u4e2a\u5177\u4f53\u5de5\u5382\u548c\u5177\u4f53\u4ea7\u54c1\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u6837\uff0c\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\u4e5f\u5c31\u53d8\u5f97\u975e\u5e38\u597d\uff0c\u5b8c\u5168\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 2. \u7f3a\u70b9 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5728\u6dfb\u52a0\u65b0\u4ea7\u54c1\u65f6\uff0c\u9700\u8981\u7f16\u5199\u65b0\u7684\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u800c\u4e14\u8fd8\u8981\u63d0\u4f9b\u4e0e\u4e4b\u5bf9\u5e94\u7684\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\u5c06\u6210\u5bf9\u589e\u52a0\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u6709\u66f4\u591a\u7684\u7c7b\u9700\u8981\u7f16\u8bd1\u548c\u8fd0\u884c\uff0c\u4f1a\u7ed9\u7cfb\u7edf\u5e26\u6765\u4e00\u4e9b\u989d\u5916\u7684\u5f00\u9500\u3002 \u7531\u4e8e\u8003\u8651\u5230\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\uff0c\u9700\u8981\u5f15\u5165\u62bd\u8c61\u5c42\uff0c\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\u5747\u4f7f\u7528\u62bd\u8c61\u5c42\u8fdb\u884c\u5b9a\u4e49\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u62bd\u8c61\u6027\u548c\u7406\u89e3\u96be\u5ea6\uff0c\u4e14\u5728\u5b9e\u73b0\u65f6\u53ef\u80fd\u9700\u8981\u7528\u5230 DOM\u3001\u53cd\u5c04\u7b49\u6280\u672f\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u5b9e\u73b0\u96be\u5ea6\u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\uff1a \u4e00\u4e2a\u7c7b\u4e0d\u77e5\u9053\u5b83\u6240\u9700\u8981\u7684\u5bf9\u8c61\u7684\u7c7b\uff1a\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u77e5\u9053\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u7c7b\u540d\uff0c\u53ea\u9700\u8981\u77e5\u9053\u6240\u5bf9\u5e94\u7684\u5de5\u5382\u5373\u53ef\uff0c\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\u7531\u5177\u4f53\u5de5\u5382\u7c7b\u521b\u5efa\uff1b\u5ba2\u6237\u7aef\u9700\u8981\u77e5\u9053\u521b\u5efa\u5177\u4f53\u4ea7\u54c1\u7684\u5de5\u5382\u7c7b\u3002 \u4e00\u4e2a\u7c7b\u901a\u8fc7\u5176\u5b50\u7c7b\u6765\u6307\u5b9a\u521b\u5efa\u54ea\u4e2a\u5bf9\u8c61\uff1a\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5bf9\u4e8e\u62bd\u8c61\u5de5\u5382\u7c7b\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u521b\u5efa\u4ea7\u54c1\u7684\u63a5\u53e3\uff0c\u800c\u7531\u5176\u5b50\u7c7b\u6765\u786e\u5b9a\u5177\u4f53\u8981\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u5229\u7528\u9762\u5411\u5bf9\u8c61\u7684\u591a\u6001\u6027\u548c\u91cc\u6c0f\u4ee3\u6362\u539f\u5219\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u5b50\u7c7b\u5bf9\u8c61\u5c06\u8986\u76d6\u7236\u7c7b\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u66f4\u5bb9\u6613\u6269\u5c55\u3002 \u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u4efb\u52a1\u59d4\u6258\u7ed9\u591a\u4e2a\u5de5\u5382\u5b50\u7c7b\u4e2d\u7684\u67d0\u4e00\u4e2a\uff0c\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u65f6\u53ef\u4ee5\u65e0\u987b\u5173\u5fc3\u662f\u54ea\u4e00\u4e2a\u5de5\u5382\u5b50\u7c7b\u521b\u5efa\u4ea7\u54c1\u5b50\u7c7b\uff0c\u9700\u8981\u65f6\u518d\u52a8\u6001\u6307\u5b9a\uff0c\u53ef\u5c06\u5177\u4f53\u5de5\u5382\u7c7b\u7684\u7c7b\u540d\u5b58\u50a8\u5728\u914d\u7f6e\u6587\u4ef6\u6216\u6570\u636e\u5e93\u4e2d\u3002 \u4e94\u3001\u6a21\u5f0f\u6269\u5c55 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6709\u5f88\u591a\u6269\u5c55\uff0c\u800c\u4e14\u4e0e\u5176\u4ed6\u6a21\u5f0f\u7ed3\u5408\u4f7f\u7528\u5a01\u529b\u66f4\u5927\uff0c\u4e0b\u9762\u4ecb\u7ecd 4 \u79cd\u5e38\u7528\u6269\u5c55\u3002 1. \u7b80\u5355\u5de5\u5382\u6a21\u5f0f \u00b6 \u6211\u4eec\u8fd9\u6837\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u4e00\u4e2a\u6a21\u5757\u4ec5\u9700\u8981\u4e00\u4e2a\u5de5\u5382\u7c7b\uff0c\u6ca1\u6709\u5fc5\u8981\u628a\u5b83\u4ea7\u751f\u51fa\u6765\uff0c\u4f7f\u7528\u9759\u6001\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86\u3002\u56e0\u6b64\u53bb\u6389\u5de5\u5382\u7c7b\u4e2d\u7ee7\u627f\u7684\u62bd\u8c61\u7c7b\uff0c\u628a\u65b9\u6cd5\u6539\u6210\u9759\u6001\u5373\u53ef\u3002\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u4e2d\u7684\u5de5\u5382\u7c7b * */ public class SimpleFactory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ public static < T extends Product > T createProduct ( Class < T > c ) { Product product = null ; try { product = ( Product ) Class . forName ( c . getName ()). newInstance (); } catch ( Exception e ) { System . out . println ( \"\u751f\u4ea7\u4ea7\u54c1\u51fa\u9519\" ); e . printStackTrace (); } return ( T ) product ; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class SimpleClient { public static void main ( String [] args ) { Product product1 = SimpleFactory . createProduct ( ConcreteProduct1 . class ); product1 . method1 (); product1 . method2 (); Product product2 = SimpleFactory . createProduct ( ConcreteProduct2 . class ); product2 . method1 (); product2 . method2 (); } } \u8fd0\u884c\u7ed3\u679c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u4f46\u662f\u7c7b\u56fe\u7b80\u5355\u4e86\uff0c\u8c03\u7528\u8005\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u5f31\u5316\uff0c\u4e5f\u53eb\u505a\u9759\u6001\u5de5\u5382\u6a21\u5f0f\u3002\u5176\u7f3a\u70b9\u662f\u5de5\u5382\u7c7b\u7684\u6269\u5c55\u6bd4\u8f83\u56f0\u96be\uff0c\u4e0d\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff0c\u4f46\u5b83\u4ecd\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002 2. \u591a\u5de5\u5382\u7c7b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f \u00b6 \u5f53\u6211\u4eec\u5728\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u9879\u76ee\u65f6\uff0c\u7ecf\u5e38\u4f1a\u9047\u5230\u521d\u59cb\u5316\u4e00\u4e2a\u5bf9\u8c61\u5f88\u8017\u8d39\u7cbe\u529b\u7684\u60c5\u51b5\uff0c\u6240\u6709\u7684\u4ea7\u54c1\u7c7b\u90fd\u653e\u5230\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5\u4e2d\u8fdb\u884c\u521d\u59cb\u5316\u4f1a\u4f7f\u4ee3\u7801\u7ed3\u6784\u4e0d\u6e05\u6670\u3002\u4e3a\u4e86\u8ba9\u7ed3\u6784\u6e05\u6670\uff0c\u6211\u4eec\u5c31\u4e3a\u6bcf\u7c7b\u4ea7\u54c1\u5b9a\u4e49\u4e00\u4e2a\u521b\u9020\u8005\uff0c\u7136\u540e\u7531\u8c03\u7528\u8005\u81ea\u5df1\u53bb\u9009\u62e9\u4e0e\u54ea\u4e2a\u5de5\u5382\u65b9\u6cd5\u5173\u8054\u3002\u591a\u5de5\u5382\u6a21\u5f0f\u7684\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a \u591a\u5de5\u5382\u6a21\u5f0f\u7684\u62bd\u8c61\u5de5\u5382\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u751f\u6210\u591a\u4e2a\u4ea7\u54c1\u7684\u62bd\u8c61\u5de5\u5382\u7c7b * */ public abstract class MultiFactory { /** * \u751f\u6210\u67d0\u79cd\u4ea7\u54c1\u7684\u65b9\u6cd5 * @return */ public abstract Product createProduct (); } \u7b2c\u4e00\u79cd\u4ea7\u54c1\u7684\u521b\u5efa\u5de5\u5382\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u751f\u6210\u4ea7\u54c11\u7684\u5177\u4f53\u5de5\u5382\u7c7b1 * */ public class ConcreteFactory1 extends MultiFactory { /** * \u751f\u6210\u4ea7\u54c11\u7684\u65b9\u6cd5 * @return */ @Override public Product createProduct () { return new ConcreteProduct1 (); } } \u7b2c\u4e8c\u79cd\u4ea7\u54c1\u7684\u521b\u5efa\u5de5\u5382\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u751f\u6210\u4ea7\u54c12\u7684\u5177\u4f53\u5de5\u5382\u7c7b2 * */ public class ConcreteFactory2 extends MultiFactory { /** * \u751f\u6210\u4ea7\u54c12\u7684\u65b9\u6cd5 * @return */ @Override public Product createProduct () { return new ConcreteProduct2 (); } } \u591a\u5de5\u5382\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u591a\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class MultiClient { public static void main ( String [] args ) { Product concreteProduct1 = ( new ConcreteFactory1 ()). createProduct (); concreteProduct1 . method1 (); concreteProduct1 . method2 (); Product concreteProduct2 = ( new ConcreteFactory2 ()). createProduct (); concreteProduct1 . method1 (); concreteProduct1 . method2 (); } } 3. \u5de5\u5382\u65b9\u6cd5\u7684\u5355\u4f8b\u6a21\u5f0f \u00b6 \u5355\u4f8b\u6a21\u5f0f\u7684\u6838\u5fc3\u8981\u6c42\u5c31\u662f\u5728\u5185\u5b58\u4e2d\u53ea\u6709\u4e00\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e5f\u53ef\u4ee5\u53ea\u5728\u5185\u5b58\u4e2d\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u5b9e\u73b0\u5355\u4f8b\u7684\u529f\u80fd\u3002 \u4e0b\u9762\u662f\u5355\u4f8b\u7c7b\uff0c\u5176\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a private \u7684\u65e0\u53c2\u6784\u9020\u51fd\u6570\uff0c\u76ee\u7684\u662f\u4e0d\u5141\u8bb8\u901a\u8fc7 new \u7684\u65b9\u5f0f\u521b\u5efa\u5bf9\u8c61\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u7c7b * */ public class Singleton { /** * \u79c1\u6709\u5316\u6784\u9020\u65b9\u6cd5\uff0c\u4e0d\u5141\u8bb8new\u4ea7\u751f\u4e00\u4e2a\u5bf9\u8c61 */ private Singleton () {} /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u6a21\u5f0f\u4e1a\u52a1\u65b9\u6cd5 */ public void doSomething () { System . out . println ( \"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u6a21\u5f0f\u65b9\u6cd5\u3002\u3002\u3002\" ); } } \u4ee5\u4e0a\u5355\u4f8b\u7c7b\u4e2d\u4e0d\u80fd\u901a\u8fc7\u6b63\u5e38\u7684\u6e20\u9053\u5efa\u7acb\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u5355\u4f8b\u7684\u5de5\u5382\u7c7b\u4e2d\u5982\u4f55\u5efa\u7acb\u4e00\u4e2a\u5355\u4f8b\u5bf9\u8c61\u5462\uff1f\u7b54\u6848\u662f\u901a\u8fc7\u53cd\u5c04\u65b9\u5f0f\u521b\u5efa\uff0c\u5355\u4f8b\u5de5\u5382\u7c7b\u7684\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 /** * \u751f\u6210\u5355\u4f8b\u7684\u5de5\u5382\u7c7b * */ public class SingletonFactory { private static Singleton singleton ; static { try { Class c = Class . forName ( Singleton . class . getName ()); // \u83b7\u5f97\u65e0\u53c2\u6784\u9020 Constructor constructor = c . getDeclaredConstructor (); // \u8bbe\u7f6e\u65e0\u53c2\u6784\u9020\u662f\u53ef\u8bbf\u95ee\u7684 constructor . setAccessible ( true ); // \u4ea7\u751f\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61 singleton = ( Singleton ) constructor . newInstance (); } catch ( Exception e ) { e . printStackTrace (); System . out . println ( \"\u751f\u6210\u5355\u4f8b\u7684\u5de5\u5382\u7c7b\u65b9\u6cd5\u4e2d\u751f\u6210\u5355\u4f8b\u51fa\u9519\" ); zuihou } } public static Singleton getSingleton () { return singleton ; } } \u6700\u540e\u662f\u5de5\u5382\u65b9\u6cd5\u5355\u4f8b\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u5de5\u5382\u65b9\u6cd5\u5355\u4f8b\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class SingleClient { public static void main ( String [] args ) { Singleton singleton = SingletonFactory . getSingleton (); singleton . doSomething (); } } 4. \u5de5\u5382\u65b9\u6cd5\u7684\u5ef6\u8fdf\u521d\u59cb\u5316 \u00b6 \u4f55\u4e3a\u5ef6\u8fdf\u521d\u59cb\u5316\uff1f\u4e00\u4e2a\u5bf9\u8c61\u88ab\u6d88\u8d39\u5b8c\u6bd5\u540e\uff0c\u5e76\u4e0d\u7acb\u5373\u91ca\u653e\uff0c\u5de5\u5382\u7c7b\u4fdd\u6301\u5176\u521d\u59cb\u72b6\u6001\uff0c\u7b49\u5f85\u518d\u6b21\u4f7f\u7528\u3002\u5ef6\u8fdf\u521d\u59cb\u5316\u662f\u5de5\u5382\u6a21\u5f0f\u7684\u4e00\u4e2a\u6269\u5c55\u5e94\u7528\uff0c\u5176\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u7c7b * */ public class LazyFactory { private static final Map < String , Product > lazyMap = new HashMap < String , Product > (); public static synchronized Product createProduct ( String type ) { Product product = null ; // \u5982\u679cmap\u4e2d\u5df2\u7ecf\u6709\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u53d6\u51fa\u8be5\u5bf9\u8c61\u5373\u53ef\uff0c\u5426\u5219\u521b\u5efa\u5e76\u653e\u5728\u7f13\u5b58\u5bb9\u5668\u4e2d if ( lazyMap . containsKey ( type )) { return lazyMap . get ( type ); } // \u6839\u636e\u7c7b\u578b\u521b\u5efa\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61 if ( \"product1\" . equals ( type )) { product = new ConcreteProduct1 (); } else { product = new ConcreteProduct2 (); } // \u540c\u65f6\u628a\u5bf9\u8c61\u653e\u5230\u7f13\u5b58\u5bb9\u5668\u4e2d lazyMap . put ( \"type\" , product ); return product ; } } \u4e0a\u9762\u5373\u4e3a\u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u7c7b\u3002\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a map \u5bb9\u5668\u6765\u5bb9\u7eb3\u6240\u6709\u4ea7\u751f\u7684\u5bf9\u8c61\uff0c\u5982\u679c\u5728 map \u5bb9\u5668\u4e2d\u5df2\u7ecf\u6709\u7684\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u53d6\u51fa\u8fd4\u56de\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u5219\u6839\u636e\u9700\u8981\u7684\u7c7b\u578b\u4ea7\u751f\u4e00\u4e2a\u5bf9\u8c61\u5e76\u653e\u5165\u5230 map \u5bb9\u5668\u4e2d\uff0c\u4ee5\u4fbf\u4e0b\u6b21\u8c03\u7528\u3002 \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class LazyClient { public static void main ( String [] args ) { Product product1 = LazyFactory . createProduct ( \"product1\" ); Product product11 = LazyFactory . createProduct ( \"product1\" ); } } \u516d\u3001\u603b\u7ed3 \u00b6 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53c8\u79f0\u4e3a\u5de5\u5382\u6a21\u5f0f\uff0c\u5b83\u5c5e\u4e8e\u7c7b\u521b\u5efa\u578b\u6a21\u5f0f\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u7236\u7c7b\u8d1f\u8d23\u5b9a\u4e49\u521b\u5efa\u4ea7\u54c1\u5bf9\u8c61\u7684\u516c\u5171\u63a5\u53e3\uff0c\u800c\u5de5\u5382\u5b50\u7c7b\u5219\u8d1f\u8d23\u751f\u6210\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u5c06\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u5316\u64cd\u4f5c\u5ef6\u8fdf\u5230\u5de5\u5382\u5b50\u7c7b\u4e2d\u5b8c\u6210\uff0c\u5373\u901a\u8fc7\u5de5\u5382\u5b50\u7c7b\u6765\u786e\u5b9a\u7a76\u7adf\u5e94\u8be5\u5b9e\u4f8b\u5316\u54ea\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4ea7\u54c1\u662f\u5b9a\u4e49\u4ea7\u54c1\u7684\u63a5\u53e3\uff0c\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6240\u521b\u5efa\u5bf9\u8c61\u7684\u8d85\u7c7b\u578b\uff0c\u5373\u4ea7\u54c1\u5bf9\u8c61\u7684\u5171\u540c\u7236\u7c7b\u6216\u63a5\u53e3\uff1b\u5177\u4f53\u4ea7\u54c1\u5b9e\u73b0\u4e86\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u67d0\u79cd\u7c7b\u578b\u7684\u5177\u4f53\u4ea7\u54c1\u7531\u4e13\u95e8\u7684\u5177\u4f53\u5de5\u5382\u521b\u5efa\uff0c\u5b83\u4eec\u4e4b\u95f4\u5f80\u5f80\u4e00\u4e00\u5bf9\u5e94\uff1b\u62bd\u8c61\u5de5\u5382\u4e2d\u58f0\u660e\u4e86\u5de5\u5382\u65b9\u6cd5\uff0c\u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u4ea7\u54c1\uff0c\u5b83\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u6838\u5fc3\uff0c\u4efb\u4f55\u5728\u6a21\u5f0f\u4e2d\u521b\u5efa\u5bf9\u8c61\u7684\u5de5\u5382\u7c7b\u90fd\u5fc5\u987b\u5b9e\u73b0\u8be5\u63a5\u53e3\uff1b\u5177\u4f53\u5de5\u5382\u662f\u62bd\u8c61\u5de5\u5382\u7c7b\u7684\u5b50\u7c7b\uff0c\u5b9e\u73b0\u4e86\u62bd\u8c61\u5de5\u5382\u4e2d\u5b9a\u4e49\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u5e76\u53ef\u7531\u5ba2\u6237\u8c03\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u662f\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u8fdb\u4e00\u6b65\u62bd\u8c61\u548c\u63a8\u5e7f\u3002\u7531\u4e8e\u4f7f\u7528\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u591a\u6001\u6027\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4fdd\u6301\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4f18\u70b9\uff0c\u800c\u4e14\u514b\u670d\u4e86\u5b83\u7684\u7f3a\u70b9\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u6838\u5fc3\u7684\u5de5\u5382\u7c7b\u4e0d\u518d\u8d1f\u8d23\u6240\u6709\u4ea7\u54c1\u7684\u521b\u5efa\uff0c\u800c\u662f\u5c06\u5177\u4f53\u521b\u5efa\u5de5\u4f5c\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002\u8fd9\u4e2a\u6838\u5fc3\u7c7b\u4ec5\u4ec5\u8d1f\u8d23\u7ed9\u51fa\u5177\u4f53\u5de5\u5382\u5fc5\u987b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0c\u800c\u4e0d\u8d1f\u8d23\u4ea7\u54c1\u7c7b\u88ab\u5b9e\u4f8b\u5316\u8fd9\u79cd\u7ec6\u8282\uff0c\u8fd9\u4f7f\u5f97\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u5141\u8bb8\u7cfb\u7edf\u5728\u4e0d\u4fee\u6539\u5de5\u5382\u89d2\u8272\u7684\u60c5\u51b5\u4e0b\u5f15\u8fdb\u65b0\u4ea7\u54c1\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u589e\u52a0\u65b0\u7684\u4ea7\u54c1\u7c7b\u65f6\u65e0\u987b\u4fee\u6539\u73b0\u6709\u7cfb\u7edf\uff0c\u5e76\u5c01\u88c5\u4e86\u4ea7\u54c1\u5bf9\u8c61\u7684\u521b\u5efa\u7ec6\u8282\uff0c\u7cfb\u7edf\u5177\u6709\u826f\u597d\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u589e\u52a0\u65b0\u4ea7\u54c1\u7684\u540c\u65f6\u9700\u8981\u589e\u52a0\u65b0\u7684\u5de5\u5382\uff0c\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6210\u5bf9\u589e\u52a0\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u4e00\u4e2a\u7c7b\u4e0d\u77e5\u9053\u5b83\u6240\u9700\u8981\u7684\u5bf9\u8c61\u7684\u7c7b\uff1b\u4e00\u4e2a\u7c7b\u901a\u8fc7\u5176\u5b50\u7c7b\u6765\u6307\u5b9a\u521b\u5efa\u54ea\u4e2a\u5bf9\u8c61\uff1b\u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u4efb\u52a1\u59d4\u6258\u7ed9\u591a\u4e2a\u5de5\u5382\u5b50\u7c7b\u4e2d\u7684\u67d0\u4e00\u4e2a\uff0c\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u65f6\u53ef\u4ee5\u65e0\u987b\u5173\u5fc3\u662f\u54ea\u4e00\u4e2a\u5de5\u5382\u5b50\u7c7b\u521b\u5efa\u4ea7\u54c1\u5b50\u7c7b\uff0c\u9700\u8981\u65f6\u518d\u52a8\u6001\u6307\u5b9a\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_1","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f( Factory Method Pattern )\u53c8\u79f0\u4e3a\u5de5\u5382\u6a21\u5f0f\uff0c\u4e5f\u53eb\u865a\u62df\u6784\u9020\u5668(Virtual Constructor)\u6a21\u5f0f\u6216\u8005\u591a\u6001\u5de5\u5382(Polymorphic Factory)\u6a21\u5f0f\uff0c\u5b83\u5c5e\u4e8e\u7c7b\u521b\u5efa\u578b\u6a21\u5f0f\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u7236\u7c7b\u8d1f\u8d23\u5b9a\u4e49\u521b\u5efa\u4ea7\u54c1\u5bf9\u8c61\u7684\u516c\u5171\u63a5\u53e3\uff0c\u800c\u5de5\u5382\u5b50\u7c7b\u5219\u8d1f\u8d23\u751f\u6210\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u5c06\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u5316\u64cd\u4f5c\u5ef6\u8fdf\u5230\u5de5\u5382\u5b50\u7c7b\u4e2d\u5b8c\u6210\uff0c\u5373\u901a\u8fc7\u5de5\u5382\u5b50\u7c7b\u6765\u786e\u5b9a\u7a76\u7adf\u5e94\u8be5\u5b9e\u4f8b\u5316\u54ea\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_2","text":"","title":"\u4e8c\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#1","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Product \uff1a\u62bd\u8c61\u4ea7\u54c1 ConcreteProduct \uff1a\u5177\u4f53\u4ea7\u54c1 Factory \uff1a\u62bd\u8c61\u5de5\u5382 ConcreteFactory \uff1a\u5177\u4f53\u5de5\u5382","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#3","text":"","title":"3. \u65f6\u5e8f\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_3","text":"\u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u4ea7\u54c1\u7c7b\u548c\u5177\u4f53\u7684\u4ea7\u54c1\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u62bd\u8c61\u4ea7\u54c1\u7c7b * */ public abstract class Product { /** * \u4ea7\u54c1\u7c7b\u7684\u516c\u5171\u65b9\u6cd5 */ public void method1 () { System . out . println ( \"\u8fd9\u662f\u4ea7\u54c1\u7c7b\u7684\u516c\u5171\u65b9\u6cd5\" ); } /** * \u62bd\u8c61\u65b9\u6cd5 */ public abstract void method2 (); } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u4ea7\u54c1\u7c7b1 * */ public class ConcreteProduct1 extends Product { @Override public void method2 () { System . out . println ( \"ConcreteProduct1\u7684method2\u65b9\u6cd5\" ); } } 1 2 3 4 5 6 7 8 9 10 11 /** * \u5177\u4f53\u4ea7\u54c1\u7c7b2 * */ public class ConcreteProduct2 extends Product { @Override public void method2 () { System . out . println ( \"ConcreteProduct2\u7684method2\u65b9\u6cd5\" ); } } \u7136\u540e\uff0c\u662f\u62bd\u8c61\u7684\u5de5\u5382\u7c7b\u548c\u5177\u4f53\u7684\u5de5\u5382\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u62bd\u8c61\u7684\u5de5\u5382\u7c7b * */ public abstract class Factory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ public abstract < T extends Product > T createProduct ( Class < T > c ); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u5177\u4f53\u751f\u4ea7\u4ea7\u54c1\u7684\u5de5\u5382\u7c7b * */ public class ConcreteFactory extends Factory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ @Override public < T extends Product > T createProduct ( Class < T > c ) { Product product = null ; try { product = ( Product ) Class . forName ( c . getName ()). newInstance (); } catch ( Exception e ) { System . out . println ( \"\u751f\u4ea7\u4ea7\u54c1\u51fa\u9519\" ); e . printStackTrace (); } return ( T ) product ; } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class Client { public static void main ( String [] args ) { Factory factory = new ConcreteFactory (); Product product1 = factory . createProduct ( ConcreteProduct1 . class ); product1 . method1 (); product1 . method2 (); Product product2 = factory . createProduct ( ConcreteProduct2 . class ); product2 . method1 (); product2 . method2 (); } }","title":"\u4e09\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_4","text":"\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u6838\u5fc3\u7684\u5de5\u5382\u7c7b\u4e0d\u518d\u8d1f\u8d23\u6240\u6709\u4ea7\u54c1\u7684\u521b\u5efa\uff0c\u800c\u662f\u5c06\u5177\u4f53\u521b\u5efa\u5de5\u4f5c\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002\u8fd9\u4e2a\u6838\u5fc3\u7c7b\u4ec5\u4ec5\u8d1f\u8d23\u7ed9\u51fa\u5177\u4f53\u5de5\u5382\u5fc5\u987b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0c\u800c\u4e0d\u8d1f\u8d23\u54ea\u4e00\u4e2a\u4ea7\u54c1\u7c7b\u88ab\u5b9e\u4f8b\u5316\u8fd9\u79cd\u7ec6\u8282\uff0c\u8fd9\u4f7f\u5f97\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u5141\u8bb8\u7cfb\u7edf\u5728\u4e0d\u4fee\u6539\u5de5\u5382\u89d2\u8272\u7684\u60c5\u51b5\u4e0b\u5f15\u8fdb\u65b0\u4ea7\u54c1\u3002","title":"\u56db\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#1_1","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u65b9\u6cd5\u7528\u6765\u521b\u5efa\u5ba2\u6237\u6240\u9700\u8981\u7684\u4ea7\u54c1\uff0c\u540c\u65f6\u8fd8\u5411\u5ba2\u6237\u9690\u85cf\u4e86\u54ea\u79cd\u5177\u4f53\u4ea7\u54c1\u7c7b\u5c06\u88ab\u5b9e\u4f8b\u5316\u8fd9\u4e00\u7ec6\u8282\uff0c\u7528\u6237\u53ea\u9700\u8981\u5173\u5fc3\u6240\u9700\u4ea7\u54c1\u5bf9\u5e94\u7684\u5de5\u5382\uff0c\u65e0\u987b\u5173\u5fc3\u521b\u5efa\u7ec6\u8282\uff0c\u751a\u81f3\u65e0\u987b\u77e5\u9053\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u7c7b\u540d\u3002 \u57fa\u4e8e\u5de5\u5382\u89d2\u8272\u548c\u4ea7\u54c1\u89d2\u8272\u7684\u591a\u6001\u6027\u8bbe\u8ba1\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u5173\u952e\u3002\u5b83\u80fd\u591f\u4f7f\u5de5\u5382\u53ef\u4ee5\u81ea\u4e3b\u786e\u5b9a\u521b\u5efa\u4f55\u79cd\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u5982\u4f55\u521b\u5efa\u8fd9\u4e2a\u5bf9\u8c61\u7684\u7ec6\u8282\u5219\u5b8c\u5168\u5c01\u88c5\u5728\u5177\u4f53\u5de5\u5382\u5185\u90e8\u3002\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e4b\u6240\u4ee5\u53c8\u88ab\u79f0\u4e3a\u591a\u6001\u5de5\u5382\u6a21\u5f0f\uff0c\u662f\u56e0\u4e3a\u6240\u6709\u7684\u5177\u4f53\u5de5\u5382\u7c7b\u90fd\u5177\u6709\u540c\u4e00\u62bd\u8c61\u7236\u7c7b\u3002 \u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\u5728\u7cfb\u7edf\u4e2d\u52a0\u5165\u65b0\u4ea7\u54c1\u65f6\uff0c\u65e0\u987b\u4fee\u6539\u62bd\u8c61\u5de5\u5382\u548c\u62bd\u8c61\u4ea7\u54c1\u63d0\u4f9b\u7684\u63a5\u53e3\uff0c\u65e0\u987b\u4fee\u6539\u5ba2\u6237\u7aef\uff0c\u4e5f\u65e0\u987b\u4fee\u6539\u5176\u4ed6\u7684\u5177\u4f53\u5de5\u5382\u548c\u5177\u4f53\u4ea7\u54c1\uff0c\u800c\u53ea\u8981\u6dfb\u52a0\u4e00\u4e2a\u5177\u4f53\u5de5\u5382\u548c\u5177\u4f53\u4ea7\u54c1\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u6837\uff0c\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\u4e5f\u5c31\u53d8\u5f97\u975e\u5e38\u597d\uff0c\u5b8c\u5168\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#2_1","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5728\u6dfb\u52a0\u65b0\u4ea7\u54c1\u65f6\uff0c\u9700\u8981\u7f16\u5199\u65b0\u7684\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u800c\u4e14\u8fd8\u8981\u63d0\u4f9b\u4e0e\u4e4b\u5bf9\u5e94\u7684\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\u5c06\u6210\u5bf9\u589e\u52a0\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u6709\u66f4\u591a\u7684\u7c7b\u9700\u8981\u7f16\u8bd1\u548c\u8fd0\u884c\uff0c\u4f1a\u7ed9\u7cfb\u7edf\u5e26\u6765\u4e00\u4e9b\u989d\u5916\u7684\u5f00\u9500\u3002 \u7531\u4e8e\u8003\u8651\u5230\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\uff0c\u9700\u8981\u5f15\u5165\u62bd\u8c61\u5c42\uff0c\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\u5747\u4f7f\u7528\u62bd\u8c61\u5c42\u8fdb\u884c\u5b9a\u4e49\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u62bd\u8c61\u6027\u548c\u7406\u89e3\u96be\u5ea6\uff0c\u4e14\u5728\u5b9e\u73b0\u65f6\u53ef\u80fd\u9700\u8981\u7528\u5230 DOM\u3001\u53cd\u5c04\u7b49\u6280\u672f\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u5b9e\u73b0\u96be\u5ea6\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#3_1","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\uff1a \u4e00\u4e2a\u7c7b\u4e0d\u77e5\u9053\u5b83\u6240\u9700\u8981\u7684\u5bf9\u8c61\u7684\u7c7b\uff1a\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u77e5\u9053\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u7c7b\u540d\uff0c\u53ea\u9700\u8981\u77e5\u9053\u6240\u5bf9\u5e94\u7684\u5de5\u5382\u5373\u53ef\uff0c\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\u7531\u5177\u4f53\u5de5\u5382\u7c7b\u521b\u5efa\uff1b\u5ba2\u6237\u7aef\u9700\u8981\u77e5\u9053\u521b\u5efa\u5177\u4f53\u4ea7\u54c1\u7684\u5de5\u5382\u7c7b\u3002 \u4e00\u4e2a\u7c7b\u901a\u8fc7\u5176\u5b50\u7c7b\u6765\u6307\u5b9a\u521b\u5efa\u54ea\u4e2a\u5bf9\u8c61\uff1a\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5bf9\u4e8e\u62bd\u8c61\u5de5\u5382\u7c7b\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u521b\u5efa\u4ea7\u54c1\u7684\u63a5\u53e3\uff0c\u800c\u7531\u5176\u5b50\u7c7b\u6765\u786e\u5b9a\u5177\u4f53\u8981\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u5229\u7528\u9762\u5411\u5bf9\u8c61\u7684\u591a\u6001\u6027\u548c\u91cc\u6c0f\u4ee3\u6362\u539f\u5219\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u5b50\u7c7b\u5bf9\u8c61\u5c06\u8986\u76d6\u7236\u7c7b\u5bf9\u8c61\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u66f4\u5bb9\u6613\u6269\u5c55\u3002 \u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u4efb\u52a1\u59d4\u6258\u7ed9\u591a\u4e2a\u5de5\u5382\u5b50\u7c7b\u4e2d\u7684\u67d0\u4e00\u4e2a\uff0c\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u65f6\u53ef\u4ee5\u65e0\u987b\u5173\u5fc3\u662f\u54ea\u4e00\u4e2a\u5de5\u5382\u5b50\u7c7b\u521b\u5efa\u4ea7\u54c1\u5b50\u7c7b\uff0c\u9700\u8981\u65f6\u518d\u52a8\u6001\u6307\u5b9a\uff0c\u53ef\u5c06\u5177\u4f53\u5de5\u5382\u7c7b\u7684\u7c7b\u540d\u5b58\u50a8\u5728\u914d\u7f6e\u6587\u4ef6\u6216\u6570\u636e\u5e93\u4e2d\u3002","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_5","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6709\u5f88\u591a\u6269\u5c55\uff0c\u800c\u4e14\u4e0e\u5176\u4ed6\u6a21\u5f0f\u7ed3\u5408\u4f7f\u7528\u5a01\u529b\u66f4\u5927\uff0c\u4e0b\u9762\u4ecb\u7ecd 4 \u79cd\u5e38\u7528\u6269\u5c55\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u6269\u5c55"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#1_2","text":"\u6211\u4eec\u8fd9\u6837\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u4e00\u4e2a\u6a21\u5757\u4ec5\u9700\u8981\u4e00\u4e2a\u5de5\u5382\u7c7b\uff0c\u6ca1\u6709\u5fc5\u8981\u628a\u5b83\u4ea7\u751f\u51fa\u6765\uff0c\u4f7f\u7528\u9759\u6001\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86\u3002\u56e0\u6b64\u53bb\u6389\u5de5\u5382\u7c7b\u4e2d\u7ee7\u627f\u7684\u62bd\u8c61\u7c7b\uff0c\u628a\u65b9\u6cd5\u6539\u6210\u9759\u6001\u5373\u53ef\u3002\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * \u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u4e2d\u7684\u5de5\u5382\u7c7b * */ public class SimpleFactory { /** * \u8fd0\u7528\u4e86Java\u4e2d\u7684\u6cdb\u578b\u548c\u53cd\u5c04\u6280\u672f,\u751f\u6210\u67d0\u79cd\u5177\u4f53\u7684\u4ea7\u54c1 * \u5176\u8f93\u5165\u7c7b\u578b\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e * @param c * @param <T> * @return */ public static < T extends Product > T createProduct ( Class < T > c ) { Product product = null ; try { product = ( Product ) Class . forName ( c . getName ()). newInstance (); } catch ( Exception e ) { System . out . println ( \"\u751f\u4ea7\u4ea7\u54c1\u51fa\u9519\" ); e . printStackTrace (); } return ( T ) product ; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class SimpleClient { public static void main ( String [] args ) { Product product1 = SimpleFactory . createProduct ( ConcreteProduct1 . class ); product1 . method1 (); product1 . method2 (); Product product2 = SimpleFactory . createProduct ( ConcreteProduct2 . class ); product2 . method1 (); product2 . method2 (); } } \u8fd0\u884c\u7ed3\u679c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u4f46\u662f\u7c7b\u56fe\u7b80\u5355\u4e86\uff0c\u8c03\u7528\u8005\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u5f31\u5316\uff0c\u4e5f\u53eb\u505a\u9759\u6001\u5de5\u5382\u6a21\u5f0f\u3002\u5176\u7f3a\u70b9\u662f\u5de5\u5382\u7c7b\u7684\u6269\u5c55\u6bd4\u8f83\u56f0\u96be\uff0c\u4e0d\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff0c\u4f46\u5b83\u4ecd\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002","title":"1. \u7b80\u5355\u5de5\u5382\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#2_2","text":"\u5f53\u6211\u4eec\u5728\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u9879\u76ee\u65f6\uff0c\u7ecf\u5e38\u4f1a\u9047\u5230\u521d\u59cb\u5316\u4e00\u4e2a\u5bf9\u8c61\u5f88\u8017\u8d39\u7cbe\u529b\u7684\u60c5\u51b5\uff0c\u6240\u6709\u7684\u4ea7\u54c1\u7c7b\u90fd\u653e\u5230\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5\u4e2d\u8fdb\u884c\u521d\u59cb\u5316\u4f1a\u4f7f\u4ee3\u7801\u7ed3\u6784\u4e0d\u6e05\u6670\u3002\u4e3a\u4e86\u8ba9\u7ed3\u6784\u6e05\u6670\uff0c\u6211\u4eec\u5c31\u4e3a\u6bcf\u7c7b\u4ea7\u54c1\u5b9a\u4e49\u4e00\u4e2a\u521b\u9020\u8005\uff0c\u7136\u540e\u7531\u8c03\u7528\u8005\u81ea\u5df1\u53bb\u9009\u62e9\u4e0e\u54ea\u4e2a\u5de5\u5382\u65b9\u6cd5\u5173\u8054\u3002\u591a\u5de5\u5382\u6a21\u5f0f\u7684\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a \u591a\u5de5\u5382\u6a21\u5f0f\u7684\u62bd\u8c61\u5de5\u5382\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u751f\u6210\u591a\u4e2a\u4ea7\u54c1\u7684\u62bd\u8c61\u5de5\u5382\u7c7b * */ public abstract class MultiFactory { /** * \u751f\u6210\u67d0\u79cd\u4ea7\u54c1\u7684\u65b9\u6cd5 * @return */ public abstract Product createProduct (); } \u7b2c\u4e00\u79cd\u4ea7\u54c1\u7684\u521b\u5efa\u5de5\u5382\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u751f\u6210\u4ea7\u54c11\u7684\u5177\u4f53\u5de5\u5382\u7c7b1 * */ public class ConcreteFactory1 extends MultiFactory { /** * \u751f\u6210\u4ea7\u54c11\u7684\u65b9\u6cd5 * @return */ @Override public Product createProduct () { return new ConcreteProduct1 (); } } \u7b2c\u4e8c\u79cd\u4ea7\u54c1\u7684\u521b\u5efa\u5de5\u5382\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u751f\u6210\u4ea7\u54c12\u7684\u5177\u4f53\u5de5\u5382\u7c7b2 * */ public class ConcreteFactory2 extends MultiFactory { /** * \u751f\u6210\u4ea7\u54c12\u7684\u65b9\u6cd5 * @return */ @Override public Product createProduct () { return new ConcreteProduct2 (); } } \u591a\u5de5\u5382\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u591a\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class MultiClient { public static void main ( String [] args ) { Product concreteProduct1 = ( new ConcreteFactory1 ()). createProduct (); concreteProduct1 . method1 (); concreteProduct1 . method2 (); Product concreteProduct2 = ( new ConcreteFactory2 ()). createProduct (); concreteProduct1 . method1 (); concreteProduct1 . method2 (); } }","title":"2. \u591a\u5de5\u5382\u7c7b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#3_2","text":"\u5355\u4f8b\u6a21\u5f0f\u7684\u6838\u5fc3\u8981\u6c42\u5c31\u662f\u5728\u5185\u5b58\u4e2d\u53ea\u6709\u4e00\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e5f\u53ef\u4ee5\u53ea\u5728\u5185\u5b58\u4e2d\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u5b9e\u73b0\u5355\u4f8b\u7684\u529f\u80fd\u3002 \u4e0b\u9762\u662f\u5355\u4f8b\u7c7b\uff0c\u5176\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a private \u7684\u65e0\u53c2\u6784\u9020\u51fd\u6570\uff0c\u76ee\u7684\u662f\u4e0d\u5141\u8bb8\u901a\u8fc7 new \u7684\u65b9\u5f0f\u521b\u5efa\u5bf9\u8c61\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u7c7b * */ public class Singleton { /** * \u79c1\u6709\u5316\u6784\u9020\u65b9\u6cd5\uff0c\u4e0d\u5141\u8bb8new\u4ea7\u751f\u4e00\u4e2a\u5bf9\u8c61 */ private Singleton () {} /** * \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u6a21\u5f0f\u4e1a\u52a1\u65b9\u6cd5 */ public void doSomething () { System . out . println ( \"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\u7684\u5355\u4f8b\u6a21\u5f0f\u65b9\u6cd5\u3002\u3002\u3002\" ); } } \u4ee5\u4e0a\u5355\u4f8b\u7c7b\u4e2d\u4e0d\u80fd\u901a\u8fc7\u6b63\u5e38\u7684\u6e20\u9053\u5efa\u7acb\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u5355\u4f8b\u7684\u5de5\u5382\u7c7b\u4e2d\u5982\u4f55\u5efa\u7acb\u4e00\u4e2a\u5355\u4f8b\u5bf9\u8c61\u5462\uff1f\u7b54\u6848\u662f\u901a\u8fc7\u53cd\u5c04\u65b9\u5f0f\u521b\u5efa\uff0c\u5355\u4f8b\u5de5\u5382\u7c7b\u7684\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 /** * \u751f\u6210\u5355\u4f8b\u7684\u5de5\u5382\u7c7b * */ public class SingletonFactory { private static Singleton singleton ; static { try { Class c = Class . forName ( Singleton . class . getName ()); // \u83b7\u5f97\u65e0\u53c2\u6784\u9020 Constructor constructor = c . getDeclaredConstructor (); // \u8bbe\u7f6e\u65e0\u53c2\u6784\u9020\u662f\u53ef\u8bbf\u95ee\u7684 constructor . setAccessible ( true ); // \u4ea7\u751f\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61 singleton = ( Singleton ) constructor . newInstance (); } catch ( Exception e ) { e . printStackTrace (); System . out . println ( \"\u751f\u6210\u5355\u4f8b\u7684\u5de5\u5382\u7c7b\u65b9\u6cd5\u4e2d\u751f\u6210\u5355\u4f8b\u51fa\u9519\" ); zuihou } } public static Singleton getSingleton () { return singleton ; } } \u6700\u540e\u662f\u5de5\u5382\u65b9\u6cd5\u5355\u4f8b\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * \u5de5\u5382\u65b9\u6cd5\u5355\u4f8b\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class SingleClient { public static void main ( String [] args ) { Singleton singleton = SingletonFactory . getSingleton (); singleton . doSomething (); } }","title":"3. \u5de5\u5382\u65b9\u6cd5\u7684\u5355\u4f8b\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#4","text":"\u4f55\u4e3a\u5ef6\u8fdf\u521d\u59cb\u5316\uff1f\u4e00\u4e2a\u5bf9\u8c61\u88ab\u6d88\u8d39\u5b8c\u6bd5\u540e\uff0c\u5e76\u4e0d\u7acb\u5373\u91ca\u653e\uff0c\u5de5\u5382\u7c7b\u4fdd\u6301\u5176\u521d\u59cb\u72b6\u6001\uff0c\u7b49\u5f85\u518d\u6b21\u4f7f\u7528\u3002\u5ef6\u8fdf\u521d\u59cb\u5316\u662f\u5de5\u5382\u6a21\u5f0f\u7684\u4e00\u4e2a\u6269\u5c55\u5e94\u7528\uff0c\u5176\u901a\u7528\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u7c7b * */ public class LazyFactory { private static final Map < String , Product > lazyMap = new HashMap < String , Product > (); public static synchronized Product createProduct ( String type ) { Product product = null ; // \u5982\u679cmap\u4e2d\u5df2\u7ecf\u6709\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u53d6\u51fa\u8be5\u5bf9\u8c61\u5373\u53ef\uff0c\u5426\u5219\u521b\u5efa\u5e76\u653e\u5728\u7f13\u5b58\u5bb9\u5668\u4e2d if ( lazyMap . containsKey ( type )) { return lazyMap . get ( type ); } // \u6839\u636e\u7c7b\u578b\u521b\u5efa\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61 if ( \"product1\" . equals ( type )) { product = new ConcreteProduct1 (); } else { product = new ConcreteProduct2 (); } // \u540c\u65f6\u628a\u5bf9\u8c61\u653e\u5230\u7f13\u5b58\u5bb9\u5668\u4e2d lazyMap . put ( \"type\" , product ); return product ; } } \u4e0a\u9762\u5373\u4e3a\u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u7c7b\u3002\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a map \u5bb9\u5668\u6765\u5bb9\u7eb3\u6240\u6709\u4ea7\u751f\u7684\u5bf9\u8c61\uff0c\u5982\u679c\u5728 map \u5bb9\u5668\u4e2d\u5df2\u7ecf\u6709\u7684\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u53d6\u51fa\u8fd4\u56de\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u5219\u6839\u636e\u9700\u8981\u7684\u7c7b\u578b\u4ea7\u751f\u4e00\u4e2a\u5bf9\u8c61\u5e76\u653e\u5165\u5230 map \u5bb9\u5668\u4e2d\uff0c\u4ee5\u4fbf\u4e0b\u6b21\u8c03\u7528\u3002 \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u5ef6\u8fdf\u52a0\u8f7d\u7684\u5de5\u5382\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class LazyClient { public static void main ( String [] args ) { Product product1 = LazyFactory . createProduct ( \"product1\" ); Product product11 = LazyFactory . createProduct ( \"product1\" ); } }","title":"4. \u5de5\u5382\u65b9\u6cd5\u7684\u5ef6\u8fdf\u521d\u59cb\u5316"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f.html#_6","text":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53c8\u79f0\u4e3a\u5de5\u5382\u6a21\u5f0f\uff0c\u5b83\u5c5e\u4e8e\u7c7b\u521b\u5efa\u578b\u6a21\u5f0f\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u5de5\u5382\u7236\u7c7b\u8d1f\u8d23\u5b9a\u4e49\u521b\u5efa\u4ea7\u54c1\u5bf9\u8c61\u7684\u516c\u5171\u63a5\u53e3\uff0c\u800c\u5de5\u5382\u5b50\u7c7b\u5219\u8d1f\u8d23\u751f\u6210\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u5c06\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u5316\u64cd\u4f5c\u5ef6\u8fdf\u5230\u5de5\u5382\u5b50\u7c7b\u4e2d\u5b8c\u6210\uff0c\u5373\u901a\u8fc7\u5de5\u5382\u5b50\u7c7b\u6765\u786e\u5b9a\u7a76\u7adf\u5e94\u8be5\u5b9e\u4f8b\u5316\u54ea\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u4ea7\u54c1\u662f\u5b9a\u4e49\u4ea7\u54c1\u7684\u63a5\u53e3\uff0c\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6240\u521b\u5efa\u5bf9\u8c61\u7684\u8d85\u7c7b\u578b\uff0c\u5373\u4ea7\u54c1\u5bf9\u8c61\u7684\u5171\u540c\u7236\u7c7b\u6216\u63a5\u53e3\uff1b\u5177\u4f53\u4ea7\u54c1\u5b9e\u73b0\u4e86\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u67d0\u79cd\u7c7b\u578b\u7684\u5177\u4f53\u4ea7\u54c1\u7531\u4e13\u95e8\u7684\u5177\u4f53\u5de5\u5382\u521b\u5efa\uff0c\u5b83\u4eec\u4e4b\u95f4\u5f80\u5f80\u4e00\u4e00\u5bf9\u5e94\uff1b\u62bd\u8c61\u5de5\u5382\u4e2d\u58f0\u660e\u4e86\u5de5\u5382\u65b9\u6cd5\uff0c\u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u4ea7\u54c1\uff0c\u5b83\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u6838\u5fc3\uff0c\u4efb\u4f55\u5728\u6a21\u5f0f\u4e2d\u521b\u5efa\u5bf9\u8c61\u7684\u5de5\u5382\u7c7b\u90fd\u5fc5\u987b\u5b9e\u73b0\u8be5\u63a5\u53e3\uff1b\u5177\u4f53\u5de5\u5382\u662f\u62bd\u8c61\u5de5\u5382\u7c7b\u7684\u5b50\u7c7b\uff0c\u5b9e\u73b0\u4e86\u62bd\u8c61\u5de5\u5382\u4e2d\u5b9a\u4e49\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u5e76\u53ef\u7531\u5ba2\u6237\u8c03\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u662f\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u8fdb\u4e00\u6b65\u62bd\u8c61\u548c\u63a8\u5e7f\u3002\u7531\u4e8e\u4f7f\u7528\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u591a\u6001\u6027\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4fdd\u6301\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4f18\u70b9\uff0c\u800c\u4e14\u514b\u670d\u4e86\u5b83\u7684\u7f3a\u70b9\u3002\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u6838\u5fc3\u7684\u5de5\u5382\u7c7b\u4e0d\u518d\u8d1f\u8d23\u6240\u6709\u4ea7\u54c1\u7684\u521b\u5efa\uff0c\u800c\u662f\u5c06\u5177\u4f53\u521b\u5efa\u5de5\u4f5c\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002\u8fd9\u4e2a\u6838\u5fc3\u7c7b\u4ec5\u4ec5\u8d1f\u8d23\u7ed9\u51fa\u5177\u4f53\u5de5\u5382\u5fc5\u987b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0c\u800c\u4e0d\u8d1f\u8d23\u4ea7\u54c1\u7c7b\u88ab\u5b9e\u4f8b\u5316\u8fd9\u79cd\u7ec6\u8282\uff0c\u8fd9\u4f7f\u5f97\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u5141\u8bb8\u7cfb\u7edf\u5728\u4e0d\u4fee\u6539\u5de5\u5382\u89d2\u8272\u7684\u60c5\u51b5\u4e0b\u5f15\u8fdb\u65b0\u4ea7\u54c1\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u589e\u52a0\u65b0\u7684\u4ea7\u54c1\u7c7b\u65f6\u65e0\u987b\u4fee\u6539\u73b0\u6709\u7cfb\u7edf\uff0c\u5e76\u5c01\u88c5\u4e86\u4ea7\u54c1\u5bf9\u8c61\u7684\u521b\u5efa\u7ec6\u8282\uff0c\u7cfb\u7edf\u5177\u6709\u826f\u597d\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u589e\u52a0\u65b0\u4ea7\u54c1\u7684\u540c\u65f6\u9700\u8981\u589e\u52a0\u65b0\u7684\u5de5\u5382\uff0c\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6210\u5bf9\u589e\u52a0\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u4e00\u4e2a\u7c7b\u4e0d\u77e5\u9053\u5b83\u6240\u9700\u8981\u7684\u5bf9\u8c61\u7684\u7c7b\uff1b\u4e00\u4e2a\u7c7b\u901a\u8fc7\u5176\u5b50\u7c7b\u6765\u6307\u5b9a\u521b\u5efa\u54ea\u4e2a\u5bf9\u8c61\uff1b\u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u4efb\u52a1\u59d4\u6258\u7ed9\u591a\u4e2a\u5de5\u5382\u5b50\u7c7b\u4e2d\u7684\u67d0\u4e00\u4e2a\uff0c\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u65f6\u53ef\u4ee5\u65e0\u987b\u5173\u5fc3\u662f\u54ea\u4e00\u4e2a\u5de5\u5382\u5b50\u7c7b\u521b\u5efa\u4ea7\u54c1\u5b50\u7c7b\uff0c\u9700\u8981\u65f6\u518d\u52a8\u6001\u6307\u5b9a\u3002","title":"\u516d\u3001\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u65e0\u8bba\u662f\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\u8fd8\u662f\u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u90fd\u5b58\u5728\u4e00\u4e9b\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u4eec\u62e5\u6709\u591a\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u5982\u6c7d\u8f66\uff0c\u5b83\u5305\u62ec\u8f66\u8f6e\u3001\u65b9\u5411\u76d8\u3001\u53d1\u52a8\u673a\u7b49\u5404\u79cd\u90e8\u4ef6\u3002\u800c\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u800c\u8a00\uff0c\u65e0\u987b\u77e5\u9053\u8fd9\u4e9b\u90e8\u4ef6\u7684\u88c5\u914d\u7ec6\u8282\uff0c\u4e5f\u51e0\u4e4e\u4e0d\u4f1a\u4f7f\u7528\u5355\u72ec\u67d0\u4e2a\u90e8\u4ef6\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u8f86\u5b8c\u6574\u7684\u6c7d\u8f66\uff0c\u53ef\u4ee5\u901a\u8fc7\u5efa\u9020\u8005\u6a21\u5f0f\u5bf9\u5176\u8fdb\u884c\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u53ef\u4ee5\u5c06\u90e8\u4ef6\u548c\u5176\u7ec4\u88c5\u8fc7\u7a0b\u5206\u5f00\uff0c\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\u3002\u7528\u6237\u53ea\u9700\u8981\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5\u5bf9\u8c61\uff0c\u800c\u65e0\u987b\u77e5\u9053\u5176\u5185\u90e8\u7684\u5177\u4f53\u6784\u9020\u7ec6\u8282\u3002 \u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\uff0c\u4e5f\u5b58\u5728\u5927\u91cf\u7c7b\u4f3c\u6c7d\u8f66\u4e00\u6837\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u5b83\u4eec\u62e5\u6709\u4e00\u7cfb\u5217\u6210\u5458\u5c5e\u6027\uff0c\u8fd9\u4e9b\u6210\u5458\u5c5e\u6027\u4e2d\u6709\u4e9b\u662f\u5f15\u7528\u7c7b\u578b\u7684\u6210\u5458\u5bf9\u8c61\u3002\u800c\u4e14\u5728\u8fd9\u4e9b\u590d\u6742\u5bf9\u8c61\u4e2d\uff0c\u8fd8\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u9650\u5236\u6761\u4ef6\uff0c\u5982\u67d0\u4e9b\u5c5e\u6027\u6ca1\u6709\u8d4b\u503c\u5219\u590d\u6742\u5bf9\u8c61\u4e0d\u80fd\u4f5c\u4e3a\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u4f7f\u7528\uff1b\u6709\u4e9b\u5c5e\u6027\u7684\u8d4b\u503c\u5fc5\u987b\u6309\u7167\u67d0\u4e2a\u987a\u5e8f\uff0c\u4e00\u4e2a\u5c5e\u6027\u6ca1\u6709\u8d4b\u503c\u4e4b\u524d\uff0c\u53e6\u4e00\u4e2a\u5c5e\u6027\u53ef\u80fd\u65e0\u6cd5\u8d4b\u503c\u7b49\u3002 \u590d\u6742\u5bf9\u8c61\u76f8\u5f53\u4e8e\u4e00\u8f86\u6709\u5f85\u5efa\u9020\u7684\u6c7d\u8f66\uff0c\u800c\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u5f53\u4e8e\u6c7d\u8f66\u7684\u90e8\u4ef6\uff0c\u5efa\u9020\u4ea7\u54c1\u7684\u8fc7\u7a0b\u5c31\u76f8\u5f53\u4e8e\u7ec4\u5408\u90e8\u4ef6\u7684\u8fc7\u7a0b\u3002\u7531\u4e8e\u7ec4\u5408\u90e8\u4ef6\u7684\u8fc7\u7a0b\u5f88\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e9b\u90e8\u4ef6\u7684\u7ec4\u5408\u8fc7\u7a0b\u5f80\u5f80\u88ab\u201c\u5916\u90e8\u5316\u201d\u5230\u4e00\u4e2a\u79f0\u4f5c\u5efa\u9020\u8005\u7684\u5bf9\u8c61\u91cc\uff0c\u5efa\u9020\u8005\u8fd4\u8fd8\u7ed9\u5ba2\u6237\u7aef\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5efa\u9020\u5b8c\u6bd5\u7684\u5b8c\u6574\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u7528\u6237\u65e0\u987b\u5173\u5fc3\u8be5\u5bf9\u8c61\u6240\u5305\u542b\u7684\u5c5e\u6027\u4ee5\u53ca\u5b83\u4eec\u7684\u7ec4\u88c5\u65b9\u5f0f\uff0c\u8fd9\u5c31\u662f\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u9020\u8005\u6a21\u5f0f( Builder Pattern )\uff1a\u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5b83\u7684\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u8868\u793a\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u5c5e\u4e8e**\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f**\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u53c8\u53ef\u4ee5\u79f0\u4e3a**\u751f\u6210\u5668\u6a21\u5f0f**\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u662f\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u53ea\u901a\u8fc7\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u548c\u5185\u5bb9\u5c31\u53ef\u4ee5\u6784\u5efa\u5b83\u4eec\uff0c\u7528\u6237\u4e0d\u9700\u8981\u77e5\u9053\u5185\u90e8\u7684\u5177\u4f53\u6784\u5efa\u7ec6\u8282\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u5efa\u9020\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Builder \uff1a\u62bd\u8c61\u5efa\u9020\u8005 ConcreteBuilder \uff1a\u5177\u4f53\u5efa\u9020\u8005 Director \uff1a\u5bfc\u6f14\u8005 Product \uff1a\u4ea7\u54c1\u89d2\u8272 2. \u7ed3\u6784\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u4ea7\u54c1\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * \u4ea7\u54c1\u7c7b. */ public class Product { private String part1 ; private String part2 ; /* getter \u548c setter\u65b9\u6cd5. */ public String getPart1 () { return part1 ; } public void setPart1 ( String part1 ) { this . part1 = part1 ; } public String getPart2 () { return part2 ; } public void setPart2 ( String part2 ) { this . part2 = part2 ; } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684\u5efa\u9020\u8005 Builder \u63a5\u53e3\u548c\u5177\u4f53\u7684\u5efa\u9020\u8005 ConcreteBuilder \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /** * \u62bd\u8c61\u7684\u5efa\u9020\u8005. */ public interface Builder { /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52061. */ void buildPart1 (); /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52062. */ void buildPart2 (); /** * \u5f97\u5230\u5efa\u9020\u7684\u4ea7\u54c1. * * @return \u4ea7\u54c1 */ Product getResult (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 /** * \u5177\u4f53\u7684\u5efa\u9020\u8005\u5b9e\u73b0\u7c7b. */ public class ConcreteBuilder implements Builder { /** \u4ea7\u54c1. */ private Product product = new Product (); /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52061. */ @Override public void buildPart1 () { product . setPart1 ( \"\u7f16\u53f7\uff1a95757\" ); } /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52062. */ @Override public void buildPart2 () { product . setPart2 ( \"\u540d\u79f0\uff1a\u5c0f\u673a\u5668\u4eba\" ); } /** * \u5f97\u5230\u5efa\u9020\u7684\u4ea7\u54c1. * * @return \u4ea7\u54c1 */ @Override public Product getResult () { return product ; } } \u6700\u540e\uff0c\u5bfc\u6f14\u8005 Director \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 /** * \u5bfc\u6f14\u8005\u7c7b. */ public class Director { /** \u5f53\u524d\u9700\u8981\u7684\u5efa\u9020\u8005\u5bf9\u8c61. */ private Builder builder ; /** * \u6784\u9020\u65b9\u6cd5. * * @param builder */ public Director ( Builder builder ) { this . builder = builder ; } /** * \u4ea7\u54c1\u6784\u9020\u65b9\u6cd5\uff0c\u8d1f\u8d23\u8c03\u7528\u5404\u4e2a\u96f6\u4ef6\u5efa\u9020\u65b9\u6cd5. */ public void construct () { builder . buildPart1 (); builder . buildPart2 (); } } \u4ee5\u4e0b\u662f\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class BuilderClient { /** * \u4e3b\u5165\u53e3\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { Builder builder = new ConcreteBuilder (); Director director = new Director ( builder ); director . construct (); Product product = builder . getResult (); System . out . println ( product . getPart1 ()); System . out . println ( product . getPart2 ()); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u62bd\u8c61\u5efa\u9020\u8005\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4ea7\u54c1\u7684\u521b\u5efa\u65b9\u6cd5\u548c\u8fd4\u56de\u65b9\u6cd5; \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7ed3\u6784\u4e2d\u8fd8\u5f15\u5165\u4e86\u4e00\u4e2a\u5bfc\u6f14\u8005\u7c7b Director \uff0c\u8be5\u7c7b\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a\u4e00\u65b9\u9762\u5b83\u9694\u79bb\u4e86\u5ba2\u6237\u4e0e\u751f\u4ea7\u8fc7\u7a0b\uff1b\u53e6\u4e00\u65b9\u9762\u5b83\u8d1f\u8d23\u63a7\u5236\u4ea7\u54c1\u7684\u751f\u6210\u8fc7\u7a0b\u3002\u5bfc\u6f14\u8005\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7f16\u7a0b\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u77e5\u9053\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\uff0c\u5373\u53ef\u901a\u8fc7\u5bfc\u6f14\u8005\u7c7b\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u5bf9\u8c61 \u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\uff0c\u65e0\u987b\u5173\u5fc3\u4ea7\u54c1\u5bf9\u8c61\u7684\u5177\u4f53\u7ec4\u88c5\u8fc7\u7a0b\uff0c\u53ea\u9700\u786e\u5b9a\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\u5373\u53ef\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u5c06\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5bf9\u8c61\u7684\u8868\u73b0\u5206\u79bb\u5f00\u6765\uff0c\u8fd9\u6837\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u51fa\u4e0d\u540c\u7684\u8868\u73b0\u3002 1. \u4f18\u70b9 \u00b6 \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\uff0c \u5ba2\u6237\u7aef\u4e0d\u5fc5\u77e5\u9053\u4ea7\u54c1\u5185\u90e8\u7ec4\u6210\u7684\u7ec6\u8282\uff0c\u5c06\u4ea7\u54c1\u672c\u8eab\u4e0e\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\u89e3\u8026\uff0c\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002 \u6bcf\u4e00\u4e2a\u5177\u4f53\u5efa\u9020\u8005\u90fd\u76f8\u5bf9\u72ec\u7acb\uff0c\u800c\u4e0e\u5176\u4ed6\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u5173\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66ff\u6362\u5177\u4f53\u5efa\u9020\u8005\u6216\u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\uff0c \u7528\u6237\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u5efa\u9020\u8005\u5373\u53ef\u5f97\u5230\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61 \u3002 \u53ef\u4ee5\u66f4\u52a0\u7cbe\u7ec6\u5730\u63a7\u5236\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b \u3002\u5c06\u590d\u6742\u4ea7\u54c1\u7684\u521b\u5efa\u6b65\u9aa4\u5206\u89e3\u5728\u4e0d\u540c\u7684\u65b9\u6cd5\u4e2d\uff0c\u4f7f\u5f97\u521b\u5efa\u8fc7\u7a0b\u66f4\u52a0\u6e05\u6670\uff0c\u4e5f\u66f4\u65b9\u4fbf\u4f7f\u7528\u7a0b\u5e8f\u6765\u63a7\u5236\u521b\u5efa\u8fc7\u7a0b\u3002 \u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u987b\u4fee\u6539\u539f\u6709\u7c7b\u5e93\u7684\u4ee3\u7801\uff0c\u6307\u6325\u8005\u7c7b\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7c7b\u7f16\u7a0b\uff0c\u7cfb\u7edf\u6269\u5c55\u65b9\u4fbf\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 2. \u7f3a\u70b9 \u00b6 \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5efa\u9020\u8005\u6a21\u5f0f\u6240\u521b\u5efa\u7684\u4ea7\u54c1\u4e00\u822c\u5177\u6709\u8f83\u591a\u7684\u5171\u540c\u70b9\uff0c\u5176\u7ec4\u6210\u90e8\u5206\u76f8\u4f3c\uff0c\u5982\u679c\u4ea7\u54c1\u4e4b\u95f4\u7684\u5dee\u5f02\u6027\u5f88\u5927\uff0c\u5219\u4e0d\u9002\u5408\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236\u3002 \u5982\u679c\u4ea7\u54c1\u7684\u5185\u90e8\u53d8\u5316\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9700\u8981\u5b9a\u4e49\u5f88\u591a\u5177\u4f53\u5efa\u9020\u8005\u7c7b\u6765\u5b9e\u73b0\u8fd9\u79cd\u53d8\u5316\uff0c\u5bfc\u81f4\u7cfb\u7edf\u53d8\u5f97\u5f88\u5e9e\u5927\u3002 3. \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff1a \u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u6709\u590d\u6742\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u5bf9\u8c61\u901a\u5e38\u5305\u542b\u591a\u4e2a\u6210\u5458\u5c5e\u6027\u3002 \u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u4e92\u4f9d\u8d56\uff0c\u9700\u8981\u6307\u5b9a\u5176\u751f\u6210\u987a\u5e8f\u3002 \u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u72ec\u7acb\u4e8e\u521b\u5efa\u8be5\u5bf9\u8c61\u7684\u7c7b\u3002\u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\u5f15\u5165\u4e86\u6307\u6325\u8005\u7c7b\uff0c\u5c06\u521b\u5efa\u8fc7\u7a0b\u5c01\u88c5\u5728\u6307\u6325\u8005\u7c7b\u4e2d\uff0c\u800c\u4e0d\u5728\u5efa\u9020\u8005\u7c7b\u4e2d\u3002 \u9694\u79bb\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u4f7f\u7528\uff0c\u5e76\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u3002 4. \u5efa\u9020\u8005\u6a21\u5f0f\u4e0e\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u6bd4\u8f83 \u00b6 \u4e0e\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u76f8\u6bd4\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u8fd4\u56de\u4e00\u4e2a\u7ec4\u88c5\u597d\u7684\u5b8c\u6574\u4ea7\u54c1\uff0c\u800c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u8fd4\u56de\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u4ea7\u54c1\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u4f4d\u4e8e\u4e0d\u540c\u7684\u4ea7\u54c1\u7b49\u7ea7\u7ed3\u6784\uff0c\u6784\u6210\u4e86\u4e00\u4e2a\u4ea7\u54c1\u65cf\u3002 \u5728\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u5b9e\u4f8b\u5316\u5de5\u5382\u7c7b\uff0c\u7136\u540e\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u83b7\u53d6\u6240\u9700\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0d\u76f4\u63a5\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u800c\u662f\u901a\u8fc7\u6307\u6325\u8005\u7c7b\u6765\u6307\u5bfc\u5982\u4f55\u751f\u6210\u5bf9\u8c61\uff0c\u5305\u62ec\u5bf9\u8c61\u7684\u7ec4\u88c5\u8fc7\u7a0b\u548c\u5efa\u9020\u6b65\u9aa4\uff0c\u5b83\u4fa7\u91cd\u4e8e\u4e00\u6b65\u6b65\u6784\u9020\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u5bf9\u8c61\u3002 \u5982\u679c\u5c06\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u770b\u6210\u6c7d\u8f66\u914d\u4ef6\u751f\u4ea7\u5de5\u5382\uff0c\u751f\u4ea7\u4e00\u4e2a\u4ea7\u54c1\u65cf\u7684\u4ea7\u54c1\uff0c\u90a3\u4e48\u5efa\u9020\u8005\u6a21\u5f0f\u5c31\u662f\u4e00\u4e2a\u6c7d\u8f66\u7ec4\u88c5\u5de5\u5382\uff0c\u901a\u8fc7\u5bf9\u90e8\u4ef6\u7684\u7ec4\u88c5\u53ef\u4ee5\u8fd4\u56de\u4e00\u8f86\u5b8c\u6574\u7684\u6c7d\u8f66\u3002 \u516d\u3001\u6a21\u5f0f\u603b\u7ed3 \u00b6 \u5efa\u9020\u8005\u6a21\u5f0f\u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5b83\u7684\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u8868\u793a\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u662f\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u53ea\u901a\u8fc7\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u548c\u5185\u5bb9\u5c31\u53ef\u4ee5\u6784\u5efa\u5b83\u4eec\uff0c\u7528\u6237\u4e0d\u9700\u8981\u77e5\u9053\u5185\u90e8\u7684\u5177\u4f53\u6784\u5efa\u7ec6\u8282\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u5c5e\u4e8e\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u5efa\u9020\u8005\u4e3a\u521b\u5efa\u4e00\u4e2a\u4ea7\u54c1\u5bf9\u8c61\u7684\u5404\u4e2a\u90e8\u4ef6\u6307\u5b9a\u62bd\u8c61\u63a5\u53e3\uff1b\u5177\u4f53\u5efa\u9020\u8005\u5b9e\u73b0\u4e86\u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\uff0c\u5b9e\u73b0\u5404\u4e2a\u90e8\u4ef6\u7684\u6784\u9020\u548c\u88c5\u914d\u65b9\u6cd5\uff0c\u5b9a\u4e49\u5e76\u660e\u786e\u5b83\u6240\u521b\u5efa\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6cd5\u8fd4\u56de\u521b\u5efa\u597d\u7684\u590d\u6742\u4ea7\u54c1\u5bf9\u8c61\uff1b\u4ea7\u54c1\u89d2\u8272\u662f\u88ab\u6784\u5efa\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u5305\u542b\u591a\u4e2a\u7ec4\u6210\u90e8\u4ef6\uff1b\u6307\u6325\u8005\u8d1f\u8d23\u5b89\u6392\u590d\u6742\u5bf9\u8c61\u7684\u5efa\u9020\u6b21\u5e8f\uff0c\u6307\u6325\u8005\u4e0e\u62bd\u8c61\u5efa\u9020\u8005\u4e4b\u95f4\u5b58\u5728\u5173\u8054\u5173\u7cfb\uff0c\u53ef\u4ee5\u5728\u5176 construct() \u5efa\u9020\u65b9\u6cd5\u4e2d\u8c03\u7528\u5efa\u9020\u8005\u5bf9\u8c61\u7684\u90e8\u4ef6\u6784\u9020\u4e0e\u88c5\u914d\u65b9\u6cd5\uff0c\u5b8c\u6210\u590d\u6742\u5bf9\u8c61\u7684\u5efa\u9020 \u5728\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7ed3\u6784\u4e2d\u5f15\u5165\u4e86\u4e00\u4e2a\u5bfc\u6f14\u8005\u7c7b\uff0c\u8be5\u7c7b\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a\u4e00\u65b9\u9762\u5b83\u9694\u79bb\u4e86\u5ba2\u6237\u4e0e\u751f\u4ea7\u8fc7\u7a0b\uff1b\u53e6\u4e00\u65b9\u9762\u5b83\u8d1f\u8d23\u63a7\u5236\u4ea7\u54c1\u7684\u751f\u6210\u8fc7\u7a0b\u3002\u6307\u6325\u8005\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7f16\u7a0b\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u77e5\u9053\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\uff0c\u5373\u53ef\u901a\u8fc7\u6307\u6325\u8005\u7c7b\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u4e0d\u5fc5\u77e5\u9053\u4ea7\u54c1\u5185\u90e8\u7ec4\u6210\u7684\u7ec6\u8282\uff0c\u5c06\u4ea7\u54c1\u672c\u8eab\u4e0e\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\u89e3\u8026\uff0c\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u5efa\u9020\u8005\u90fd\u76f8\u5bf9\u72ec\u7acb\uff0c\u800c\u4e0e\u5176\u4ed6\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u5173\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66ff\u6362\u5177\u4f53\u5efa\u9020\u8005\u6216\u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff0c\u8fd8\u53ef\u4ee5\u66f4\u52a0\u7cbe\u7ec6\u5730\u63a7\u5236\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u7531\u4e8e\u5efa\u9020\u8005\u6a21\u5f0f\u6240\u521b\u5efa\u7684\u4ea7\u54c1\u4e00\u822c\u5177\u6709\u8f83\u591a\u7684\u5171\u540c\u70b9\uff0c\u5176\u7ec4\u6210\u90e8\u5206\u76f8\u4f3c\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236\uff0c\u5982\u679c\u4ea7\u54c1\u7684\u5185\u90e8\u53d8\u5316\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9700\u8981\u5b9a\u4e49\u5f88\u591a\u5177\u4f53\u5efa\u9020\u8005\u7c7b\u6765\u5b9e\u73b0\u8fd9\u79cd\u53d8\u5316\uff0c\u5bfc\u81f4\u7cfb\u7edf\u53d8\u5f97\u5f88\u5e9e\u5927\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u6709\u590d\u6742\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u5bf9\u8c61\u901a\u5e38\u5305\u542b\u591a\u4e2a\u6210\u5458\u5c5e\u6027\uff1b\u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u4e92\u4f9d\u8d56\uff0c\u9700\u8981\u6307\u5b9a\u5176\u751f\u6210\u987a\u5e8f\uff1b\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u72ec\u7acb\u4e8e\u521b\u5efa\u8be5\u5bf9\u8c61\u7684\u7c7b\uff1b\u9694\u79bb\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u4f7f\u7528\uff0c\u5e76\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u4ea7\u54c1\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_1","text":"\u65e0\u8bba\u662f\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\u8fd8\u662f\u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u90fd\u5b58\u5728\u4e00\u4e9b\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u4eec\u62e5\u6709\u591a\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u5982\u6c7d\u8f66\uff0c\u5b83\u5305\u62ec\u8f66\u8f6e\u3001\u65b9\u5411\u76d8\u3001\u53d1\u52a8\u673a\u7b49\u5404\u79cd\u90e8\u4ef6\u3002\u800c\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u800c\u8a00\uff0c\u65e0\u987b\u77e5\u9053\u8fd9\u4e9b\u90e8\u4ef6\u7684\u88c5\u914d\u7ec6\u8282\uff0c\u4e5f\u51e0\u4e4e\u4e0d\u4f1a\u4f7f\u7528\u5355\u72ec\u67d0\u4e2a\u90e8\u4ef6\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u8f86\u5b8c\u6574\u7684\u6c7d\u8f66\uff0c\u53ef\u4ee5\u901a\u8fc7\u5efa\u9020\u8005\u6a21\u5f0f\u5bf9\u5176\u8fdb\u884c\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u53ef\u4ee5\u5c06\u90e8\u4ef6\u548c\u5176\u7ec4\u88c5\u8fc7\u7a0b\u5206\u5f00\uff0c\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\u3002\u7528\u6237\u53ea\u9700\u8981\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5\u5bf9\u8c61\uff0c\u800c\u65e0\u987b\u77e5\u9053\u5176\u5185\u90e8\u7684\u5177\u4f53\u6784\u9020\u7ec6\u8282\u3002 \u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\uff0c\u4e5f\u5b58\u5728\u5927\u91cf\u7c7b\u4f3c\u6c7d\u8f66\u4e00\u6837\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u5b83\u4eec\u62e5\u6709\u4e00\u7cfb\u5217\u6210\u5458\u5c5e\u6027\uff0c\u8fd9\u4e9b\u6210\u5458\u5c5e\u6027\u4e2d\u6709\u4e9b\u662f\u5f15\u7528\u7c7b\u578b\u7684\u6210\u5458\u5bf9\u8c61\u3002\u800c\u4e14\u5728\u8fd9\u4e9b\u590d\u6742\u5bf9\u8c61\u4e2d\uff0c\u8fd8\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u9650\u5236\u6761\u4ef6\uff0c\u5982\u67d0\u4e9b\u5c5e\u6027\u6ca1\u6709\u8d4b\u503c\u5219\u590d\u6742\u5bf9\u8c61\u4e0d\u80fd\u4f5c\u4e3a\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u4f7f\u7528\uff1b\u6709\u4e9b\u5c5e\u6027\u7684\u8d4b\u503c\u5fc5\u987b\u6309\u7167\u67d0\u4e2a\u987a\u5e8f\uff0c\u4e00\u4e2a\u5c5e\u6027\u6ca1\u6709\u8d4b\u503c\u4e4b\u524d\uff0c\u53e6\u4e00\u4e2a\u5c5e\u6027\u53ef\u80fd\u65e0\u6cd5\u8d4b\u503c\u7b49\u3002 \u590d\u6742\u5bf9\u8c61\u76f8\u5f53\u4e8e\u4e00\u8f86\u6709\u5f85\u5efa\u9020\u7684\u6c7d\u8f66\uff0c\u800c\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u5f53\u4e8e\u6c7d\u8f66\u7684\u90e8\u4ef6\uff0c\u5efa\u9020\u4ea7\u54c1\u7684\u8fc7\u7a0b\u5c31\u76f8\u5f53\u4e8e\u7ec4\u5408\u90e8\u4ef6\u7684\u8fc7\u7a0b\u3002\u7531\u4e8e\u7ec4\u5408\u90e8\u4ef6\u7684\u8fc7\u7a0b\u5f88\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e9b\u90e8\u4ef6\u7684\u7ec4\u5408\u8fc7\u7a0b\u5f80\u5f80\u88ab\u201c\u5916\u90e8\u5316\u201d\u5230\u4e00\u4e2a\u79f0\u4f5c\u5efa\u9020\u8005\u7684\u5bf9\u8c61\u91cc\uff0c\u5efa\u9020\u8005\u8fd4\u8fd8\u7ed9\u5ba2\u6237\u7aef\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5efa\u9020\u5b8c\u6bd5\u7684\u5b8c\u6574\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u7528\u6237\u65e0\u987b\u5173\u5fc3\u8be5\u5bf9\u8c61\u6240\u5305\u542b\u7684\u5c5e\u6027\u4ee5\u53ca\u5b83\u4eec\u7684\u7ec4\u88c5\u65b9\u5f0f\uff0c\u8fd9\u5c31\u662f\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_2","text":"\u9020\u8005\u6a21\u5f0f( Builder Pattern )\uff1a\u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5b83\u7684\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u8868\u793a\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u5c5e\u4e8e**\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f**\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u53c8\u53ef\u4ee5\u79f0\u4e3a**\u751f\u6210\u5668\u6a21\u5f0f**\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u662f\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u53ea\u901a\u8fc7\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u548c\u5185\u5bb9\u5c31\u53ef\u4ee5\u6784\u5efa\u5b83\u4eec\uff0c\u7528\u6237\u4e0d\u9700\u8981\u77e5\u9053\u5185\u90e8\u7684\u5177\u4f53\u6784\u5efa\u7ec6\u8282\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#1","text":"\u5efa\u9020\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Builder \uff1a\u62bd\u8c61\u5efa\u9020\u8005 ConcreteBuilder \uff1a\u5177\u4f53\u5efa\u9020\u8005 Director \uff1a\u5bfc\u6f14\u8005 Product \uff1a\u4ea7\u54c1\u89d2\u8272","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u4ea7\u54c1\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * \u4ea7\u54c1\u7c7b. */ public class Product { private String part1 ; private String part2 ; /* getter \u548c setter\u65b9\u6cd5. */ public String getPart1 () { return part1 ; } public void setPart1 ( String part1 ) { this . part1 = part1 ; } public String getPart2 () { return part2 ; } public void setPart2 ( String part2 ) { this . part2 = part2 ; } } \u5176\u5b9e\uff0c\u662f\u62bd\u8c61\u7684\u5efa\u9020\u8005 Builder \u63a5\u53e3\u548c\u5177\u4f53\u7684\u5efa\u9020\u8005 ConcreteBuilder \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /** * \u62bd\u8c61\u7684\u5efa\u9020\u8005. */ public interface Builder { /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52061. */ void buildPart1 (); /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52062. */ void buildPart2 (); /** * \u5f97\u5230\u5efa\u9020\u7684\u4ea7\u54c1. * * @return \u4ea7\u54c1 */ Product getResult (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 /** * \u5177\u4f53\u7684\u5efa\u9020\u8005\u5b9e\u73b0\u7c7b. */ public class ConcreteBuilder implements Builder { /** \u4ea7\u54c1. */ private Product product = new Product (); /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52061. */ @Override public void buildPart1 () { product . setPart1 ( \"\u7f16\u53f7\uff1a95757\" ); } /** * \u4ea7\u54c1\u5efa\u9020\u90e8\u52062. */ @Override public void buildPart2 () { product . setPart2 ( \"\u540d\u79f0\uff1a\u5c0f\u673a\u5668\u4eba\" ); } /** * \u5f97\u5230\u5efa\u9020\u7684\u4ea7\u54c1. * * @return \u4ea7\u54c1 */ @Override public Product getResult () { return product ; } } \u6700\u540e\uff0c\u5bfc\u6f14\u8005 Director \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 /** * \u5bfc\u6f14\u8005\u7c7b. */ public class Director { /** \u5f53\u524d\u9700\u8981\u7684\u5efa\u9020\u8005\u5bf9\u8c61. */ private Builder builder ; /** * \u6784\u9020\u65b9\u6cd5. * * @param builder */ public Director ( Builder builder ) { this . builder = builder ; } /** * \u4ea7\u54c1\u6784\u9020\u65b9\u6cd5\uff0c\u8d1f\u8d23\u8c03\u7528\u5404\u4e2a\u96f6\u4ef6\u5efa\u9020\u65b9\u6cd5. */ public void construct () { builder . buildPart1 (); builder . buildPart2 (); } } \u4ee5\u4e0b\u662f\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class BuilderClient { /** * \u4e3b\u5165\u53e3\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { Builder builder = new ConcreteBuilder (); Director director = new Director ( builder ); director . construct (); Product product = builder . getResult (); System . out . println ( product . getPart1 ()); System . out . println ( product . getPart2 ()); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_5","text":"\u62bd\u8c61\u5efa\u9020\u8005\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4ea7\u54c1\u7684\u521b\u5efa\u65b9\u6cd5\u548c\u8fd4\u56de\u65b9\u6cd5; \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7ed3\u6784\u4e2d\u8fd8\u5f15\u5165\u4e86\u4e00\u4e2a\u5bfc\u6f14\u8005\u7c7b Director \uff0c\u8be5\u7c7b\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a\u4e00\u65b9\u9762\u5b83\u9694\u79bb\u4e86\u5ba2\u6237\u4e0e\u751f\u4ea7\u8fc7\u7a0b\uff1b\u53e6\u4e00\u65b9\u9762\u5b83\u8d1f\u8d23\u63a7\u5236\u4ea7\u54c1\u7684\u751f\u6210\u8fc7\u7a0b\u3002\u5bfc\u6f14\u8005\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7f16\u7a0b\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u77e5\u9053\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\uff0c\u5373\u53ef\u901a\u8fc7\u5bfc\u6f14\u8005\u7c7b\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u5bf9\u8c61 \u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\uff0c\u65e0\u987b\u5173\u5fc3\u4ea7\u54c1\u5bf9\u8c61\u7684\u5177\u4f53\u7ec4\u88c5\u8fc7\u7a0b\uff0c\u53ea\u9700\u786e\u5b9a\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\u5373\u53ef\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u5c06\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5bf9\u8c61\u7684\u8868\u73b0\u5206\u79bb\u5f00\u6765\uff0c\u8fd9\u6837\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u51fa\u4e0d\u540c\u7684\u8868\u73b0\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#1_1","text":"\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\uff0c \u5ba2\u6237\u7aef\u4e0d\u5fc5\u77e5\u9053\u4ea7\u54c1\u5185\u90e8\u7ec4\u6210\u7684\u7ec6\u8282\uff0c\u5c06\u4ea7\u54c1\u672c\u8eab\u4e0e\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\u89e3\u8026\uff0c\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002 \u6bcf\u4e00\u4e2a\u5177\u4f53\u5efa\u9020\u8005\u90fd\u76f8\u5bf9\u72ec\u7acb\uff0c\u800c\u4e0e\u5176\u4ed6\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u5173\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66ff\u6362\u5177\u4f53\u5efa\u9020\u8005\u6216\u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\uff0c \u7528\u6237\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u5efa\u9020\u8005\u5373\u53ef\u5f97\u5230\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61 \u3002 \u53ef\u4ee5\u66f4\u52a0\u7cbe\u7ec6\u5730\u63a7\u5236\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b \u3002\u5c06\u590d\u6742\u4ea7\u54c1\u7684\u521b\u5efa\u6b65\u9aa4\u5206\u89e3\u5728\u4e0d\u540c\u7684\u65b9\u6cd5\u4e2d\uff0c\u4f7f\u5f97\u521b\u5efa\u8fc7\u7a0b\u66f4\u52a0\u6e05\u6670\uff0c\u4e5f\u66f4\u65b9\u4fbf\u4f7f\u7528\u7a0b\u5e8f\u6765\u63a7\u5236\u521b\u5efa\u8fc7\u7a0b\u3002 \u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u987b\u4fee\u6539\u539f\u6709\u7c7b\u5e93\u7684\u4ee3\u7801\uff0c\u6307\u6325\u8005\u7c7b\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7c7b\u7f16\u7a0b\uff0c\u7cfb\u7edf\u6269\u5c55\u65b9\u4fbf\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#2_1","text":"\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5efa\u9020\u8005\u6a21\u5f0f\u6240\u521b\u5efa\u7684\u4ea7\u54c1\u4e00\u822c\u5177\u6709\u8f83\u591a\u7684\u5171\u540c\u70b9\uff0c\u5176\u7ec4\u6210\u90e8\u5206\u76f8\u4f3c\uff0c\u5982\u679c\u4ea7\u54c1\u4e4b\u95f4\u7684\u5dee\u5f02\u6027\u5f88\u5927\uff0c\u5219\u4e0d\u9002\u5408\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236\u3002 \u5982\u679c\u4ea7\u54c1\u7684\u5185\u90e8\u53d8\u5316\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9700\u8981\u5b9a\u4e49\u5f88\u591a\u5177\u4f53\u5efa\u9020\u8005\u7c7b\u6765\u5b9e\u73b0\u8fd9\u79cd\u53d8\u5316\uff0c\u5bfc\u81f4\u7cfb\u7edf\u53d8\u5f97\u5f88\u5e9e\u5927\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#3","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff1a \u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u6709\u590d\u6742\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u5bf9\u8c61\u901a\u5e38\u5305\u542b\u591a\u4e2a\u6210\u5458\u5c5e\u6027\u3002 \u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u4e92\u4f9d\u8d56\uff0c\u9700\u8981\u6307\u5b9a\u5176\u751f\u6210\u987a\u5e8f\u3002 \u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u72ec\u7acb\u4e8e\u521b\u5efa\u8be5\u5bf9\u8c61\u7684\u7c7b\u3002\u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\u5f15\u5165\u4e86\u6307\u6325\u8005\u7c7b\uff0c\u5c06\u521b\u5efa\u8fc7\u7a0b\u5c01\u88c5\u5728\u6307\u6325\u8005\u7c7b\u4e2d\uff0c\u800c\u4e0d\u5728\u5efa\u9020\u8005\u7c7b\u4e2d\u3002 \u9694\u79bb\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u4f7f\u7528\uff0c\u5e76\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u3002","title":"3. \u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#4","text":"\u4e0e\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u76f8\u6bd4\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u8fd4\u56de\u4e00\u4e2a\u7ec4\u88c5\u597d\u7684\u5b8c\u6574\u4ea7\u54c1\uff0c\u800c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u8fd4\u56de\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u4ea7\u54c1\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u4f4d\u4e8e\u4e0d\u540c\u7684\u4ea7\u54c1\u7b49\u7ea7\u7ed3\u6784\uff0c\u6784\u6210\u4e86\u4e00\u4e2a\u4ea7\u54c1\u65cf\u3002 \u5728\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u5b9e\u4f8b\u5316\u5de5\u5382\u7c7b\uff0c\u7136\u540e\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u83b7\u53d6\u6240\u9700\u4ea7\u54c1\u5bf9\u8c61\uff0c\u800c\u5728\u5efa\u9020\u8005\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0d\u76f4\u63a5\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u800c\u662f\u901a\u8fc7\u6307\u6325\u8005\u7c7b\u6765\u6307\u5bfc\u5982\u4f55\u751f\u6210\u5bf9\u8c61\uff0c\u5305\u62ec\u5bf9\u8c61\u7684\u7ec4\u88c5\u8fc7\u7a0b\u548c\u5efa\u9020\u6b65\u9aa4\uff0c\u5b83\u4fa7\u91cd\u4e8e\u4e00\u6b65\u6b65\u6784\u9020\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u5bf9\u8c61\u3002 \u5982\u679c\u5c06\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u770b\u6210\u6c7d\u8f66\u914d\u4ef6\u751f\u4ea7\u5de5\u5382\uff0c\u751f\u4ea7\u4e00\u4e2a\u4ea7\u54c1\u65cf\u7684\u4ea7\u54c1\uff0c\u90a3\u4e48\u5efa\u9020\u8005\u6a21\u5f0f\u5c31\u662f\u4e00\u4e2a\u6c7d\u8f66\u7ec4\u88c5\u5de5\u5382\uff0c\u901a\u8fc7\u5bf9\u90e8\u4ef6\u7684\u7ec4\u88c5\u53ef\u4ee5\u8fd4\u56de\u4e00\u8f86\u5b8c\u6574\u7684\u6c7d\u8f66\u3002","title":"4. \u5efa\u9020\u8005\u6a21\u5f0f\u4e0e\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u6bd4\u8f83"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u5efa\u9020\u8005\u6a21\u5f0f.html#_6","text":"\u5efa\u9020\u8005\u6a21\u5f0f\u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5b83\u7684\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u8868\u793a\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u662f\u4e00\u6b65\u4e00\u6b65\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u53ea\u901a\u8fc7\u6307\u5b9a\u590d\u6742\u5bf9\u8c61\u7684\u7c7b\u578b\u548c\u5185\u5bb9\u5c31\u53ef\u4ee5\u6784\u5efa\u5b83\u4eec\uff0c\u7528\u6237\u4e0d\u9700\u8981\u77e5\u9053\u5185\u90e8\u7684\u5177\u4f53\u6784\u5efa\u7ec6\u8282\u3002\u5efa\u9020\u8005\u6a21\u5f0f\u5c5e\u4e8e\u5bf9\u8c61\u521b\u5efa\u578b\u6a21\u5f0f\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u5efa\u9020\u8005\u4e3a\u521b\u5efa\u4e00\u4e2a\u4ea7\u54c1\u5bf9\u8c61\u7684\u5404\u4e2a\u90e8\u4ef6\u6307\u5b9a\u62bd\u8c61\u63a5\u53e3\uff1b\u5177\u4f53\u5efa\u9020\u8005\u5b9e\u73b0\u4e86\u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\uff0c\u5b9e\u73b0\u5404\u4e2a\u90e8\u4ef6\u7684\u6784\u9020\u548c\u88c5\u914d\u65b9\u6cd5\uff0c\u5b9a\u4e49\u5e76\u660e\u786e\u5b83\u6240\u521b\u5efa\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6cd5\u8fd4\u56de\u521b\u5efa\u597d\u7684\u590d\u6742\u4ea7\u54c1\u5bf9\u8c61\uff1b\u4ea7\u54c1\u89d2\u8272\u662f\u88ab\u6784\u5efa\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u5305\u542b\u591a\u4e2a\u7ec4\u6210\u90e8\u4ef6\uff1b\u6307\u6325\u8005\u8d1f\u8d23\u5b89\u6392\u590d\u6742\u5bf9\u8c61\u7684\u5efa\u9020\u6b21\u5e8f\uff0c\u6307\u6325\u8005\u4e0e\u62bd\u8c61\u5efa\u9020\u8005\u4e4b\u95f4\u5b58\u5728\u5173\u8054\u5173\u7cfb\uff0c\u53ef\u4ee5\u5728\u5176 construct() \u5efa\u9020\u65b9\u6cd5\u4e2d\u8c03\u7528\u5efa\u9020\u8005\u5bf9\u8c61\u7684\u90e8\u4ef6\u6784\u9020\u4e0e\u88c5\u914d\u65b9\u6cd5\uff0c\u5b8c\u6210\u590d\u6742\u5bf9\u8c61\u7684\u5efa\u9020 \u5728\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u7ed3\u6784\u4e2d\u5f15\u5165\u4e86\u4e00\u4e2a\u5bfc\u6f14\u8005\u7c7b\uff0c\u8be5\u7c7b\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a\u4e00\u65b9\u9762\u5b83\u9694\u79bb\u4e86\u5ba2\u6237\u4e0e\u751f\u4ea7\u8fc7\u7a0b\uff1b\u53e6\u4e00\u65b9\u9762\u5b83\u8d1f\u8d23\u63a7\u5236\u4ea7\u54c1\u7684\u751f\u6210\u8fc7\u7a0b\u3002\u6307\u6325\u8005\u9488\u5bf9\u62bd\u8c61\u5efa\u9020\u8005\u7f16\u7a0b\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u77e5\u9053\u5177\u4f53\u5efa\u9020\u8005\u7684\u7c7b\u578b\uff0c\u5373\u53ef\u901a\u8fc7\u6307\u6325\u8005\u7c7b\u8c03\u7528\u5efa\u9020\u8005\u7684\u76f8\u5173\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u4e0d\u5fc5\u77e5\u9053\u4ea7\u54c1\u5185\u90e8\u7ec4\u6210\u7684\u7ec6\u8282\uff0c\u5c06\u4ea7\u54c1\u672c\u8eab\u4e0e\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\u89e3\u8026\uff0c\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u5bf9\u8c61\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u5efa\u9020\u8005\u90fd\u76f8\u5bf9\u72ec\u7acb\uff0c\u800c\u4e0e\u5176\u4ed6\u7684\u5177\u4f53\u5efa\u9020\u8005\u65e0\u5173\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66ff\u6362\u5177\u4f53\u5efa\u9020\u8005\u6216\u589e\u52a0\u65b0\u7684\u5177\u4f53\u5efa\u9020\u8005\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff0c\u8fd8\u53ef\u4ee5\u66f4\u52a0\u7cbe\u7ec6\u5730\u63a7\u5236\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u7531\u4e8e\u5efa\u9020\u8005\u6a21\u5f0f\u6240\u521b\u5efa\u7684\u4ea7\u54c1\u4e00\u822c\u5177\u6709\u8f83\u591a\u7684\u5171\u540c\u70b9\uff0c\u5176\u7ec4\u6210\u90e8\u5206\u76f8\u4f3c\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236\uff0c\u5982\u679c\u4ea7\u54c1\u7684\u5185\u90e8\u53d8\u5316\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9700\u8981\u5b9a\u4e49\u5f88\u591a\u5177\u4f53\u5efa\u9020\u8005\u7c7b\u6765\u5b9e\u73b0\u8fd9\u79cd\u53d8\u5316\uff0c\u5bfc\u81f4\u7cfb\u7edf\u53d8\u5f97\u5f88\u5e9e\u5927\u3002 \u5efa\u9020\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u6709\u590d\u6742\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u5bf9\u8c61\u901a\u5e38\u5305\u542b\u591a\u4e2a\u6210\u5458\u5c5e\u6027\uff1b\u9700\u8981\u751f\u6210\u7684\u4ea7\u54c1\u5bf9\u8c61\u7684\u5c5e\u6027\u76f8\u4e92\u4f9d\u8d56\uff0c\u9700\u8981\u6307\u5b9a\u5176\u751f\u6210\u987a\u5e8f\uff1b\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u72ec\u7acb\u4e8e\u521b\u5efa\u8be5\u5bf9\u8c61\u7684\u7c7b\uff1b\u9694\u79bb\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u4f7f\u7528\uff0c\u5e76\u4f7f\u5f97\u76f8\u540c\u7684\u521b\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u4ea7\u54c1\u3002","title":"\u516d\u3001\u6a21\u5f0f\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html","text":"\u6a21\u5f0f\u52a8\u673a \u00b6 \u8bbe\u60f3\u5982\u679c\u8981\u7ed8\u5236\u77e9\u5f62\u3001\u5706\u5f62\u3001\u692d\u5706\u3001\u6b63\u65b9\u5f62\uff0c\u6211\u4eec\u81f3\u5c11\u9700\u8981 4 \u4e2a\u5f62\u72b6\u7c7b\uff0c\u4f46\u662f\u5982\u679c\u7ed8\u5236\u7684\u56fe\u5f62\u9700\u8981\u5177\u6709\u4e0d\u540c\u7684\u989c\u8272\uff0c\u5982\u7ea2\u8272\u3001\u7eff\u8272\u3001\u84dd\u8272\u7b49\uff0c\u6b64\u65f6\u81f3\u5c11\u6709\u5982\u4e0b\u4e24\u79cd\u8bbe\u8ba1\u65b9\u6848\uff1a \u7b2c\u4e00\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u4e3a\u6bcf\u4e00\u79cd\u5f62\u72b6\u90fd\u63d0\u4f9b\u4e00\u5957\u5404\u79cd\u989c\u8272\u7684\u7248\u672c\u3002 \u7b2c\u4e8c\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u6839\u636e\u5b9e\u9645\u9700\u8981\u5bf9\u5f62\u72b6\u548c\u989c\u8272\u8fdb\u884c\u7ec4\u5408 \u5bf9\u4e8e\u6709\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\uff08\u5373\u4e24\u4e2a\u53d8\u5316\u7684\u539f\u56e0\uff09\u7684\u7cfb\u7edf\uff0c\u91c7\u7528\u65b9\u6848\u4e8c\u6765\u8fdb\u884c\u8bbe\u8ba1\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\u66f4\u5c11\uff0c\u4e14\u7cfb\u7edf\u6269\u5c55\u66f4\u4e3a\u65b9\u4fbf\u3002\u8bbe\u8ba1\u65b9\u6848\u4e8c\u5373\u662f\u6865\u63a5\u6a21\u5f0f\u7684\u5e94\u7528\u3002\u6865\u63a5\u6a21\u5f0f\u5c06\u7ee7\u627f\u5173\u7cfb\u8f6c\u6362\u4e3a\u5173\u8054\u5173\u7cfb\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7c7b\u4e0e\u7c7b\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u51cf\u5c11\u4e86\u4ee3\u7801\u7f16\u5199\u91cf\u3002 \u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u6865\u63a5\u6a21\u5f0f ( Bridge Pattern )\uff1a\u5c06\u62bd\u8c61\u548c\u5b9e\u73b0\u89e3\u8026\uff0c\u4f7f\u5f97\u4e24\u8005\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u53c8\u79f0\u4e3a\u6865\u6881\u6a21\u5f0f\u3002 \u6a21\u5f0f\u89d2\u8272 \u00b6 \u6865\u63a5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Abstraction \uff1a\u62bd\u8c61\u7c7b\u89d2\u8272 RefinedAbstraction \uff1a\u6269\u5145\u62bd\u8c61\u7c7b Implementor \uff1a\u5b9e\u73b0\u5316\u89d2\u8272 ConcreteImplementor \uff1a\u5177\u4f53\u5b9e\u73b0\u5316\u89d2\u8272\u7684\u5b9e\u73b0\u7c7b UML \u7c7b\u56fe \u00b6 \u4ee3\u7801\u793a\u4f8b \u00b6 \u9996\u5148\uff0c\u662f\u5b9e\u73b0\u5316\u89d2\u8272 Abstraction \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u5b9e\u73b0\u5316\u89d2\u8272 Implementor. */ public interface Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ void doSomething (); /** * \u57fa\u672c\u65b9\u6cd52. */ void doAnything (); } \u7136\u540e\uff0c\u662f\u5404\u4e2a\u5177\u4f53\u7684\u5b9e\u73b0\u5316\u89d2\u8272\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * ConcreteImplementor1. */ public class ConcreteImplementor1 implements Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ @Override public void doSomething () { System . out . println ( \"ConcreteImplementor1 \u7684\u4e1a\u52a1\u903b\u8f91 doSomething.\" ); } /** * \u57fa\u672c\u65b9\u6cd52. */ @Override public void doAnything () { System . out . println ( \"ConcreteImplementor1 \u7684\u4e1a\u52a1\u903b\u8f91 doAnything.\" ); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * ConcreteImplementor2. */ public class ConcreteImplementor2 implements Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ @Override public void doSomething () { System . out . println ( \"ConcreteImplementor2 \u7684\u4e1a\u52a1\u903b\u8f91 doSomething.\" ); } /** * \u57fa\u672c\u65b9\u6cd52. */ @Override public void doAnything () { System . out . println ( \"ConcreteImplementor2 \u7684\u4e1a\u52a1\u903b\u8f91 doAnything.\" ); } } \u63a5\u4e0b\u6765\uff0c\u662f\u62bd\u8c61\u7c7b\u89d2\u8272 Abstraction \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package com.blinkfox.patterns.bridge ; /** * \u62bd\u8c61\u5316\u89d2\u8272 Abstraction. */ public abstract class Abstraction { /** \u5b9a\u4e49\u5bf9\u5b9e\u73b0\u5316\u89d2\u8272\u7684\u5f15\u7528. */ private Implementor impl ; /** * \u6784\u9020\u65b9\u6cd5. * * @param impl \u5b9e\u73b0\u7c7b\u7684\u5b9e\u4f8b */ public Abstraction ( Implementor impl ) { this . impl = impl ; } /** * impl \u7684 getter\u65b9\u6cd5. * * @return impl */ public Implementor getImpl () { return impl ; } /** * \u81ea\u8eab\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5. */ public void request () { this . impl . doSomething (); } } \u518d\u6b21\uff0c\u662f\u6269\u5c55\u7684\u5177\u4f53\u62bd\u8c61\u5316\u89d2\u8272\u7c7b RefinedAbstraction \uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * RefinedAbstraction. */ public class RefinedAbstraction extends Abstraction { /** * \u6784\u9020\u65b9\u6cd5. * * @param impl \u5b9e\u73b0\u7c7b\u7684\u5b9e\u4f8b */ public RefinedAbstraction ( Implementor impl ) { super ( impl ); } /** * \u8986\u76d6\u540e\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5. */ @Override public void request () { System . out . println ( \"RefinedAbstraction \u5f00\u59cb\u505a\u4e1a\u52a1\u5904\u7406.\" ); super . request (); super . getImpl (). doAnything (); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * Client. */ public class Client { /** * main\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { // \u5b9a\u4e49\u4e00\u4e2a\u5b9e\u73b0\u5316\u89d2\u8272\u548c\u62bd\u8c61\u5316\u89d2\u8272,\u5e76\u6267\u884c\u8bf7\u6c42\u65b9\u6cd5. Implementor impl = new ConcreteImplementor1 (); Abstraction abs = new RefinedAbstraction ( impl ); abs . request (); } } \u6a21\u5f0f\u5206\u6790 \u00b6 \u7406\u89e3\u6865\u63a5\u6a21\u5f0f\uff0c\u91cd\u70b9\u9700\u8981\u7406\u89e3\u5982\u4f55\u5c06\u62bd\u8c61\u5316( Abstraction )\u4e0e\u5b9e\u73b0\u5316( Implementation )\u8131\u8026\uff0c\u4f7f\u5f97\u4e8c\u8005\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002 \u62bd\u8c61\u5316 \uff1a\u62bd\u8c61\u5316\u5c31\u662f\u5ffd\u7565\u4e00\u4e9b\u4fe1\u606f\uff0c\u628a\u4e0d\u540c\u7684\u5b9e\u4f53\u5f53\u4f5c\u540c\u6837\u7684\u5b9e\u4f53\u5bf9\u5f85\u3002\u5728\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u5c06\u5bf9\u8c61\u7684\u5171\u540c\u6027\u8d28\u62bd\u53d6\u51fa\u6765\u5f62\u6210\u7c7b\u7684\u8fc7\u7a0b\u5373\u4e3a\u62bd\u8c61\u5316\u7684\u8fc7\u7a0b\u3002 \u5b9e\u73b0\u5316 \uff1a\u9488\u5bf9\u62bd\u8c61\u5316\u7ed9\u51fa\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u5c31\u662f\u5b9e\u73b0\u5316\uff0c\u62bd\u8c61\u5316\u4e0e\u5b9e\u73b0\u5316\u662f\u4e00\u5bf9\u4e92\u9006\u7684\u6982\u5ff5\uff0c\u5b9e\u73b0\u5316\u4ea7\u751f\u7684\u5bf9\u8c61\u6bd4\u62bd\u8c61\u5316\u66f4\u5177\u4f53\uff0c\u662f\u5bf9\u62bd\u8c61\u5316\u4e8b\u7269\u7684\u8fdb\u4e00\u6b65\u5177\u4f53\u5316\u7684\u4ea7\u7269\u3002 \u8131\u8026 \uff1a\u8131\u8026\u5c31\u662f\u5c06\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e4b\u95f4\u7684\u8026\u5408\u89e3\u8131\u5f00\uff0c\u6216\u8005\u8bf4\u662f\u5c06\u5b83\u4eec\u4e4b\u95f4\u7684\u5f3a\u5173\u8054\u6539\u6362\u6210\u5f31\u5173\u8054\uff0c\u5c06\u4e24\u4e2a\u89d2\u8272\u4e4b\u95f4\u7684\u7ee7\u627f\u5173\u7cfb\u6539\u4e3a\u5173\u8054\u5173\u7cfb\u3002 \u6865\u63a5\u6a21\u5f0f\u4e2d\u7684\u6240\u8c13\u8131\u8026\uff0c\u5c31\u662f\u6307\u5728\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u7684\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e4b\u95f4\u4f7f\u7528\u5173\u8054\u5173\u7cfb\uff08\u7ec4\u5408\u6216\u8005\u805a\u5408\u5173\u7cfb\uff09\u800c\u4e0d\u662f\u7ee7\u627f\u5173\u7cfb\uff0c\u4ece\u800c\u4f7f\u4e24\u8005\u53ef\u4ee5\u76f8\u5bf9\u72ec\u7acb\u5730\u53d8\u5316\uff0c\u8fd9\u5c31\u662f\u6865\u63a5\u6a21\u5f0f\u7684\u7528\u610f\u3002 \u4f18\u70b9 \u00b6 \u6865\u63a5\u6a21\u5f0f\u7684\u4f18\u70b9: \u5206\u79bb\u62bd\u8c61\u63a5\u53e3\u53ca\u5176\u5b9e\u73b0\u90e8\u5206\u3002 \u6865\u63a5\u6a21\u5f0f\u6709\u65f6\u7c7b\u4f3c\u4e8e\u591a\u7ee7\u627f\u65b9\u6848\uff0c\u4f46\u662f\u591a\u7ee7\u627f\u65b9\u6848\u8fdd\u80cc\u4e86\u7c7b\u7684\u5355\u4e00\u804c\u8d23\u539f\u5219\uff08\u5373\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u53d8\u5316\u7684\u539f\u56e0\uff09\uff0c\u590d\u7528\u6027\u6bd4\u8f83\u5dee\uff0c\u800c\u4e14\u591a\u7ee7\u627f\u7ed3\u6784\u4e2d\u7c7b\u7684\u4e2a\u6570\u975e\u5e38\u5e9e\u5927\uff0c\u6865\u63a5\u6a21\u5f0f\u662f\u6bd4\u591a\u7ee7\u627f\u65b9\u6848\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\u3002 \u6865\u63a5\u6a21\u5f0f\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u53ef\u6269\u5145\u6027\uff0c\u5728\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\u4e2d\u4efb\u610f\u6269\u5c55\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u90fd\u4e0d\u9700\u8981\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u3002 \u5b9e\u73b0\u7ec6\u8282\u5bf9\u5ba2\u6237\u900f\u660e\uff0c\u53ef\u4ee5\u5bf9\u7528\u6237\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282\u3002 \u7f3a\u70b9 \u00b6 \u6865\u63a5\u6a21\u5f0f\u7684\u7f3a\u70b9: \u6865\u63a5\u6a21\u5f0f\u7684\u5f15\u5165\u4f1a\u589e\u52a0\u7cfb\u7edf\u7684\u7406\u89e3\u4e0e\u8bbe\u8ba1\u96be\u5ea6\uff0c\u7531\u4e8e\u805a\u5408\u5173\u8054\u5173\u7cfb\u5efa\u7acb\u5728\u62bd\u8c61\u5c42\uff0c\u8981\u6c42\u5f00\u53d1\u8005\u9488\u5bf9\u62bd\u8c61\u8fdb\u884c\u8bbe\u8ba1\u4e0e\u7f16\u7a0b\u3002 \u6865\u63a5\u6a21\u5f0f\u8981\u6c42\u6b63\u786e\u8bc6\u522b\u51fa\u7cfb\u7edf\u4e2d\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u5177\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002 \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\uff1a \u5982\u679c\u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u5728\u6784\u4ef6\u7684\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u4e4b\u95f4\u589e\u52a0\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u907f\u514d\u5728\u4e24\u4e2a\u5c42\u6b21\u4e4b\u95f4\u5efa\u7acb\u9759\u6001\u7684\u7ee7\u627f\u8054\u7cfb\uff0c\u901a\u8fc7\u6865\u63a5\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5b83\u4eec\u5728\u62bd\u8c61\u5c42\u5efa\u7acb\u4e00\u4e2a\u5173\u8054\u5173\u7cfb\u3002 \u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u53ef\u4ee5\u4ee5\u7ee7\u627f\u7684\u65b9\u5f0f\u72ec\u7acb\u6269\u5c55\u800c\u4e92\u4e0d\u5f71\u54cd\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53ef\u4ee5\u52a8\u6001\u5c06\u4e00\u4e2a\u62bd\u8c61\u5316\u5b50\u7c7b\u7684\u5bf9\u8c61\u548c\u4e00\u4e2a\u5b9e\u73b0\u5316\u5b50\u7c7b\u7684\u5bf9\u8c61\u8fdb\u884c\u7ec4\u5408\uff0c\u5373\u7cfb\u7edf\u9700\u8981\u5bf9\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u8fdb\u884c\u52a8\u6001\u8026\u5408\u3002 \u4e00\u4e2a\u7c7b\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u4e14\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u9700\u8981\u8fdb\u884c\u6269\u5c55\u3002 \u867d\u7136\u5728\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7ee7\u627f\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u9700\u8981\u72ec\u7acb\u53d8\u5316\uff0c\u8bbe\u8ba1\u8981\u6c42\u9700\u8981\u72ec\u7acb\u7ba1\u7406\u8fd9\u4e24\u8005\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u5e0c\u671b\u4f7f\u7528\u7ee7\u627f\u6216\u56e0\u4e3a\u591a\u5c42\u6b21\u7ee7\u627f\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6025\u5267\u589e\u52a0\u7684\u7cfb\u7edf\uff0c\u6865\u63a5\u6a21\u5f0f\u5c24\u4e3a\u9002\u7528\u3002 \u6a21\u5f0f\u5e94\u7528 \u00b6 \u4e00\u4e2a Java \u684c\u9762\u8f6f\u4ef6\u603b\u662f\u5e26\u6709\u6240\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u89c6\u611f( LookAndFeel )\uff0c\u5982\u679c\u4e00\u4e2a Java \u8f6f\u4ef6\u662f\u5728 Unix \u7cfb\u7edf\u4e0a\u5f00\u53d1\u7684\uff0c\u90a3\u4e48\u5f00\u53d1\u4eba\u5458\u770b\u5230\u7684\u662f Motif \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff1b\u5728 Windows \u4e0a\u9762\u4f7f\u7528\u8fd9\u4e2a\u7cfb\u7edf\u7684\u7528\u6237\u770b\u5230\u7684\u662f Windows \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff1b\u800c\u4e00\u4e2a\u5728 Macintosh \u4e0a\u9762\u4f7f\u7528\u7684\u7528\u6237\u770b\u5230\u7684\u5219\u662f Macintosh \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff0cJava \u8bed\u8a00\u662f\u901a\u8fc7\u6240\u8c13\u7684 Peer \u67b6\u6784\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u3002Java \u4e3a AWT \u4e2d\u7684\u6bcf\u4e00\u4e2a GUI \u6784\u4ef6\u90fd\u63d0\u4f9b\u4e86\u4e00\u4e2a Peer \u6784\u4ef6\uff0c\u5728 AWT \u4e2d\u7684 Peer \u67b6\u6784\u5c31\u4f7f\u7528\u4e86\u6865\u63a5\u6a21\u5f0f\u3002 \u6a21\u5f0f\u6269\u5c55 \u00b6 \u9002\u914d\u5668\u6a21\u5f0f\u4e0e\u6865\u63a5\u6a21\u5f0f\u7684\u8054\u7528: \u6865\u63a5\u6a21\u5f0f\u548c\u9002\u914d\u5668\u6a21\u5f0f\u7528\u4e8e\u8bbe\u8ba1\u7684\u4e0d\u540c\u9636\u6bb5\uff0c \u6865\u63a5\u6a21\u5f0f\u7528\u4e8e\u7cfb\u7edf\u7684\u521d\u6b65\u8bbe\u8ba1 \uff0c\u5bf9\u4e8e\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7ef4\u5ea6\u7684\u7c7b\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e24\u4e2a\u89d2\u8272\uff0c\u4f7f\u5b83\u4eec\u53ef\u4ee5\u5206\u522b\u8fdb\u884c\u53d8\u5316\uff1b\u800c\u5728\u521d\u6b65\u8bbe\u8ba1\u5b8c\u6210\u4e4b\u540e\uff0c \u5f53\u53d1\u73b0\u7cfb\u7edf\u4e0e\u5df2\u6709\u7c7b\u65e0\u6cd5\u534f\u540c\u5de5\u4f5c\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528\u9002\u914d\u5668\u6a21\u5f0f \u3002\u4f46\u6709\u65f6\u5019\u5728\u8bbe\u8ba1\u521d\u671f\u4e5f\u9700\u8981\u8003\u8651\u9002\u914d\u5668\u6a21\u5f0f\uff0c\u7279\u522b\u662f\u90a3\u4e9b\u6d89\u53ca\u5230\u5927\u91cf\u7b2c\u4e09\u65b9\u5e94\u7528\u63a5\u53e3\u7684\u60c5\u51b5\u3002 \u603b\u7ed3 \u00b6 \u6865\u63a5\u6a21\u5f0f\u5c06\u62bd\u8c61\u90e8\u5206\u4e0e\u5b83\u7684\u5b9e\u73b0\u90e8\u5206\u5206\u79bb\uff0c\u4f7f\u5b83\u4eec\u90fd\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u6865\u63a5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\u5e76\u53ef\u4ee5\u7ef4\u62a4\u8be5\u5bf9\u8c61\uff1b\u6269\u5145\u62bd\u8c61\u7c7b\u6269\u5145\u7531\u62bd\u8c61\u7c7b\u5b9a\u4e49\u7684\u63a5\u53e3\uff0c\u5b83\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u7684\u62bd\u8c61\u4e1a\u52a1\u65b9\u6cd5\uff0c\u5728\u6269\u5145\u62bd\u8c61\u7c7b\u4e2d\u53ef\u4ee5\u8c03\u7528\u5728\u5b9e\u73b0\u7c7b\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u4e1a\u52a1\u65b9\u6cd5\uff1b\u5b9e\u73b0\u7c7b\u63a5\u53e3\u5b9a\u4e49\u4e86\u5b9e\u73b0\u7c7b\u7684\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u63a5\u53e3\u4ec5\u63d0\u4f9b\u57fa\u672c\u64cd\u4f5c\uff0c\u800c\u62bd\u8c61\u7c7b\u5b9a\u4e49\u7684\u63a5\u53e3\u53ef\u80fd\u4f1a\u505a\u66f4\u591a\u66f4\u590d\u6742\u7684\u64cd\u4f5c\uff1b\u5177\u4f53\u5b9e\u73b0\u7c7b\u5b9e\u73b0\u4e86\u5b9e\u73b0\u7c7b\u63a5\u53e3\u5e76\u4e14\u5177\u4f53\u5b9e\u73b0\u5b83\uff0c\u5728\u4e0d\u540c\u7684\u5177\u4f53\u5b9e\u73b0\u7c7b\u4e2d\u63d0\u4f9b\u57fa\u672c\u64cd\u4f5c\u7684\u4e0d\u540c\u5b9e\u73b0\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u5177\u4f53\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u5c06\u66ff\u6362\u5176\u7236\u7c7b\u5bf9\u8c61\uff0c\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u5177\u4f53\u7684\u4e1a\u52a1\u64cd\u4f5c\u65b9\u6cd5\u3002 \u5728\u6865\u63a5\u6a21\u5f0f\u4e2d\uff0c\u62bd\u8c61\u5316( Abstraction )\u4e0e\u5b9e\u73b0\u5316( Implementation )\u8131\u8026\uff0c\u5b83\u4eec\u53ef\u4ee5\u6cbf\u7740\u5404\u81ea\u7684\u7ef4\u5ea6\u72ec\u7acb\u53d8\u5316\u3002 \u6865\u63a5\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5206\u79bb\u62bd\u8c61\u63a5\u53e3\u53ca\u5176\u5b9e\u73b0\u90e8\u5206\uff0c\u662f\u6bd4\u591a\u7ee7\u627f\u65b9\u6848\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u6865\u63a5\u6a21\u5f0f\u8fd8\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u53ef\u6269\u5145\u6027\uff0c\u5728\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\u4e2d\u4efb\u610f\u6269\u5c55\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u90fd\u4e0d\u9700\u8981\u4fee\u6539\u539f\u6709\u7cfb\u7edf\uff0c\u5b9e\u73b0\u7ec6\u8282\u5bf9\u5ba2\u6237\u900f\u660e\uff0c\u53ef\u4ee5\u5bf9\u7528\u6237\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u662f\u589e\u52a0\u7cfb\u7edf\u7684\u7406\u89e3\u4e0e\u8bbe\u8ba1\u96be\u5ea6\uff0c\u4e14\u8bc6\u522b\u51fa\u7cfb\u7edf\u4e2d\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\u5e76\u4e0d\u662f\u4e00\u4ef6\u5bb9\u6613\u7684\u4e8b\u60c5\u3002 \u6865\u63a5\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u5728\u6784\u4ef6\u7684\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u4e4b\u95f4\u589e\u52a0\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u907f\u514d\u5728\u4e24\u4e2a\u5c42\u6b21\u4e4b\u95f4\u5efa\u7acb\u9759\u6001\u7684\u7ee7\u627f\u8054\u7cfb\uff1b\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u53ef\u4ee5\u4ee5\u7ee7\u627f\u7684\u65b9\u5f0f\u72ec\u7acb\u6269\u5c55\u800c\u4e92\u4e0d\u5f71\u54cd\uff1b\u4e00\u4e2a\u7c7b\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u4e14\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u9700\u8981\u8fdb\u884c\u6269\u5c55\uff1b\u8bbe\u8ba1\u8981\u6c42\u9700\u8981\u72ec\u7acb\u7ba1\u7406\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\uff1b\u4e0d\u5e0c\u671b\u4f7f\u7528\u7ee7\u627f\u6216\u56e0\u4e3a\u591a\u5c42\u6b21\u7ee7\u627f\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6025\u5267\u589e\u52a0\u7684\u7cfb\u7edf\u3002 \u53c2\u8003\u81ea\uff1a \u6865\u63a5\u6a21\u5f0f","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_1","text":"\u8bbe\u60f3\u5982\u679c\u8981\u7ed8\u5236\u77e9\u5f62\u3001\u5706\u5f62\u3001\u692d\u5706\u3001\u6b63\u65b9\u5f62\uff0c\u6211\u4eec\u81f3\u5c11\u9700\u8981 4 \u4e2a\u5f62\u72b6\u7c7b\uff0c\u4f46\u662f\u5982\u679c\u7ed8\u5236\u7684\u56fe\u5f62\u9700\u8981\u5177\u6709\u4e0d\u540c\u7684\u989c\u8272\uff0c\u5982\u7ea2\u8272\u3001\u7eff\u8272\u3001\u84dd\u8272\u7b49\uff0c\u6b64\u65f6\u81f3\u5c11\u6709\u5982\u4e0b\u4e24\u79cd\u8bbe\u8ba1\u65b9\u6848\uff1a \u7b2c\u4e00\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u4e3a\u6bcf\u4e00\u79cd\u5f62\u72b6\u90fd\u63d0\u4f9b\u4e00\u5957\u5404\u79cd\u989c\u8272\u7684\u7248\u672c\u3002 \u7b2c\u4e8c\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u6839\u636e\u5b9e\u9645\u9700\u8981\u5bf9\u5f62\u72b6\u548c\u989c\u8272\u8fdb\u884c\u7ec4\u5408 \u5bf9\u4e8e\u6709\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\uff08\u5373\u4e24\u4e2a\u53d8\u5316\u7684\u539f\u56e0\uff09\u7684\u7cfb\u7edf\uff0c\u91c7\u7528\u65b9\u6848\u4e8c\u6765\u8fdb\u884c\u8bbe\u8ba1\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\u66f4\u5c11\uff0c\u4e14\u7cfb\u7edf\u6269\u5c55\u66f4\u4e3a\u65b9\u4fbf\u3002\u8bbe\u8ba1\u65b9\u6848\u4e8c\u5373\u662f\u6865\u63a5\u6a21\u5f0f\u7684\u5e94\u7528\u3002\u6865\u63a5\u6a21\u5f0f\u5c06\u7ee7\u627f\u5173\u7cfb\u8f6c\u6362\u4e3a\u5173\u8054\u5173\u7cfb\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7c7b\u4e0e\u7c7b\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u51cf\u5c11\u4e86\u4ee3\u7801\u7f16\u5199\u91cf\u3002","title":"\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_2","text":"\u6865\u63a5\u6a21\u5f0f ( Bridge Pattern )\uff1a\u5c06\u62bd\u8c61\u548c\u5b9e\u73b0\u89e3\u8026\uff0c\u4f7f\u5f97\u4e24\u8005\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u53c8\u79f0\u4e3a\u6865\u6881\u6a21\u5f0f\u3002","title":"\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_3","text":"\u6865\u63a5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Abstraction \uff1a\u62bd\u8c61\u7c7b\u89d2\u8272 RefinedAbstraction \uff1a\u6269\u5145\u62bd\u8c61\u7c7b Implementor \uff1a\u5b9e\u73b0\u5316\u89d2\u8272 ConcreteImplementor \uff1a\u5177\u4f53\u5b9e\u73b0\u5316\u89d2\u8272\u7684\u5b9e\u73b0\u7c7b","title":"\u6a21\u5f0f\u89d2\u8272"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#uml","text":"","title":"UML \u7c7b\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u5b9e\u73b0\u5316\u89d2\u8272 Abstraction \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u5b9e\u73b0\u5316\u89d2\u8272 Implementor. */ public interface Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ void doSomething (); /** * \u57fa\u672c\u65b9\u6cd52. */ void doAnything (); } \u7136\u540e\uff0c\u662f\u5404\u4e2a\u5177\u4f53\u7684\u5b9e\u73b0\u5316\u89d2\u8272\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * ConcreteImplementor1. */ public class ConcreteImplementor1 implements Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ @Override public void doSomething () { System . out . println ( \"ConcreteImplementor1 \u7684\u4e1a\u52a1\u903b\u8f91 doSomething.\" ); } /** * \u57fa\u672c\u65b9\u6cd52. */ @Override public void doAnything () { System . out . println ( \"ConcreteImplementor1 \u7684\u4e1a\u52a1\u903b\u8f91 doAnything.\" ); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * ConcreteImplementor2. */ public class ConcreteImplementor2 implements Implementor { /** * \u57fa\u672c\u65b9\u6cd51. */ @Override public void doSomething () { System . out . println ( \"ConcreteImplementor2 \u7684\u4e1a\u52a1\u903b\u8f91 doSomething.\" ); } /** * \u57fa\u672c\u65b9\u6cd52. */ @Override public void doAnything () { System . out . println ( \"ConcreteImplementor2 \u7684\u4e1a\u52a1\u903b\u8f91 doAnything.\" ); } } \u63a5\u4e0b\u6765\uff0c\u662f\u62bd\u8c61\u7c7b\u89d2\u8272 Abstraction \u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package com.blinkfox.patterns.bridge ; /** * \u62bd\u8c61\u5316\u89d2\u8272 Abstraction. */ public abstract class Abstraction { /** \u5b9a\u4e49\u5bf9\u5b9e\u73b0\u5316\u89d2\u8272\u7684\u5f15\u7528. */ private Implementor impl ; /** * \u6784\u9020\u65b9\u6cd5. * * @param impl \u5b9e\u73b0\u7c7b\u7684\u5b9e\u4f8b */ public Abstraction ( Implementor impl ) { this . impl = impl ; } /** * impl \u7684 getter\u65b9\u6cd5. * * @return impl */ public Implementor getImpl () { return impl ; } /** * \u81ea\u8eab\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5. */ public void request () { this . impl . doSomething (); } } \u518d\u6b21\uff0c\u662f\u6269\u5c55\u7684\u5177\u4f53\u62bd\u8c61\u5316\u89d2\u8272\u7c7b RefinedAbstraction \uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * RefinedAbstraction. */ public class RefinedAbstraction extends Abstraction { /** * \u6784\u9020\u65b9\u6cd5. * * @param impl \u5b9e\u73b0\u7c7b\u7684\u5b9e\u4f8b */ public RefinedAbstraction ( Implementor impl ) { super ( impl ); } /** * \u8986\u76d6\u540e\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5. */ @Override public void request () { System . out . println ( \"RefinedAbstraction \u5f00\u59cb\u505a\u4e1a\u52a1\u5904\u7406.\" ); super . request (); super . getImpl (). doAnything (); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * Client. */ public class Client { /** * main\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { // \u5b9a\u4e49\u4e00\u4e2a\u5b9e\u73b0\u5316\u89d2\u8272\u548c\u62bd\u8c61\u5316\u89d2\u8272,\u5e76\u6267\u884c\u8bf7\u6c42\u65b9\u6cd5. Implementor impl = new ConcreteImplementor1 (); Abstraction abs = new RefinedAbstraction ( impl ); abs . request (); } }","title":"\u4ee3\u7801\u793a\u4f8b"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_5","text":"\u7406\u89e3\u6865\u63a5\u6a21\u5f0f\uff0c\u91cd\u70b9\u9700\u8981\u7406\u89e3\u5982\u4f55\u5c06\u62bd\u8c61\u5316( Abstraction )\u4e0e\u5b9e\u73b0\u5316( Implementation )\u8131\u8026\uff0c\u4f7f\u5f97\u4e8c\u8005\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002 \u62bd\u8c61\u5316 \uff1a\u62bd\u8c61\u5316\u5c31\u662f\u5ffd\u7565\u4e00\u4e9b\u4fe1\u606f\uff0c\u628a\u4e0d\u540c\u7684\u5b9e\u4f53\u5f53\u4f5c\u540c\u6837\u7684\u5b9e\u4f53\u5bf9\u5f85\u3002\u5728\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u5c06\u5bf9\u8c61\u7684\u5171\u540c\u6027\u8d28\u62bd\u53d6\u51fa\u6765\u5f62\u6210\u7c7b\u7684\u8fc7\u7a0b\u5373\u4e3a\u62bd\u8c61\u5316\u7684\u8fc7\u7a0b\u3002 \u5b9e\u73b0\u5316 \uff1a\u9488\u5bf9\u62bd\u8c61\u5316\u7ed9\u51fa\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u5c31\u662f\u5b9e\u73b0\u5316\uff0c\u62bd\u8c61\u5316\u4e0e\u5b9e\u73b0\u5316\u662f\u4e00\u5bf9\u4e92\u9006\u7684\u6982\u5ff5\uff0c\u5b9e\u73b0\u5316\u4ea7\u751f\u7684\u5bf9\u8c61\u6bd4\u62bd\u8c61\u5316\u66f4\u5177\u4f53\uff0c\u662f\u5bf9\u62bd\u8c61\u5316\u4e8b\u7269\u7684\u8fdb\u4e00\u6b65\u5177\u4f53\u5316\u7684\u4ea7\u7269\u3002 \u8131\u8026 \uff1a\u8131\u8026\u5c31\u662f\u5c06\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e4b\u95f4\u7684\u8026\u5408\u89e3\u8131\u5f00\uff0c\u6216\u8005\u8bf4\u662f\u5c06\u5b83\u4eec\u4e4b\u95f4\u7684\u5f3a\u5173\u8054\u6539\u6362\u6210\u5f31\u5173\u8054\uff0c\u5c06\u4e24\u4e2a\u89d2\u8272\u4e4b\u95f4\u7684\u7ee7\u627f\u5173\u7cfb\u6539\u4e3a\u5173\u8054\u5173\u7cfb\u3002 \u6865\u63a5\u6a21\u5f0f\u4e2d\u7684\u6240\u8c13\u8131\u8026\uff0c\u5c31\u662f\u6307\u5728\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u7684\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e4b\u95f4\u4f7f\u7528\u5173\u8054\u5173\u7cfb\uff08\u7ec4\u5408\u6216\u8005\u805a\u5408\u5173\u7cfb\uff09\u800c\u4e0d\u662f\u7ee7\u627f\u5173\u7cfb\uff0c\u4ece\u800c\u4f7f\u4e24\u8005\u53ef\u4ee5\u76f8\u5bf9\u72ec\u7acb\u5730\u53d8\u5316\uff0c\u8fd9\u5c31\u662f\u6865\u63a5\u6a21\u5f0f\u7684\u7528\u610f\u3002","title":"\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_6","text":"\u6865\u63a5\u6a21\u5f0f\u7684\u4f18\u70b9: \u5206\u79bb\u62bd\u8c61\u63a5\u53e3\u53ca\u5176\u5b9e\u73b0\u90e8\u5206\u3002 \u6865\u63a5\u6a21\u5f0f\u6709\u65f6\u7c7b\u4f3c\u4e8e\u591a\u7ee7\u627f\u65b9\u6848\uff0c\u4f46\u662f\u591a\u7ee7\u627f\u65b9\u6848\u8fdd\u80cc\u4e86\u7c7b\u7684\u5355\u4e00\u804c\u8d23\u539f\u5219\uff08\u5373\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u53d8\u5316\u7684\u539f\u56e0\uff09\uff0c\u590d\u7528\u6027\u6bd4\u8f83\u5dee\uff0c\u800c\u4e14\u591a\u7ee7\u627f\u7ed3\u6784\u4e2d\u7c7b\u7684\u4e2a\u6570\u975e\u5e38\u5e9e\u5927\uff0c\u6865\u63a5\u6a21\u5f0f\u662f\u6bd4\u591a\u7ee7\u627f\u65b9\u6848\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\u3002 \u6865\u63a5\u6a21\u5f0f\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u53ef\u6269\u5145\u6027\uff0c\u5728\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\u4e2d\u4efb\u610f\u6269\u5c55\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u90fd\u4e0d\u9700\u8981\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u3002 \u5b9e\u73b0\u7ec6\u8282\u5bf9\u5ba2\u6237\u900f\u660e\uff0c\u53ef\u4ee5\u5bf9\u7528\u6237\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_7","text":"\u6865\u63a5\u6a21\u5f0f\u7684\u7f3a\u70b9: \u6865\u63a5\u6a21\u5f0f\u7684\u5f15\u5165\u4f1a\u589e\u52a0\u7cfb\u7edf\u7684\u7406\u89e3\u4e0e\u8bbe\u8ba1\u96be\u5ea6\uff0c\u7531\u4e8e\u805a\u5408\u5173\u8054\u5173\u7cfb\u5efa\u7acb\u5728\u62bd\u8c61\u5c42\uff0c\u8981\u6c42\u5f00\u53d1\u8005\u9488\u5bf9\u62bd\u8c61\u8fdb\u884c\u8bbe\u8ba1\u4e0e\u7f16\u7a0b\u3002 \u6865\u63a5\u6a21\u5f0f\u8981\u6c42\u6b63\u786e\u8bc6\u522b\u51fa\u7cfb\u7edf\u4e2d\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u56e0\u6b64\u5176\u4f7f\u7528\u8303\u56f4\u5177\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_8","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\uff1a \u5982\u679c\u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u5728\u6784\u4ef6\u7684\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u4e4b\u95f4\u589e\u52a0\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u907f\u514d\u5728\u4e24\u4e2a\u5c42\u6b21\u4e4b\u95f4\u5efa\u7acb\u9759\u6001\u7684\u7ee7\u627f\u8054\u7cfb\uff0c\u901a\u8fc7\u6865\u63a5\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5b83\u4eec\u5728\u62bd\u8c61\u5c42\u5efa\u7acb\u4e00\u4e2a\u5173\u8054\u5173\u7cfb\u3002 \u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u53ef\u4ee5\u4ee5\u7ee7\u627f\u7684\u65b9\u5f0f\u72ec\u7acb\u6269\u5c55\u800c\u4e92\u4e0d\u5f71\u54cd\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53ef\u4ee5\u52a8\u6001\u5c06\u4e00\u4e2a\u62bd\u8c61\u5316\u5b50\u7c7b\u7684\u5bf9\u8c61\u548c\u4e00\u4e2a\u5b9e\u73b0\u5316\u5b50\u7c7b\u7684\u5bf9\u8c61\u8fdb\u884c\u7ec4\u5408\uff0c\u5373\u7cfb\u7edf\u9700\u8981\u5bf9\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u8fdb\u884c\u52a8\u6001\u8026\u5408\u3002 \u4e00\u4e2a\u7c7b\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u4e14\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u9700\u8981\u8fdb\u884c\u6269\u5c55\u3002 \u867d\u7136\u5728\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7ee7\u627f\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u9700\u8981\u72ec\u7acb\u53d8\u5316\uff0c\u8bbe\u8ba1\u8981\u6c42\u9700\u8981\u72ec\u7acb\u7ba1\u7406\u8fd9\u4e24\u8005\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u5e0c\u671b\u4f7f\u7528\u7ee7\u627f\u6216\u56e0\u4e3a\u591a\u5c42\u6b21\u7ee7\u627f\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6025\u5267\u589e\u52a0\u7684\u7cfb\u7edf\uff0c\u6865\u63a5\u6a21\u5f0f\u5c24\u4e3a\u9002\u7528\u3002","title":"\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_9","text":"\u4e00\u4e2a Java \u684c\u9762\u8f6f\u4ef6\u603b\u662f\u5e26\u6709\u6240\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u89c6\u611f( LookAndFeel )\uff0c\u5982\u679c\u4e00\u4e2a Java \u8f6f\u4ef6\u662f\u5728 Unix \u7cfb\u7edf\u4e0a\u5f00\u53d1\u7684\uff0c\u90a3\u4e48\u5f00\u53d1\u4eba\u5458\u770b\u5230\u7684\u662f Motif \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff1b\u5728 Windows \u4e0a\u9762\u4f7f\u7528\u8fd9\u4e2a\u7cfb\u7edf\u7684\u7528\u6237\u770b\u5230\u7684\u662f Windows \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff1b\u800c\u4e00\u4e2a\u5728 Macintosh \u4e0a\u9762\u4f7f\u7528\u7684\u7528\u6237\u770b\u5230\u7684\u5219\u662f Macintosh \u7528\u6237\u754c\u9762\u7684\u89c6\u611f\uff0cJava \u8bed\u8a00\u662f\u901a\u8fc7\u6240\u8c13\u7684 Peer \u67b6\u6784\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u3002Java \u4e3a AWT \u4e2d\u7684\u6bcf\u4e00\u4e2a GUI \u6784\u4ef6\u90fd\u63d0\u4f9b\u4e86\u4e00\u4e2a Peer \u6784\u4ef6\uff0c\u5728 AWT \u4e2d\u7684 Peer \u67b6\u6784\u5c31\u4f7f\u7528\u4e86\u6865\u63a5\u6a21\u5f0f\u3002","title":"\u6a21\u5f0f\u5e94\u7528"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_10","text":"\u9002\u914d\u5668\u6a21\u5f0f\u4e0e\u6865\u63a5\u6a21\u5f0f\u7684\u8054\u7528: \u6865\u63a5\u6a21\u5f0f\u548c\u9002\u914d\u5668\u6a21\u5f0f\u7528\u4e8e\u8bbe\u8ba1\u7684\u4e0d\u540c\u9636\u6bb5\uff0c \u6865\u63a5\u6a21\u5f0f\u7528\u4e8e\u7cfb\u7edf\u7684\u521d\u6b65\u8bbe\u8ba1 \uff0c\u5bf9\u4e8e\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7ef4\u5ea6\u7684\u7c7b\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u62bd\u8c61\u5316\u548c\u5b9e\u73b0\u5316\u4e24\u4e2a\u89d2\u8272\uff0c\u4f7f\u5b83\u4eec\u53ef\u4ee5\u5206\u522b\u8fdb\u884c\u53d8\u5316\uff1b\u800c\u5728\u521d\u6b65\u8bbe\u8ba1\u5b8c\u6210\u4e4b\u540e\uff0c \u5f53\u53d1\u73b0\u7cfb\u7edf\u4e0e\u5df2\u6709\u7c7b\u65e0\u6cd5\u534f\u540c\u5de5\u4f5c\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528\u9002\u914d\u5668\u6a21\u5f0f \u3002\u4f46\u6709\u65f6\u5019\u5728\u8bbe\u8ba1\u521d\u671f\u4e5f\u9700\u8981\u8003\u8651\u9002\u914d\u5668\u6a21\u5f0f\uff0c\u7279\u522b\u662f\u90a3\u4e9b\u6d89\u53ca\u5230\u5927\u91cf\u7b2c\u4e09\u65b9\u5e94\u7528\u63a5\u53e3\u7684\u60c5\u51b5\u3002","title":"\u6a21\u5f0f\u6269\u5c55"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u6865\u63a5\u6a21\u5f0f.html#_11","text":"\u6865\u63a5\u6a21\u5f0f\u5c06\u62bd\u8c61\u90e8\u5206\u4e0e\u5b83\u7684\u5b9e\u73b0\u90e8\u5206\u5206\u79bb\uff0c\u4f7f\u5b83\u4eec\u90fd\u53ef\u4ee5\u72ec\u7acb\u5730\u53d8\u5316\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u6865\u63a5\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\u5e76\u53ef\u4ee5\u7ef4\u62a4\u8be5\u5bf9\u8c61\uff1b\u6269\u5145\u62bd\u8c61\u7c7b\u6269\u5145\u7531\u62bd\u8c61\u7c7b\u5b9a\u4e49\u7684\u63a5\u53e3\uff0c\u5b83\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u7684\u62bd\u8c61\u4e1a\u52a1\u65b9\u6cd5\uff0c\u5728\u6269\u5145\u62bd\u8c61\u7c7b\u4e2d\u53ef\u4ee5\u8c03\u7528\u5728\u5b9e\u73b0\u7c7b\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u4e1a\u52a1\u65b9\u6cd5\uff1b\u5b9e\u73b0\u7c7b\u63a5\u53e3\u5b9a\u4e49\u4e86\u5b9e\u73b0\u7c7b\u7684\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u63a5\u53e3\u4ec5\u63d0\u4f9b\u57fa\u672c\u64cd\u4f5c\uff0c\u800c\u62bd\u8c61\u7c7b\u5b9a\u4e49\u7684\u63a5\u53e3\u53ef\u80fd\u4f1a\u505a\u66f4\u591a\u66f4\u590d\u6742\u7684\u64cd\u4f5c\uff1b\u5177\u4f53\u5b9e\u73b0\u7c7b\u5b9e\u73b0\u4e86\u5b9e\u73b0\u7c7b\u63a5\u53e3\u5e76\u4e14\u5177\u4f53\u5b9e\u73b0\u5b83\uff0c\u5728\u4e0d\u540c\u7684\u5177\u4f53\u5b9e\u73b0\u7c7b\u4e2d\u63d0\u4f9b\u57fa\u672c\u64cd\u4f5c\u7684\u4e0d\u540c\u5b9e\u73b0\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u5177\u4f53\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u5c06\u66ff\u6362\u5176\u7236\u7c7b\u5bf9\u8c61\uff0c\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u5177\u4f53\u7684\u4e1a\u52a1\u64cd\u4f5c\u65b9\u6cd5\u3002 \u5728\u6865\u63a5\u6a21\u5f0f\u4e2d\uff0c\u62bd\u8c61\u5316( Abstraction )\u4e0e\u5b9e\u73b0\u5316( Implementation )\u8131\u8026\uff0c\u5b83\u4eec\u53ef\u4ee5\u6cbf\u7740\u5404\u81ea\u7684\u7ef4\u5ea6\u72ec\u7acb\u53d8\u5316\u3002 \u6865\u63a5\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5206\u79bb\u62bd\u8c61\u63a5\u53e3\u53ca\u5176\u5b9e\u73b0\u90e8\u5206\uff0c\u662f\u6bd4\u591a\u7ee7\u627f\u65b9\u6848\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u6865\u63a5\u6a21\u5f0f\u8fd8\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u53ef\u6269\u5145\u6027\uff0c\u5728\u4e24\u4e2a\u53d8\u5316\u7ef4\u5ea6\u4e2d\u4efb\u610f\u6269\u5c55\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u90fd\u4e0d\u9700\u8981\u4fee\u6539\u539f\u6709\u7cfb\u7edf\uff0c\u5b9e\u73b0\u7ec6\u8282\u5bf9\u5ba2\u6237\u900f\u660e\uff0c\u53ef\u4ee5\u5bf9\u7528\u6237\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u662f\u589e\u52a0\u7cfb\u7edf\u7684\u7406\u89e3\u4e0e\u8bbe\u8ba1\u96be\u5ea6\uff0c\u4e14\u8bc6\u522b\u51fa\u7cfb\u7edf\u4e2d\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\u5e76\u4e0d\u662f\u4e00\u4ef6\u5bb9\u6613\u7684\u4e8b\u60c5\u3002 \u6865\u63a5\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u9700\u8981\u5728\u6784\u4ef6\u7684\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\u4e4b\u95f4\u589e\u52a0\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u907f\u514d\u5728\u4e24\u4e2a\u5c42\u6b21\u4e4b\u95f4\u5efa\u7acb\u9759\u6001\u7684\u7ee7\u627f\u8054\u7cfb\uff1b\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5b9e\u73b0\u5316\u89d2\u8272\u53ef\u4ee5\u4ee5\u7ee7\u627f\u7684\u65b9\u5f0f\u72ec\u7acb\u6269\u5c55\u800c\u4e92\u4e0d\u5f71\u54cd\uff1b\u4e00\u4e2a\u7c7b\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u4e14\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u9700\u8981\u8fdb\u884c\u6269\u5c55\uff1b\u8bbe\u8ba1\u8981\u6c42\u9700\u8981\u72ec\u7acb\u7ba1\u7406\u62bd\u8c61\u5316\u89d2\u8272\u548c\u5177\u4f53\u5316\u89d2\u8272\uff1b\u4e0d\u5e0c\u671b\u4f7f\u7528\u7ee7\u627f\u6216\u56e0\u4e3a\u591a\u5c42\u6b21\u7ee7\u627f\u5bfc\u81f4\u7cfb\u7edf\u7c7b\u7684\u4e2a\u6570\u6025\u5267\u589e\u52a0\u7684\u7cfb\u7edf\u3002 \u53c2\u8003\u81ea\uff1a \u6865\u63a5\u6a21\u5f0f","title":"\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5bf9\u8c61\u7684\u884c\u4e3a\u53d6\u51b3\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u52a8\u6001\u53d8\u5316\u7684\u5c5e\u6027\uff0c\u8fd9\u6837\u7684\u5c5e\u6027\u53eb\u505a\u72b6\u6001\uff0c\u8fd9\u6837\u7684\u5bf9\u8c61\u53eb\u505a\u6709\u72b6\u6001\u7684( stateful )\u5bf9\u8c61\uff0c\u8fd9\u6837\u7684\u5bf9\u8c61\u72b6\u6001\u662f\u4ece\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u4e00\u7cfb\u5217\u503c\u4e2d\u53d6\u51fa\u7684\u3002\u5f53\u4e00\u4e2a\u8fd9\u6837\u7684\u5bf9\u8c61\u4e0e\u5916\u90e8\u4e8b\u4ef6\u4ea7\u751f\u4e92\u52a8\u65f6\uff0c\u5176\u5185\u90e8\u72b6\u6001\u5c31\u4f1a\u6539\u53d8\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u7684\u884c\u4e3a\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u72b6\u6001\u6a21\u5f0f( State Pattern ) \uff1a\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\u3002\u5176\u522b\u540d\u4e3a\u72b6\u6001\u5bf9\u8c61( Objects for States )\uff0c\u72b6\u6001\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210\uff1a \u00b6 \u72b6\u6001\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Context : \u73af\u5883\u7c7b State : \u62bd\u8c61\u72b6\u6001\u89d2\u8272 ConcreteState : \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b 2. \u7ed3\u6784\u56fe\uff1a \u00b6 3. \u65f6\u5e8f\u56fe\uff1a \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u72b6\u6001\u89d2\u8272\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u62bd\u8c61\u72b6\u6001\u89d2\u8272 * */ public interface IState { /** * \u62bd\u8c61\u65b9\u6cd51 */ void handle1 (); /** * \u62bd\u8c61\u65b9\u6cd52 */ void handle2 (); } \u63a5\u4e0b\u6765\uff0c\u662f\u591a\u4e2a\u5177\u4f53\u7684\u72b6\u6001\u89d2\u8272\u7c7b\uff0c\u5206\u522b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1 * */ public class ConcreteState1 implements IState { /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd51 */ @Override public void handle1 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd51...\" ); } /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd52 */ @Override public void handle2 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd52...\" ); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2 * */ public class ConcreteState2 implements IState { /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd51 */ @Override public void handle1 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd51...\" ); } /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd52 */ @Override public void handle2 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd52...\" ); } } \u7136\u540e\uff0c\u662f\u73af\u5883\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 /** * \u73af\u5883\u89d2\u8272\u7c7b * */ public class Context { // \u5f53\u524d\u72b6\u6001 private IState state ; /** * \u6784\u9020\u65b9\u6cd5 * @param state */ public Context ( IState state ) { this . state = state ; } /** * \u65b9\u6cd51 */ public void handle1 () { this . state . handle1 (); } /** * \u65b9\u6cd52 */ public void handle2 () { this . state . handle2 (); } } \u6700\u540e\uff0c\u662f\u7528\u4e8e\u6d4b\u8bd5\u72b6\u6001\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u72b6\u6001\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7d2f * */ public class StateClient { public static void main ( String [] args ) { Context context = new Context ( new ConcreteState1 ()); context . handle1 (); context . handle2 (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u72b6\u6001\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5bf9\u8c61\u72b6\u6001\u7684\u53d8\u5316\u4ee5\u53ca\u5bf9\u8c61\u5982\u4f55\u5728\u6bcf\u4e00\u79cd\u72b6\u6001\u4e0b\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u5173\u952e\u662f\u5f15\u5165\u4e86\u4e00\u4e2a\u62bd\u8c61\u63a5\u53e3\u6765\u4e13\u95e8\u8868\u793a\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u8fd9\u4e2a\u7c7b\u6211\u4eec\u53eb\u505a\u62bd\u8c61\u72b6\u6001\u63a5\u53e3\uff0c\u800c\u5bf9\u8c61\u7684\u6bcf\u4e00\u79cd\u5177\u4f53\u72b6\u6001\u7c7b\u90fd\u5b9e\u73b0\u4e86\u8be5\u7c7b\uff0c\u5e76\u5728\u4e0d\u540c\u5177\u4f53\u72b6\u6001\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u4e0d\u540c\u72b6\u6001\u7684\u884c\u4e3a\uff0c\u5305\u62ec\u5404\u79cd\u72b6\u6001\u4e4b\u95f4\u7684\u8f6c\u6362\u3002 \u5728\u72b6\u6001\u6a21\u5f0f\u7ed3\u6784\u4e2d\u9700\u8981\u7406\u89e3\u73af\u5883\u7c7b\u4e0e\u62bd\u8c61\u72b6\u6001\u7c7b\u7684\u4f5c\u7528\uff1a \u73af\u5883\u7c7b\u5b9e\u9645\u4e0a\u5c31\u662f\u62e5\u6709\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u73af\u5883\u7c7b\u6709\u65f6\u5019\u53ef\u4ee5\u5145\u5f53\u72b6\u6001\u7ba1\u7406\u5668(State Manager)\u7684\u89d2\u8272\uff0c\u53ef\u4ee5\u5728\u73af\u5883\u7c7b\u4e2d\u5bf9\u72b6\u6001\u8fdb\u884c\u5207\u6362\u64cd\u4f5c\u3002 \u62bd\u8c61\u72b6\u6001\u7c7b\u53ef\u4ee5\u662f\u62bd\u8c61\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u662f\u63a5\u53e3\uff0c\u4e0d\u540c\u72b6\u6001\u7c7b\u5c31\u662f\u7ee7\u627f\u8fd9\u4e2a\u7236\u7c7b\u7684\u4e0d\u540c\u5b50\u7c7b\uff0c\u72b6\u6001\u7c7b\u7684\u4ea7\u751f\u662f\u7531\u4e8e\u73af\u5883\u7c7b\u5b58\u5728\u591a\u4e2a\u72b6\u6001\uff0c\u540c\u65f6\u8fd8\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a \u8fd9\u4e9b\u72b6\u6001\u7ecf\u5e38\u9700\u8981\u5207\u6362\uff0c\u5728\u4e0d\u540c\u7684\u72b6\u6001\u4e0b\u5bf9\u8c61\u7684\u884c\u4e3a\u4e0d\u540c\u3002\u56e0\u6b64\u53ef\u4ee5\u5c06\u4e0d\u540c\u5bf9\u8c61\u4e0b\u7684\u884c\u4e3a\u5355\u72ec\u63d0\u53d6\u51fa\u6765\u5c01\u88c5\u5728\u5177\u4f53\u7684\u72b6\u6001\u7c7b\u4e2d\uff0c\u4f7f\u5f97\u73af\u5883\u7c7b\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u53ef\u4ee5\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\uff0c\u800c\u5b9e\u9645\u4e0a\u662f\u7531\u4e8e\u5207\u6362\u5230\u4e0d\u540c\u7684\u5177\u4f53\u72b6\u6001\u7c7b\u5b9e\u73b0\u7684\u3002\u7531\u4e8e\u73af\u5883\u7c7b\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4efb\u4e00\u5177\u4f53\u72b6\u6001\u7c7b\uff0c\u56e0\u6b64\u5b83\u9488\u5bf9\u62bd\u8c61\u72b6\u6001\u7c7b\u8fdb\u884c\u7f16\u7a0b\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53ef\u4ee5\u5c06\u4efb\u4e00\u5177\u4f53\u72b6\u6001\u7c7b\u7684\u5bf9\u8c61\u8bbe\u7f6e\u5230\u73af\u5883\u7c7b\u4e2d\uff0c\u4ece\u800c\u4f7f\u5f97\u73af\u5883\u7c7b\u53ef\u4ee5\u6539\u53d8\u5185\u90e8\u72b6\u6001\uff0c\u5e76\u4e14\u6539\u53d8\u884c\u4e3a\u3002 1. \u4f18\u70b9 \u00b6 \u72b6\u6001\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5c01\u88c5\u4e86\u8f6c\u6362\u89c4\u5219\u3002 \u679a\u4e3e\u53ef\u80fd\u7684\u72b6\u6001\uff0c\u5728\u679a\u4e3e\u72b6\u6001\u4e4b\u524d\u9700\u8981\u786e\u5b9a\u72b6\u6001\u79cd\u7c7b\u3002 \u5c06\u6240\u6709\u4e0e\u67d0\u4e2a\u72b6\u6001\u6709\u5173\u7684\u884c\u4e3a\u653e\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u72b6\u6001\uff0c\u53ea\u9700\u8981\u6539\u53d8\u5bf9\u8c61\u72b6\u6001\u5373\u53ef\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\u3002 \u5141\u8bb8\u72b6\u6001\u8f6c\u6362\u903b\u8f91\u4e0e\u72b6\u6001\u5bf9\u8c61\u5408\u6210\u4e00\u4f53\uff0c\u800c\u4e0d\u662f\u67d0\u4e00\u4e2a\u5de8\u5927\u7684\u6761\u4ef6\u8bed\u53e5\u5757\u3002 \u53ef\u4ee5\u8ba9\u591a\u4e2a\u73af\u5883\u5bf9\u8c61\u5171\u4eab\u4e00\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u4ece\u800c\u51cf\u5c11\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u7684\u4e2a\u6570\u3002 2. \u7f3a\u70b9 \u00b6 \u72b6\u6001\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u72b6\u6001\u6a21\u5f0f\u7684\u4f7f\u7528\u5fc5\u7136\u4f1a\u589e\u52a0\u7cfb\u7edf\u7c7b\u548c\u5bf9\u8c61\u7684\u4e2a\u6570\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u7ed3\u6784\u4e0e\u5b9e\u73b0\u90fd\u8f83\u4e3a\u590d\u6742\uff0c\u5982\u679c\u4f7f\u7528\u4e0d\u5f53\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u7ed3\u6784\u548c\u4ee3\u7801\u7684\u6df7\u4e71\u3002 \u72b6\u6001\u6a21\u5f0f\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u652f\u6301\u5e76\u4e0d\u592a\u597d\uff0c\u5bf9\u4e8e\u53ef\u4ee5\u5207\u6362\u72b6\u6001\u7684\u72b6\u6001\u6a21\u5f0f\uff0c\u589e\u52a0\u65b0\u7684\u72b6\u6001\u7c7b\u9700\u8981\u4fee\u6539\u90a3\u4e9b\u8d1f\u8d23\u72b6\u6001\u8f6c\u6362\u7684\u6e90\u4ee3\u7801\uff0c\u5426\u5219\u65e0\u6cd5\u5207\u6362\u5230\u65b0\u589e\u72b6\u6001\uff1b\u800c\u4e14\u4fee\u6539\u67d0\u4e2a\u72b6\u6001\u7c7b\u7684\u884c\u4e3a\u4e5f\u9700\u4fee\u6539\u5bf9\u5e94\u7c7b\u7684\u6e90\u4ee3\u7801\u3002 3.\u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\uff1a \u5bf9\u8c61\u7684\u884c\u4e3a\u4f9d\u8d56\u4e8e\u5b83\u7684\u72b6\u6001\uff08\u5c5e\u6027\uff09\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u5b83\u7684\u72b6\u6001\u6539\u53d8\u800c\u6539\u53d8\u5b83\u7684\u76f8\u5173\u884c\u4e3a\u3002 \u4ee3\u7801\u4e2d\u5305\u542b\u5927\u91cf\u4e0e\u5bf9\u8c61\u72b6\u6001\u6709\u5173\u7684\u6761\u4ef6\u8bed\u53e5\uff0c\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u7684\u51fa\u73b0\uff0c\u4f1a\u5bfc\u81f4\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u7075\u6d3b\u6027\u53d8\u5dee\uff0c\u4e0d\u80fd\u65b9\u4fbf\u5730\u589e\u52a0\u548c\u5220\u9664\u72b6\u6001\uff0c\u4f7f\u5ba2\u6237\u7c7b\u4e0e\u7c7b\u5e93\u4e4b\u95f4\u7684\u8026\u5408\u589e\u5f3a\u3002\u5728\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u4e2d\u5305\u542b\u4e86\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u800c\u4e14\u8fd9\u4e9b\u6761\u4ef6\u5bf9\u5e94\u4e8e\u5bf9\u8c61\u7684\u5404\u79cd\u72b6\u6001\u3002 \u72b6\u6001\u6a21\u5f0f\u5728\u5de5\u4f5c\u6d41\u6216\u6e38\u620f\u7b49\u7c7b\u578b\u7684\u8f6f\u4ef6\u4e2d\u5f97\u4ee5\u5e7f\u6cdb\u4f7f\u7528\uff0c\u751a\u81f3\u53ef\u4ee5\u7528\u4e8e\u8fd9\u4e9b\u7cfb\u7edf\u7684\u6838\u5fc3\u529f\u80fd\u8bbe\u8ba1\uff0c\u5982\u5728\u653f\u5e9cOA\u529e\u516c\u7cfb\u7edf\u4e2d\uff0c\u4e00\u4e2a\u6279\u6587\u7684\u72b6\u6001\u6709\u591a\u79cd\uff1a\u5c1a\u672a\u529e\u7406\uff1b\u6b63\u5728\u529e\u7406\uff1b\u6b63\u5728\u6279\u793a\uff1b\u6b63\u5728\u5ba1\u6838\uff1b\u5df2\u7ecf\u5b8c\u6210\u7b49\u5404\u79cd\u72b6\u6001\uff0c\u800c\u4e14\u6279\u6587\u72b6\u6001\u4e0d\u540c\u65f6\u5bf9\u6279\u6587\u7684\u64cd\u4f5c\u4e5f\u6709\u6240\u5dee\u5f02\u3002\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u53ef\u4ee5\u63cf\u8ff0\u5de5\u4f5c\u6d41\u5bf9\u8c61\uff08\u5982\u6279\u6587\uff09\u7684\u72b6\u6001\u8f6c\u6362\u4ee5\u53ca\u4e0d\u540c\u72b6\u6001\u4e0b\u5b83\u6240\u5177\u6709\u7684\u884c\u4e3a\u3002 \u516d\u3001\u603b\u7ed3 \u00b6 \u72b6\u6001\u6a21\u5f0f\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\u3002\u5176\u522b\u540d\u4e3a\u72b6\u6001\u5bf9\u8c61\uff0c\u72b6\u6001\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u72b6\u6001\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u73af\u5883\u7c7b\u53c8\u79f0\u4e3a\u4e0a\u4e0b\u6587\u7c7b\uff0c\u5b83\u662f\u62e5\u6709\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u5728\u73af\u5883\u7c7b\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u62bd\u8c61\u72b6\u6001\u7c7bState\u7684\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u5b9a\u4e49\u5f53\u524d\u72b6\u6001\uff0c\u5728\u5177\u4f53\u5b9e\u73b0\u65f6\uff0c\u5b83\u662f\u4e00\u4e2aState\u5b50\u7c7b\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5b9a\u4e49\u521d\u59cb\u72b6\u6001\uff1b\u62bd\u8c61\u72b6\u6001\u7c7b\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u4ee5\u5c01\u88c5\u4e0e\u73af\u5883\u7c7b\u7684\u4e00\u4e2a\u7279\u5b9a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\uff1b\u5177\u4f53\u72b6\u6001\u7c7b\u662f\u62bd\u8c61\u72b6\u6001\u7c7b\u7684\u5b50\u7c7b\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7c7b\u5b9e\u73b0\u4e00\u4e2a\u4e0e\u73af\u5883\u7c7b\u7684\u4e00\u4e2a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u7c7b\u5bf9\u5e94\u73af\u5883\u7684\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\uff0c\u4e0d\u540c\u7684\u5177\u4f53\u72b6\u6001\u7c7b\u5176\u884c\u4e3a\u6709\u6240\u4e0d\u540c\u3002 \u72b6\u6001\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5bf9\u8c61\u72b6\u6001\u7684\u53d8\u5316\u4ee5\u53ca\u5bf9\u8c61\u5982\u4f55\u5728\u6bcf\u4e00\u79cd\u72b6\u6001\u4e0b\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5c01\u88c5\u4e86\u8f6c\u6362\u89c4\u5219\uff0c\u5e76\u679a\u4e3e\u53ef\u80fd\u7684\u72b6\u6001\uff0c\u5b83\u5c06\u6240\u6709\u4e0e\u67d0\u4e2a\u72b6\u6001\u6709\u5173\u7684\u884c\u4e3a\u653e\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u72b6\u6001\uff0c\u53ea\u9700\u8981\u6539\u53d8\u5bf9\u8c61\u72b6\u6001\u5373\u53ef\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u8fd8\u53ef\u4ee5\u8ba9\u591a\u4e2a\u73af\u5883\u5bf9\u8c61\u5171\u4eab\u4e00\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u4ece\u800c\u51cf\u5c11\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u7684\u4e2a\u6570\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u4f1a\u589e\u52a0\u7cfb\u7edf\u7c7b\u548c\u5bf9\u8c61\u7684\u4e2a\u6570\uff0c\u4e14\u72b6\u6001\u6a21\u5f0f\u7684\u7ed3\u6784\u4e0e\u5b9e\u73b0\u90fd\u8f83\u4e3a\u590d\u6742\uff0c\u5982\u679c\u4f7f\u7528\u4e0d\u5f53\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u7ed3\u6784\u548c\u4ee3\u7801\u7684\u6df7\u4e71\uff0c\u5bf9\u4e8e\u53ef\u4ee5\u5207\u6362\u72b6\u6001\u7684\u72b6\u6001\u6a21\u5f0f\u4e0d\u6ee1\u8db3\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u8981\u6c42\u3002 \u72b6\u6001\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5bf9\u8c61\u7684\u884c\u4e3a\u4f9d\u8d56\u4e8e\u5b83\u7684\u72b6\u6001\uff08\u5c5e\u6027\uff09\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u5b83\u7684\u72b6\u6001\u6539\u53d8\u800c\u6539\u53d8\u5b83\u7684\u76f8\u5173\u884c\u4e3a\uff1b\u4ee3\u7801\u4e2d\u5305\u542b\u5927\u91cf\u4e0e\u5bf9\u8c61\u72b6\u6001\u6709\u5173\u7684\u6761\u4ef6\u8bed\u53e5\uff0c\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u7684\u51fa\u73b0\uff0c\u4f1a\u5bfc\u81f4\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u7075\u6d3b\u6027\u53d8\u5dee\uff0c\u4e0d\u80fd\u65b9\u4fbf\u5730\u589e\u52a0\u548c\u5220\u9664\u72b6\u6001\uff0c\u4f7f\u5ba2\u6237\u7c7b\u4e0e\u7c7b\u5e93\u4e4b\u95f4\u7684\u8026\u5408\u589e\u5f3a\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_1","text":"\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5bf9\u8c61\u7684\u884c\u4e3a\u53d6\u51b3\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u52a8\u6001\u53d8\u5316\u7684\u5c5e\u6027\uff0c\u8fd9\u6837\u7684\u5c5e\u6027\u53eb\u505a\u72b6\u6001\uff0c\u8fd9\u6837\u7684\u5bf9\u8c61\u53eb\u505a\u6709\u72b6\u6001\u7684( stateful )\u5bf9\u8c61\uff0c\u8fd9\u6837\u7684\u5bf9\u8c61\u72b6\u6001\u662f\u4ece\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u4e00\u7cfb\u5217\u503c\u4e2d\u53d6\u51fa\u7684\u3002\u5f53\u4e00\u4e2a\u8fd9\u6837\u7684\u5bf9\u8c61\u4e0e\u5916\u90e8\u4e8b\u4ef6\u4ea7\u751f\u4e92\u52a8\u65f6\uff0c\u5176\u5185\u90e8\u72b6\u6001\u5c31\u4f1a\u6539\u53d8\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u7684\u884c\u4e3a\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_2","text":"\u72b6\u6001\u6a21\u5f0f( State Pattern ) \uff1a\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\u3002\u5176\u522b\u540d\u4e3a\u72b6\u6001\u5bf9\u8c61( Objects for States )\uff0c\u72b6\u6001\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#1","text":"\u72b6\u6001\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Context : \u73af\u5883\u7c7b State : \u62bd\u8c61\u72b6\u6001\u89d2\u8272 ConcreteState : \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b","title":"1. \u89d2\u8272\u7ec4\u6210\uff1a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe\uff1a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#3","text":"","title":"3. \u65f6\u5e8f\u56fe\uff1a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u62bd\u8c61\u7684\u72b6\u6001\u89d2\u8272\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u62bd\u8c61\u72b6\u6001\u89d2\u8272 * */ public interface IState { /** * \u62bd\u8c61\u65b9\u6cd51 */ void handle1 (); /** * \u62bd\u8c61\u65b9\u6cd52 */ void handle2 (); } \u63a5\u4e0b\u6765\uff0c\u662f\u591a\u4e2a\u5177\u4f53\u7684\u72b6\u6001\u89d2\u8272\u7c7b\uff0c\u5206\u522b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1 * */ public class ConcreteState1 implements IState { /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd51 */ @Override public void handle1 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd51...\" ); } /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd52 */ @Override public void handle2 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b1\u4e2d\u7684\u65b9\u6cd52...\" ); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2 * */ public class ConcreteState2 implements IState { /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd51 */ @Override public void handle1 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd51...\" ); } /** * \u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd52 */ @Override public void handle2 () { System . out . println ( \"\u6267\u884c\u4e86\u5177\u4f53\u72b6\u6001\u89d2\u8272\u7c7b2\u4e2d\u7684\u65b9\u6cd52...\" ); } } \u7136\u540e\uff0c\u662f\u73af\u5883\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 /** * \u73af\u5883\u89d2\u8272\u7c7b * */ public class Context { // \u5f53\u524d\u72b6\u6001 private IState state ; /** * \u6784\u9020\u65b9\u6cd5 * @param state */ public Context ( IState state ) { this . state = state ; } /** * \u65b9\u6cd51 */ public void handle1 () { this . state . handle1 (); } /** * \u65b9\u6cd52 */ public void handle2 () { this . state . handle2 (); } } \u6700\u540e\uff0c\u662f\u7528\u4e8e\u6d4b\u8bd5\u72b6\u6001\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 /** * \u72b6\u6001\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7d2f * */ public class StateClient { public static void main ( String [] args ) { Context context = new Context ( new ConcreteState1 ()); context . handle1 (); context . handle2 (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_5","text":"\u72b6\u6001\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5bf9\u8c61\u72b6\u6001\u7684\u53d8\u5316\u4ee5\u53ca\u5bf9\u8c61\u5982\u4f55\u5728\u6bcf\u4e00\u79cd\u72b6\u6001\u4e0b\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u5173\u952e\u662f\u5f15\u5165\u4e86\u4e00\u4e2a\u62bd\u8c61\u63a5\u53e3\u6765\u4e13\u95e8\u8868\u793a\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u8fd9\u4e2a\u7c7b\u6211\u4eec\u53eb\u505a\u62bd\u8c61\u72b6\u6001\u63a5\u53e3\uff0c\u800c\u5bf9\u8c61\u7684\u6bcf\u4e00\u79cd\u5177\u4f53\u72b6\u6001\u7c7b\u90fd\u5b9e\u73b0\u4e86\u8be5\u7c7b\uff0c\u5e76\u5728\u4e0d\u540c\u5177\u4f53\u72b6\u6001\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u4e0d\u540c\u72b6\u6001\u7684\u884c\u4e3a\uff0c\u5305\u62ec\u5404\u79cd\u72b6\u6001\u4e4b\u95f4\u7684\u8f6c\u6362\u3002 \u5728\u72b6\u6001\u6a21\u5f0f\u7ed3\u6784\u4e2d\u9700\u8981\u7406\u89e3\u73af\u5883\u7c7b\u4e0e\u62bd\u8c61\u72b6\u6001\u7c7b\u7684\u4f5c\u7528\uff1a \u73af\u5883\u7c7b\u5b9e\u9645\u4e0a\u5c31\u662f\u62e5\u6709\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u73af\u5883\u7c7b\u6709\u65f6\u5019\u53ef\u4ee5\u5145\u5f53\u72b6\u6001\u7ba1\u7406\u5668(State Manager)\u7684\u89d2\u8272\uff0c\u53ef\u4ee5\u5728\u73af\u5883\u7c7b\u4e2d\u5bf9\u72b6\u6001\u8fdb\u884c\u5207\u6362\u64cd\u4f5c\u3002 \u62bd\u8c61\u72b6\u6001\u7c7b\u53ef\u4ee5\u662f\u62bd\u8c61\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u662f\u63a5\u53e3\uff0c\u4e0d\u540c\u72b6\u6001\u7c7b\u5c31\u662f\u7ee7\u627f\u8fd9\u4e2a\u7236\u7c7b\u7684\u4e0d\u540c\u5b50\u7c7b\uff0c\u72b6\u6001\u7c7b\u7684\u4ea7\u751f\u662f\u7531\u4e8e\u73af\u5883\u7c7b\u5b58\u5728\u591a\u4e2a\u72b6\u6001\uff0c\u540c\u65f6\u8fd8\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a \u8fd9\u4e9b\u72b6\u6001\u7ecf\u5e38\u9700\u8981\u5207\u6362\uff0c\u5728\u4e0d\u540c\u7684\u72b6\u6001\u4e0b\u5bf9\u8c61\u7684\u884c\u4e3a\u4e0d\u540c\u3002\u56e0\u6b64\u53ef\u4ee5\u5c06\u4e0d\u540c\u5bf9\u8c61\u4e0b\u7684\u884c\u4e3a\u5355\u72ec\u63d0\u53d6\u51fa\u6765\u5c01\u88c5\u5728\u5177\u4f53\u7684\u72b6\u6001\u7c7b\u4e2d\uff0c\u4f7f\u5f97\u73af\u5883\u7c7b\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u53ef\u4ee5\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\uff0c\u800c\u5b9e\u9645\u4e0a\u662f\u7531\u4e8e\u5207\u6362\u5230\u4e0d\u540c\u7684\u5177\u4f53\u72b6\u6001\u7c7b\u5b9e\u73b0\u7684\u3002\u7531\u4e8e\u73af\u5883\u7c7b\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4efb\u4e00\u5177\u4f53\u72b6\u6001\u7c7b\uff0c\u56e0\u6b64\u5b83\u9488\u5bf9\u62bd\u8c61\u72b6\u6001\u7c7b\u8fdb\u884c\u7f16\u7a0b\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53ef\u4ee5\u5c06\u4efb\u4e00\u5177\u4f53\u72b6\u6001\u7c7b\u7684\u5bf9\u8c61\u8bbe\u7f6e\u5230\u73af\u5883\u7c7b\u4e2d\uff0c\u4ece\u800c\u4f7f\u5f97\u73af\u5883\u7c7b\u53ef\u4ee5\u6539\u53d8\u5185\u90e8\u72b6\u6001\uff0c\u5e76\u4e14\u6539\u53d8\u884c\u4e3a\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#1_1","text":"\u72b6\u6001\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u5c01\u88c5\u4e86\u8f6c\u6362\u89c4\u5219\u3002 \u679a\u4e3e\u53ef\u80fd\u7684\u72b6\u6001\uff0c\u5728\u679a\u4e3e\u72b6\u6001\u4e4b\u524d\u9700\u8981\u786e\u5b9a\u72b6\u6001\u79cd\u7c7b\u3002 \u5c06\u6240\u6709\u4e0e\u67d0\u4e2a\u72b6\u6001\u6709\u5173\u7684\u884c\u4e3a\u653e\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u72b6\u6001\uff0c\u53ea\u9700\u8981\u6539\u53d8\u5bf9\u8c61\u72b6\u6001\u5373\u53ef\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\u3002 \u5141\u8bb8\u72b6\u6001\u8f6c\u6362\u903b\u8f91\u4e0e\u72b6\u6001\u5bf9\u8c61\u5408\u6210\u4e00\u4f53\uff0c\u800c\u4e0d\u662f\u67d0\u4e00\u4e2a\u5de8\u5927\u7684\u6761\u4ef6\u8bed\u53e5\u5757\u3002 \u53ef\u4ee5\u8ba9\u591a\u4e2a\u73af\u5883\u5bf9\u8c61\u5171\u4eab\u4e00\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u4ece\u800c\u51cf\u5c11\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u7684\u4e2a\u6570\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#2_1","text":"\u72b6\u6001\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u72b6\u6001\u6a21\u5f0f\u7684\u4f7f\u7528\u5fc5\u7136\u4f1a\u589e\u52a0\u7cfb\u7edf\u7c7b\u548c\u5bf9\u8c61\u7684\u4e2a\u6570\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u7ed3\u6784\u4e0e\u5b9e\u73b0\u90fd\u8f83\u4e3a\u590d\u6742\uff0c\u5982\u679c\u4f7f\u7528\u4e0d\u5f53\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u7ed3\u6784\u548c\u4ee3\u7801\u7684\u6df7\u4e71\u3002 \u72b6\u6001\u6a21\u5f0f\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u652f\u6301\u5e76\u4e0d\u592a\u597d\uff0c\u5bf9\u4e8e\u53ef\u4ee5\u5207\u6362\u72b6\u6001\u7684\u72b6\u6001\u6a21\u5f0f\uff0c\u589e\u52a0\u65b0\u7684\u72b6\u6001\u7c7b\u9700\u8981\u4fee\u6539\u90a3\u4e9b\u8d1f\u8d23\u72b6\u6001\u8f6c\u6362\u7684\u6e90\u4ee3\u7801\uff0c\u5426\u5219\u65e0\u6cd5\u5207\u6362\u5230\u65b0\u589e\u72b6\u6001\uff1b\u800c\u4e14\u4fee\u6539\u67d0\u4e2a\u72b6\u6001\u7c7b\u7684\u884c\u4e3a\u4e5f\u9700\u4fee\u6539\u5bf9\u5e94\u7c7b\u7684\u6e90\u4ee3\u7801\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#3_1","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\uff1a \u5bf9\u8c61\u7684\u884c\u4e3a\u4f9d\u8d56\u4e8e\u5b83\u7684\u72b6\u6001\uff08\u5c5e\u6027\uff09\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u5b83\u7684\u72b6\u6001\u6539\u53d8\u800c\u6539\u53d8\u5b83\u7684\u76f8\u5173\u884c\u4e3a\u3002 \u4ee3\u7801\u4e2d\u5305\u542b\u5927\u91cf\u4e0e\u5bf9\u8c61\u72b6\u6001\u6709\u5173\u7684\u6761\u4ef6\u8bed\u53e5\uff0c\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u7684\u51fa\u73b0\uff0c\u4f1a\u5bfc\u81f4\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u7075\u6d3b\u6027\u53d8\u5dee\uff0c\u4e0d\u80fd\u65b9\u4fbf\u5730\u589e\u52a0\u548c\u5220\u9664\u72b6\u6001\uff0c\u4f7f\u5ba2\u6237\u7c7b\u4e0e\u7c7b\u5e93\u4e4b\u95f4\u7684\u8026\u5408\u589e\u5f3a\u3002\u5728\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u4e2d\u5305\u542b\u4e86\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u800c\u4e14\u8fd9\u4e9b\u6761\u4ef6\u5bf9\u5e94\u4e8e\u5bf9\u8c61\u7684\u5404\u79cd\u72b6\u6001\u3002 \u72b6\u6001\u6a21\u5f0f\u5728\u5de5\u4f5c\u6d41\u6216\u6e38\u620f\u7b49\u7c7b\u578b\u7684\u8f6f\u4ef6\u4e2d\u5f97\u4ee5\u5e7f\u6cdb\u4f7f\u7528\uff0c\u751a\u81f3\u53ef\u4ee5\u7528\u4e8e\u8fd9\u4e9b\u7cfb\u7edf\u7684\u6838\u5fc3\u529f\u80fd\u8bbe\u8ba1\uff0c\u5982\u5728\u653f\u5e9cOA\u529e\u516c\u7cfb\u7edf\u4e2d\uff0c\u4e00\u4e2a\u6279\u6587\u7684\u72b6\u6001\u6709\u591a\u79cd\uff1a\u5c1a\u672a\u529e\u7406\uff1b\u6b63\u5728\u529e\u7406\uff1b\u6b63\u5728\u6279\u793a\uff1b\u6b63\u5728\u5ba1\u6838\uff1b\u5df2\u7ecf\u5b8c\u6210\u7b49\u5404\u79cd\u72b6\u6001\uff0c\u800c\u4e14\u6279\u6587\u72b6\u6001\u4e0d\u540c\u65f6\u5bf9\u6279\u6587\u7684\u64cd\u4f5c\u4e5f\u6709\u6240\u5dee\u5f02\u3002\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u53ef\u4ee5\u63cf\u8ff0\u5de5\u4f5c\u6d41\u5bf9\u8c61\uff08\u5982\u6279\u6587\uff09\u7684\u72b6\u6001\u8f6c\u6362\u4ee5\u53ca\u4e0d\u540c\u72b6\u6001\u4e0b\u5b83\u6240\u5177\u6709\u7684\u884c\u4e3a\u3002","title":"3.\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u72b6\u6001\u6a21\u5f0f.html#_6","text":"\u72b6\u6001\u6a21\u5f0f\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u5728\u5176\u5185\u90e8\u72b6\u6001\u6539\u53d8\u65f6\u6539\u53d8\u5b83\u7684\u884c\u4e3a\uff0c\u5bf9\u8c61\u770b\u8d77\u6765\u4f3c\u4e4e\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\u3002\u5176\u522b\u540d\u4e3a\u72b6\u6001\u5bf9\u8c61\uff0c\u72b6\u6001\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u72b6\u6001\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u73af\u5883\u7c7b\u53c8\u79f0\u4e3a\u4e0a\u4e0b\u6587\u7c7b\uff0c\u5b83\u662f\u62e5\u6709\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u5728\u73af\u5883\u7c7b\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u62bd\u8c61\u72b6\u6001\u7c7bState\u7684\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u5b9a\u4e49\u5f53\u524d\u72b6\u6001\uff0c\u5728\u5177\u4f53\u5b9e\u73b0\u65f6\uff0c\u5b83\u662f\u4e00\u4e2aState\u5b50\u7c7b\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5b9a\u4e49\u521d\u59cb\u72b6\u6001\uff1b\u62bd\u8c61\u72b6\u6001\u7c7b\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u4ee5\u5c01\u88c5\u4e0e\u73af\u5883\u7c7b\u7684\u4e00\u4e2a\u7279\u5b9a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\uff1b\u5177\u4f53\u72b6\u6001\u7c7b\u662f\u62bd\u8c61\u72b6\u6001\u7c7b\u7684\u5b50\u7c7b\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7c7b\u5b9e\u73b0\u4e00\u4e2a\u4e0e\u73af\u5883\u7c7b\u7684\u4e00\u4e2a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u7c7b\u5bf9\u5e94\u73af\u5883\u7684\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\uff0c\u4e0d\u540c\u7684\u5177\u4f53\u72b6\u6001\u7c7b\u5176\u884c\u4e3a\u6709\u6240\u4e0d\u540c\u3002 \u72b6\u6001\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5bf9\u8c61\u72b6\u6001\u7684\u53d8\u5316\u4ee5\u53ca\u5bf9\u8c61\u5982\u4f55\u5728\u6bcf\u4e00\u79cd\u72b6\u6001\u4e0b\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u72b6\u6001\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5c01\u88c5\u4e86\u8f6c\u6362\u89c4\u5219\uff0c\u5e76\u679a\u4e3e\u53ef\u80fd\u7684\u72b6\u6001\uff0c\u5b83\u5c06\u6240\u6709\u4e0e\u67d0\u4e2a\u72b6\u6001\u6709\u5173\u7684\u884c\u4e3a\u653e\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u72b6\u6001\uff0c\u53ea\u9700\u8981\u6539\u53d8\u5bf9\u8c61\u72b6\u6001\u5373\u53ef\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u8fd8\u53ef\u4ee5\u8ba9\u591a\u4e2a\u73af\u5883\u5bf9\u8c61\u5171\u4eab\u4e00\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u4ece\u800c\u51cf\u5c11\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u7684\u4e2a\u6570\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u4f1a\u589e\u52a0\u7cfb\u7edf\u7c7b\u548c\u5bf9\u8c61\u7684\u4e2a\u6570\uff0c\u4e14\u72b6\u6001\u6a21\u5f0f\u7684\u7ed3\u6784\u4e0e\u5b9e\u73b0\u90fd\u8f83\u4e3a\u590d\u6742\uff0c\u5982\u679c\u4f7f\u7528\u4e0d\u5f53\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u7ed3\u6784\u548c\u4ee3\u7801\u7684\u6df7\u4e71\uff0c\u5bf9\u4e8e\u53ef\u4ee5\u5207\u6362\u72b6\u6001\u7684\u72b6\u6001\u6a21\u5f0f\u4e0d\u6ee1\u8db3\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u8981\u6c42\u3002 \u72b6\u6001\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5bf9\u8c61\u7684\u884c\u4e3a\u4f9d\u8d56\u4e8e\u5b83\u7684\u72b6\u6001\uff08\u5c5e\u6027\uff09\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u5b83\u7684\u72b6\u6001\u6539\u53d8\u800c\u6539\u53d8\u5b83\u7684\u76f8\u5173\u884c\u4e3a\uff1b\u4ee3\u7801\u4e2d\u5305\u542b\u5927\u91cf\u4e0e\u5bf9\u8c61\u72b6\u6001\u6709\u5173\u7684\u6761\u4ef6\u8bed\u53e5\uff0c\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u7684\u51fa\u73b0\uff0c\u4f1a\u5bfc\u81f4\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u7075\u6d3b\u6027\u53d8\u5dee\uff0c\u4e0d\u80fd\u65b9\u4fbf\u5730\u589e\u52a0\u548c\u5220\u9664\u72b6\u6001\uff0c\u4f7f\u5ba2\u6237\u7c7b\u4e0e\u7c7b\u5e93\u4e4b\u95f4\u7684\u8026\u5408\u589e\u5f3a\u3002","title":"\u516d\u3001\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5b8c\u6210\u4e00\u9879\u4efb\u52a1\uff0c\u5f80\u5f80\u53ef\u4ee5\u6709\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\uff0c\u6bcf\u4e00\u79cd\u65b9\u5f0f\u79f0\u4e3a\u4e00\u4e2a\u7b56\u7565\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u73af\u5883\u6216\u8005\u6761\u4ef6\u7684\u4e0d\u540c\u9009\u62e9\u4e0d\u540c\u7684\u7b56\u7565\u6765\u5b8c\u6210\u8be5\u9879\u4efb\u52a1\u3002\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u4e5f\u5e38\u5e38\u9047\u5230\u7c7b\u4f3c\u7684\u60c5\u51b5\uff0c\u5b9e\u73b0\u67d0\u4e00\u4e2a\u529f\u80fd\u6709\u591a\u4e2a\u9014\u5f84\uff0c\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u6765\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u7075\u6d3b\u5730\u9009\u62e9\u89e3\u51b3\u9014\u5f84\uff0c\u4e5f\u80fd\u591f\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u89e3\u51b3\u9014\u5f84\u3002 \u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6709\u8bb8\u591a\u7b97\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u67d0\u4e00\u529f\u80fd\uff0c\u5982\u67e5\u627e\u3001\u6392\u5e8f\u7b49\uff0c\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u786c\u7f16\u7801( Hard Coding )\u5728\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5982\u9700\u8981\u63d0\u4f9b\u591a\u79cd\u67e5\u627e\u7b97\u6cd5\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u7b97\u6cd5\u5199\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5728\u8be5\u7c7b\u4e2d\u63d0\u4f9b\u591a\u4e2a\u65b9\u6cd5\uff0c\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u5bf9\u5e94\u4e00\u4e2a\u5177\u4f53\u7684\u67e5\u627e\u7b97\u6cd5\uff1b\u5f53\u7136\u4e5f\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u67e5\u627e\u7b97\u6cd5\u5c01\u88c5\u5728\u4e00\u4e2a\u7edf\u4e00\u7684\u65b9\u6cd5\u4e2d\uff0c\u901a\u8fc7 if\u2026else\u2026\u7b49\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u6765\u8fdb\u884c\u9009\u62e9\u3002\u8fd9\u4e24\u79cd\u5b9e\u73b0\u65b9\u6cd5\u6211\u4eec\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u786c\u7f16\u7801\uff0c\u5982\u679c\u9700\u8981\u589e\u52a0\u4e00\u79cd\u65b0\u7684\u67e5\u627e\u7b97\u6cd5\uff0c\u9700\u8981\u4fee\u6539\u5c01\u88c5\u7b97\u6cd5\u7c7b\u7684\u6e90\u4ee3\u7801\uff1b\u66f4\u6362\u67e5\u627e\u7b97\u6cd5\uff0c\u4e5f\u9700\u8981\u4fee\u6539\u5ba2\u6237\u7aef\u8c03\u7528\u4ee3\u7801\u3002\u5728\u8fd9\u4e2a\u7b97\u6cd5\u7c7b\u4e2d\u5c01\u88c5\u4e86\u5927\u91cf\u67e5\u627e\u7b97\u6cd5\uff0c\u8be5\u7c7b\u4ee3\u7801\u5c06\u8f83\u590d\u6742\uff0c\u7ef4\u62a4\u8f83\u4e3a\u56f0\u96be\u3002 \u9664\u4e86\u63d0\u4f9b\u4e13\u95e8\u7684\u67e5\u627e\u7b97\u6cd5\u7c7b\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e2d\u76f4\u63a5\u5305\u542b\u7b97\u6cd5\u4ee3\u7801\uff0c\u8fd9\u79cd\u505a\u6cd5\u66f4\u4e0d\u53ef\u53d6\uff0c\u5c06\u5bfc\u81f4\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5e9e\u5927\u800c\u4e14\u96be\u4ee5\u7ef4\u62a4\uff0c\u5982\u679c\u5b58\u5728\u5927\u91cf\u53ef\u4f9b\u9009\u62e9\u7684\u7b97\u6cd5\u65f6\u95ee\u9898\u5c06\u53d8\u5f97\u66f4\u52a0\u4e25\u91cd\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u53ef\u4ee5**\u5b9a\u4e49\u4e00\u4e9b\u72ec\u7acb\u7684\u7c7b\u6765\u5c01\u88c5\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u6bcf\u4e00\u4e2a\u7c7b\u5c01\u88c5\u4e00\u4e2a\u5177\u4f53\u7684\u7b97\u6cd5\uff0c\u5728\u8fd9\u91cc\uff0c\u6bcf\u4e00\u4e2a\u5c01\u88c5\u7b97\u6cd5\u7684\u7c7b\u6211\u4eec\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u7b56\u7565(Strategy)\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u8fd9\u4e9b\u7b56\u7565\u7684\u4e00\u81f4\u6027\uff0c\u4e00\u822c\u4f1a\u7528\u4e00\u4e2a\u62bd\u8c61\u7684\u7b56\u7565\u7c7b\u6765\u505a\u7b97\u6cd5\u7684\u5b9a\u4e49\uff0c\u800c\u5177\u4f53\u6bcf\u79cd\u7b97\u6cd5\u5219\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u5177\u4f53\u7b56\u7565\u7c7b**\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u7b56\u7565\u6a21\u5f0f(Strategy Pattern)\uff1a\u5b9a\u4e49\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u8ba9\u5b83\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\u3002\u7b56\u7565\u6a21\u5f0f\u8ba9\u7b97\u6cd5\u72ec\u7acb\u4e8e\u4f7f\u7528\u5b83\u7684\u5ba2\u6237\u800c\u53d8\u5316\uff0c\u4e5f\u79f0\u4e3a\u653f\u7b56\u6a21\u5f0f(Policy) \u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u4e09\u3001 \u6a21\u5f0f\u7ed3\u6784 \u00b6 \u7b56\u7565\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Context: \u73af\u5883\u7c7b Strategy: \u62bd\u8c61\u7b56\u7565\u7c7b ConcreteStrategy: \u5177\u4f53\u7b56\u7565\u7c7b \u7ed3\u6784\u56fe \u00b6 \u65f6\u5e8f\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u7b56\u7565\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 public interface IStrategy { /** * \u7b56\u7565\u6a21\u5f0f\u7684\u8fd0\u7b97\u6cd5\u5219 */ public void doSomething (); } \u7136\u540e\u662f\u5177\u4f53\u7684\u7b56\u7565\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 public class ConcreteStrategy1 implements IStrategy { @Override public void doSomething () { System . out . println ( \"\u5177\u4f53\u7b56\u7565\u7684\u7b56\u7565\u65b9\u6cd51\" ); } } 1 2 3 4 5 6 7 8 public class ConcreteStrategy2 implements IStrategy { @Override public void doSomething () { System . out . println ( \"\u5177\u4f53\u7b56\u7565\u7684\u7b56\u7565\u65b9\u6cd52\" ); } } \u63a5\u7740\u662f\u5c01\u88c5\u89d2\u8272\u7684\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Context { // \u62bd\u8c61\u7b56\u7565 private IStrategy strategy ; /** * \u6784\u9020\u51fd\u6570\u8bbe\u7f6e\u5177\u4f53\u7b56\u7565 * @param strategy */ public Context ( IStrategy strategy ) { this . strategy = strategy ; } /** * \u5c01\u88c5\u540e\u7684\u7b56\u7565\u65b9\u6cd5 */ public void doAnything () { this . strategy . doSomething (); } } \u6700\u540e\u662f\u5ba2\u6237\u7aef\u7684\u8c03\u7528\u7b56\u7565\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Client { public static void main ( String [] args ) { // \u58f0\u660e\u4e00\u4e2a\u5177\u4f53\u7684\u7b56\u7565 IStrategy strategy = new ConcreteStrategy1 (); // \u58f0\u660e\u4e0a\u4e0b\u6587\u5bf9\u8c61 Context context = new Context ( strategy ); // \u6267\u884c\u5c01\u88c5\u540e\u7684\u65b9\u6cd5 context . doAnything (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u603b\u4f53\u5206\u6790 \u00b6 \u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u4e2a\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\u548c\u4f7f\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7b56\u7565\u6a21\u5f0f\u662f\u5bf9\u7b97\u6cd5\u7684\u5c01\u88c5\uff0c\u5b83\u628a\u7b97\u6cd5\u7684\u8d23\u4efb\u548c\u7b97\u6cd5\u672c\u8eab\u5206\u5272\u5f00\uff0c\u59d4\u6d3e\u7ed9\u4e0d\u540c\u7684\u5bf9\u8c61\u7ba1\u7406\u3002\u7b56\u7565\u6a21\u5f0f\u901a\u5e38\u628a\u4e00\u4e2a\u7cfb\u5217\u7684\u7b97\u6cd5\u5c01\u88c5\u5230\u4e00\u7cfb\u5217\u7684\u7b56\u7565\u7c7b\u91cc\u9762\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5b50\u7c7b\u3002\u7528\u4e00\u53e5\u8bdd\u6765\u8bf4\uff0c\u5c31\u662f\u201c \u51c6\u5907\u4e00\u7ec4\u7b97\u6cd5\uff0c\u5e76\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u4f7f\u5f97\u5b83\u4eec\u53ef\u4ee5\u4e92\u6362 \u201d\u3002 \u5728\u7b56\u7565\u6a21\u5f0f\u4e2d\uff0c\u5e94\u5f53\u7531\u5ba2\u6237\u7aef\u81ea\u5df1\u51b3\u5b9a\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u4ec0\u4e48\u5177\u4f53\u7b56\u7565\u89d2\u8272\u3002 \u7b56\u7565\u6a21\u5f0f\u4ec5\u4ec5\u5c01\u88c5\u7b97\u6cd5\uff0c\u63d0\u4f9b\u65b0\u7b97\u6cd5\u63d2\u5165\u5230\u5df2\u6709\u7cfb\u7edf\u4e2d\uff0c\u4ee5\u53ca\u8001\u7b97\u6cd5\u4ece\u7cfb\u7edf\u4e2d\u201c\u9000\u4f11\u201d\u7684\u65b9\u4fbf\uff0c\u7b56\u7565\u6a21\u5f0f\u5e76\u4e0d\u51b3\u5b9a\u5728\u4f55\u65f6\u4f7f\u7528\u4f55\u79cd\u7b97\u6cd5\uff0c\u7b97\u6cd5\u7684\u9009\u62e9\u7531\u5ba2\u6237\u7aef\u6765\u51b3\u5b9a\u3002\u8fd9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u9700\u8981\u7406\u89e3\u6240\u6709\u5177\u4f53\u7b56\u7565\u7c7b\u4e4b\u95f4\u7684\u533a\u522b\uff0c\u4ee5\u4fbf\u9009\u62e9\u5408\u9002\u7684\u7b97\u6cd5\uff0c\u8fd9\u4e5f\u662f\u7b56\u7565\u6a21\u5f0f\u7684\u7f3a\u70b9\u4e4b\u4e00\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u5ba2\u6237\u7aef\u7684\u4f7f\u7528\u96be\u5ea6\u3002 \u4f18\u70b9 \u00b6 \u7b56\u7565\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u5b8c\u7f8e\u652f\u6301\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u7684\u57fa- \u7840\u4e0a\u9009\u62e9\u7b97\u6cd5\u6216\u884c\u4e3a\uff0c\u4e5f\u53ef\u4ee5\u7075\u6d3b\u5730\u589e\u52a0\u65b0\u7684\u7b97\u6cd5\u6216\u884c\u4e3a\u3002 \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u7ba1\u7406\u76f8\u5173\u7684\u7b97\u6cd5\u65cf\u7684\u529e\u6cd5\u3002 \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u53ef\u4ee5\u66ff\u6362\u7ee7\u627f\u5173\u7cfb\u7684\u529e\u6cd5\u3002 \u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u907f\u514d\u4f7f\u7528\u591a\u91cd\u6761\u4ef6\u8f6c\u79fb\u8bed\u53e5\u3002 \u7f3a\u70b9 \u00b6 \u7b56\u7565\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5ba2\u6237\u7aef\u5fc5\u987b\u77e5\u9053\u6240\u6709\u7684\u7b56\u7565\u7c7b\uff0c\u5e76\u81ea\u884c\u51b3\u5b9a\u4f7f\u7528\u54ea\u4e00\u4e2a\u7b56\u7565\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u5c06\u9020\u6210\u4ea7\u751f\u5f88\u591a\u7b56\u7565\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u4eab\u5143\u6a21\u5f0f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u51cf\u5c11\u5bf9\u8c61\u7684\u6570\u91cf\u3002 \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\uff1a \u5982\u679c\u5728\u4e00\u4e2a\u7cfb\u7edf\u91cc\u9762\u6709\u8bb8\u591a\u7c7b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u5b83\u4eec\u7684\u884c\u4e3a\uff0c\u90a3\u4e48\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u52a8\u6001\u5730\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u5728\u8bb8\u591a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u79cd\u884c\u4e3a\u3002 \u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u52a8\u6001\u5730\u5728\u51e0\u79cd\u7b97\u6cd5\u4e2d\u9009\u62e9\u4e00\u79cd\u3002 \u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u6709\u5f88\u591a\u7684\u884c\u4e3a\uff0c\u5982\u679c\u4e0d\u7528\u6070\u5f53\u7684\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u884c\u4e3a\u5c31\u53ea\u597d\u4f7f\u7528\u591a\u91cd\u7684\u6761\u4ef6\u9009\u62e9\u8bed\u53e5\u6765\u5b9e\u73b0\u3002 \u4e0d\u5e0c\u671b\u5ba2\u6237\u7aef\u77e5\u9053\u590d\u6742\u7684\u3001\u4e0e\u7b97\u6cd5\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5728\u5177\u4f53\u7b56\u7565\u7c7b\u4e2d\u5c01\u88c5\u7b97\u6cd5\u548c\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\uff0c\u63d0\u9ad8\u7b97\u6cd5\u7684\u4fdd\u5bc6\u6027\u4e0e\u5b89\u5168\u6027\u3002 \u6a21\u5f0f\u6269\u5c55 \u00b6 \u7b56\u7565\u6a21\u5f0f\u4e0e\u72b6\u6001\u6a21\u5f0f\uff1a \u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u7c7b\u72b6\u6001\u7684\u4e2a\u6570\u6765\u51b3\u5b9a\u662f\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u8fd8\u662f\u72b6\u6001\u6a21\u5f0f\u3002 \u7b56\u7565\u6a21\u5f0f\u7684\u73af\u5883\u7c7b\u81ea\u5df1\u9009\u62e9\u4e00\u4e2a\u5177\u4f53\u7b56\u7565\u7c7b\uff0c\u5177\u4f53\u7b56\u7565\u7c7b\u65e0\u987b\u5173\u5fc3\u73af\u5883\u7c7b\uff1b\u800c\u72b6\u6001\u6a21\u5f0f\u7684\u73af\u5883\u7c7b\u7531\u4e8e\u5916\u5728\u56e0\u7d20\u9700\u8981\u653e\u8fdb\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u4e2d\uff0c\u4ee5\u4fbf\u901a\u8fc7\u5176\u65b9\u6cd5\u5b9e\u73b0\u72b6\u6001\u7684\u5207\u6362\uff0c\u56e0\u6b64\u73af\u5883\u7c7b\u548c\u72b6\u6001\u7c7b\u4e4b\u95f4\u5b58\u5728\u4e00\u79cd\u53cc\u5411\u7684\u5173\u8054\u5173\u7cfb\u3002 \u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u65f6\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u77e5\u9053\u6240\u9009\u7684\u5177\u4f53\u7b56\u7565\u662f\u54ea\u4e00\u4e2a\uff0c\u800c\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u65f6\uff0c\u5ba2\u6237\u7aef\u65e0\u987b\u5173\u5fc3\u5177\u4f53\u72b6\u6001\uff0c\u73af\u5883\u7c7b\u7684\u72b6\u6001\u4f1a\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\u81ea\u52a8\u8f6c\u6362\u3002 \u5982\u679c\u7cfb\u7edf\u4e2d\u67d0\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5b58\u5728\u591a\u79cd\u72b6\u6001\uff0c\u4e0d\u540c\u72b6\u6001\u4e0b\u884c\u4e3a\u6709\u5dee\u5f02\uff0c\u800c\u4e14\u8fd9\u4e9b\u72b6\u6001\u4e4b\u95f4\u53ef\u4ee5\u53d1\u751f\u8f6c\u6362\u65f6\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\uff1b\u5982\u679c\u7cfb\u7edf\u4e2d\u67d0\u4e2a\u7c7b\u7684\u67d0\u4e00\u884c\u4e3a\u5b58\u5728\u591a\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u800c\u4e14\u8fd9\u4e9b\u5b9e\u73b0\u65b9\u5f0f\u53ef\u4ee5\u4e92\u6362\u65f6\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u3002 \u516d\u3001\u603b\u7ed3 \u00b6 \u5728\u7b56\u7565\u6a21\u5f0f\u4e2d\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u8ba9\u5b83\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\u3002\u7b56\u7565\u6a21\u5f0f\u8ba9\u7b97\u6cd5\u72ec\u7acb\u4e8e\u4f7f\u7528\u5b83\u7684\u5ba2\u6237\u800c\u53d8\u5316\uff0c\u4e5f\u79f0\u4e3a\u653f\u7b56\u6a21\u5f0f\u3002\u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u7b56\u7565\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u73af\u5883\u7c7b\u5728\u89e3\u51b3\u67d0\u4e2a\u95ee\u9898\u65f6\u53ef\u4ee5\u91c7\u7528\u591a\u79cd\u7b56\u7565\uff0c\u5728\u73af\u5883\u7c7b\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u5bf9\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5f15\u7528\u5b9e\u4f8b\uff1b\u62bd\u8c61\u7b56\u7565\u7c7b\u4e3a\u6240\u652f\u6301\u7684\u7b97\u6cd5\u58f0\u660e\u4e86\u62bd\u8c61\u65b9\u6cd5\uff0c\u662f\u6240\u6709\u7b56\u7565\u7c7b\u7684\u7236\u7c7b\uff1b\u5177\u4f53\u7b56\u7565\u7c7b\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u7b56\u7565\u7c7b\u4e2d\u5b9a\u4e49\u7684\u7b97\u6cd5\u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u5bf9\u7b97\u6cd5\u7684\u5c01\u88c5\uff0c\u5b83\u628a\u7b97\u6cd5\u7684\u8d23\u4efb\u548c\u7b97\u6cd5\u672c\u8eab\u5206\u5272\u5f00\uff0c\u59d4\u6d3e\u7ed9\u4e0d\u540c\u7684\u5bf9\u8c61\u7ba1\u7406\u3002\u7b56\u7565\u6a21\u5f0f\u901a\u5e38\u628a\u4e00\u4e2a\u7cfb\u5217\u7684\u7b97\u6cd5\u5c01\u88c5\u5230\u4e00\u7cfb\u5217\u7684\u7b56\u7565\u7c7b\u91cc\u9762\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5b50\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u5b8c\u7f8e\u652f\u6301\uff0c\u5728\u4e0d\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u7684\u57fa\u7840\u4e0a\u53ef\u4ee5\u66f4\u6362\u7b97\u6cd5\u6216\u8005\u589e\u52a0\u65b0\u7684\u7b97\u6cd5\uff0c\u5b83\u5f88\u597d\u5730\u7ba1\u7406\u7b97\u6cd5\u65cf\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u662f\u4e00\u79cd\u66ff\u6362\u7ee7\u627f\uff0c\u907f\u514d\u591a\u91cd\u6761\u4ef6\u8f6c\u79fb\u8bed\u53e5\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u5fc5\u987b\u77e5\u9053\u6240\u6709\u7684\u7b56\u7565\u7c7b\uff0c\u5e76\u7406\u89e3\u5176\u533a\u522b\uff0c\u540c\u65f6\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\uff0c\u53ef\u80fd\u4f1a\u5b58\u5728\u5f88\u591a\u7b56\u7565\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5728\u4e00\u4e2a\u7cfb\u7edf\u91cc\u9762\u6709\u8bb8\u591a\u7c7b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u5b83\u4eec\u7684\u884c\u4e3a\uff0c\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u52a8\u6001\u5730\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u5728\u8bb8\u591a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u79cd\u884c\u4e3a\uff1b\u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u52a8\u6001\u5730\u5728\u51e0\u79cd\u7b97\u6cd5\u4e2d\u9009\u62e9\u4e00\u79cd\uff1b\u907f\u514d\u4f7f\u7528\u96be\u4ee5\u7ef4\u62a4\u7684\u591a\u91cd\u6761\u4ef6\u9009\u62e9\u8bed\u53e5\uff1b\u5e0c\u671b\u5728\u5177\u4f53\u7b56\u7565\u7c7b\u4e2d\u5c01\u88c5\u7b97\u6cd5\u548c\u4e0e\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_1","text":"\u5b8c\u6210\u4e00\u9879\u4efb\u52a1\uff0c\u5f80\u5f80\u53ef\u4ee5\u6709\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\uff0c\u6bcf\u4e00\u79cd\u65b9\u5f0f\u79f0\u4e3a\u4e00\u4e2a\u7b56\u7565\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u73af\u5883\u6216\u8005\u6761\u4ef6\u7684\u4e0d\u540c\u9009\u62e9\u4e0d\u540c\u7684\u7b56\u7565\u6765\u5b8c\u6210\u8be5\u9879\u4efb\u52a1\u3002\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u4e5f\u5e38\u5e38\u9047\u5230\u7c7b\u4f3c\u7684\u60c5\u51b5\uff0c\u5b9e\u73b0\u67d0\u4e00\u4e2a\u529f\u80fd\u6709\u591a\u4e2a\u9014\u5f84\uff0c\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u6765\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u7075\u6d3b\u5730\u9009\u62e9\u89e3\u51b3\u9014\u5f84\uff0c\u4e5f\u80fd\u591f\u65b9\u4fbf\u5730\u589e\u52a0\u65b0\u7684\u89e3\u51b3\u9014\u5f84\u3002 \u5728\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6709\u8bb8\u591a\u7b97\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u67d0\u4e00\u529f\u80fd\uff0c\u5982\u67e5\u627e\u3001\u6392\u5e8f\u7b49\uff0c\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u786c\u7f16\u7801( Hard Coding )\u5728\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5982\u9700\u8981\u63d0\u4f9b\u591a\u79cd\u67e5\u627e\u7b97\u6cd5\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u7b97\u6cd5\u5199\u5230\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5728\u8be5\u7c7b\u4e2d\u63d0\u4f9b\u591a\u4e2a\u65b9\u6cd5\uff0c\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u5bf9\u5e94\u4e00\u4e2a\u5177\u4f53\u7684\u67e5\u627e\u7b97\u6cd5\uff1b\u5f53\u7136\u4e5f\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u67e5\u627e\u7b97\u6cd5\u5c01\u88c5\u5728\u4e00\u4e2a\u7edf\u4e00\u7684\u65b9\u6cd5\u4e2d\uff0c\u901a\u8fc7 if\u2026else\u2026\u7b49\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u6765\u8fdb\u884c\u9009\u62e9\u3002\u8fd9\u4e24\u79cd\u5b9e\u73b0\u65b9\u6cd5\u6211\u4eec\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u786c\u7f16\u7801\uff0c\u5982\u679c\u9700\u8981\u589e\u52a0\u4e00\u79cd\u65b0\u7684\u67e5\u627e\u7b97\u6cd5\uff0c\u9700\u8981\u4fee\u6539\u5c01\u88c5\u7b97\u6cd5\u7c7b\u7684\u6e90\u4ee3\u7801\uff1b\u66f4\u6362\u67e5\u627e\u7b97\u6cd5\uff0c\u4e5f\u9700\u8981\u4fee\u6539\u5ba2\u6237\u7aef\u8c03\u7528\u4ee3\u7801\u3002\u5728\u8fd9\u4e2a\u7b97\u6cd5\u7c7b\u4e2d\u5c01\u88c5\u4e86\u5927\u91cf\u67e5\u627e\u7b97\u6cd5\uff0c\u8be5\u7c7b\u4ee3\u7801\u5c06\u8f83\u590d\u6742\uff0c\u7ef4\u62a4\u8f83\u4e3a\u56f0\u96be\u3002 \u9664\u4e86\u63d0\u4f9b\u4e13\u95e8\u7684\u67e5\u627e\u7b97\u6cd5\u7c7b\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e2d\u76f4\u63a5\u5305\u542b\u7b97\u6cd5\u4ee3\u7801\uff0c\u8fd9\u79cd\u505a\u6cd5\u66f4\u4e0d\u53ef\u53d6\uff0c\u5c06\u5bfc\u81f4\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5e9e\u5927\u800c\u4e14\u96be\u4ee5\u7ef4\u62a4\uff0c\u5982\u679c\u5b58\u5728\u5927\u91cf\u53ef\u4f9b\u9009\u62e9\u7684\u7b97\u6cd5\u65f6\u95ee\u9898\u5c06\u53d8\u5f97\u66f4\u52a0\u4e25\u91cd\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u53ef\u4ee5**\u5b9a\u4e49\u4e00\u4e9b\u72ec\u7acb\u7684\u7c7b\u6765\u5c01\u88c5\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u6bcf\u4e00\u4e2a\u7c7b\u5c01\u88c5\u4e00\u4e2a\u5177\u4f53\u7684\u7b97\u6cd5\uff0c\u5728\u8fd9\u91cc\uff0c\u6bcf\u4e00\u4e2a\u5c01\u88c5\u7b97\u6cd5\u7684\u7c7b\u6211\u4eec\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u7b56\u7565(Strategy)\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u8fd9\u4e9b\u7b56\u7565\u7684\u4e00\u81f4\u6027\uff0c\u4e00\u822c\u4f1a\u7528\u4e00\u4e2a\u62bd\u8c61\u7684\u7b56\u7565\u7c7b\u6765\u505a\u7b97\u6cd5\u7684\u5b9a\u4e49\uff0c\u800c\u5177\u4f53\u6bcf\u79cd\u7b97\u6cd5\u5219\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u5177\u4f53\u7b56\u7565\u7c7b**\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_2","text":"\u7b56\u7565\u6a21\u5f0f(Strategy Pattern)\uff1a\u5b9a\u4e49\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u8ba9\u5b83\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\u3002\u7b56\u7565\u6a21\u5f0f\u8ba9\u7b97\u6cd5\u72ec\u7acb\u4e8e\u4f7f\u7528\u5b83\u7684\u5ba2\u6237\u800c\u53d8\u5316\uff0c\u4e5f\u79f0\u4e3a\u653f\u7b56\u6a21\u5f0f(Policy) \u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_3","text":"\u7b56\u7565\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Context: \u73af\u5883\u7c7b Strategy: \u62bd\u8c61\u7b56\u7565\u7c7b ConcreteStrategy: \u5177\u4f53\u7b56\u7565\u7c7b","title":"\u4e09\u3001 \u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_4","text":"","title":"\u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_5","text":"","title":"\u65f6\u5e8f\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_6","text":"\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u7b56\u7565\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 public interface IStrategy { /** * \u7b56\u7565\u6a21\u5f0f\u7684\u8fd0\u7b97\u6cd5\u5219 */ public void doSomething (); } \u7136\u540e\u662f\u5177\u4f53\u7684\u7b56\u7565\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 public class ConcreteStrategy1 implements IStrategy { @Override public void doSomething () { System . out . println ( \"\u5177\u4f53\u7b56\u7565\u7684\u7b56\u7565\u65b9\u6cd51\" ); } } 1 2 3 4 5 6 7 8 public class ConcreteStrategy2 implements IStrategy { @Override public void doSomething () { System . out . println ( \"\u5177\u4f53\u7b56\u7565\u7684\u7b56\u7565\u65b9\u6cd52\" ); } } \u63a5\u7740\u662f\u5c01\u88c5\u89d2\u8272\u7684\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Context { // \u62bd\u8c61\u7b56\u7565 private IStrategy strategy ; /** * \u6784\u9020\u51fd\u6570\u8bbe\u7f6e\u5177\u4f53\u7b56\u7565 * @param strategy */ public Context ( IStrategy strategy ) { this . strategy = strategy ; } /** * \u5c01\u88c5\u540e\u7684\u7b56\u7565\u65b9\u6cd5 */ public void doAnything () { this . strategy . doSomething (); } } \u6700\u540e\u662f\u5ba2\u6237\u7aef\u7684\u8c03\u7528\u7b56\u7565\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Client { public static void main ( String [] args ) { // \u58f0\u660e\u4e00\u4e2a\u5177\u4f53\u7684\u7b56\u7565 IStrategy strategy = new ConcreteStrategy1 (); // \u58f0\u660e\u4e0a\u4e0b\u6587\u5bf9\u8c61 Context context = new Context ( strategy ); // \u6267\u884c\u5c01\u88c5\u540e\u7684\u65b9\u6cd5 context . doAnything (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_7","text":"","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_8","text":"\u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u4e2a\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\u548c\u4f7f\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7b56\u7565\u6a21\u5f0f\u662f\u5bf9\u7b97\u6cd5\u7684\u5c01\u88c5\uff0c\u5b83\u628a\u7b97\u6cd5\u7684\u8d23\u4efb\u548c\u7b97\u6cd5\u672c\u8eab\u5206\u5272\u5f00\uff0c\u59d4\u6d3e\u7ed9\u4e0d\u540c\u7684\u5bf9\u8c61\u7ba1\u7406\u3002\u7b56\u7565\u6a21\u5f0f\u901a\u5e38\u628a\u4e00\u4e2a\u7cfb\u5217\u7684\u7b97\u6cd5\u5c01\u88c5\u5230\u4e00\u7cfb\u5217\u7684\u7b56\u7565\u7c7b\u91cc\u9762\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5b50\u7c7b\u3002\u7528\u4e00\u53e5\u8bdd\u6765\u8bf4\uff0c\u5c31\u662f\u201c \u51c6\u5907\u4e00\u7ec4\u7b97\u6cd5\uff0c\u5e76\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u4f7f\u5f97\u5b83\u4eec\u53ef\u4ee5\u4e92\u6362 \u201d\u3002 \u5728\u7b56\u7565\u6a21\u5f0f\u4e2d\uff0c\u5e94\u5f53\u7531\u5ba2\u6237\u7aef\u81ea\u5df1\u51b3\u5b9a\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f7f\u7528\u4ec0\u4e48\u5177\u4f53\u7b56\u7565\u89d2\u8272\u3002 \u7b56\u7565\u6a21\u5f0f\u4ec5\u4ec5\u5c01\u88c5\u7b97\u6cd5\uff0c\u63d0\u4f9b\u65b0\u7b97\u6cd5\u63d2\u5165\u5230\u5df2\u6709\u7cfb\u7edf\u4e2d\uff0c\u4ee5\u53ca\u8001\u7b97\u6cd5\u4ece\u7cfb\u7edf\u4e2d\u201c\u9000\u4f11\u201d\u7684\u65b9\u4fbf\uff0c\u7b56\u7565\u6a21\u5f0f\u5e76\u4e0d\u51b3\u5b9a\u5728\u4f55\u65f6\u4f7f\u7528\u4f55\u79cd\u7b97\u6cd5\uff0c\u7b97\u6cd5\u7684\u9009\u62e9\u7531\u5ba2\u6237\u7aef\u6765\u51b3\u5b9a\u3002\u8fd9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u9700\u8981\u7406\u89e3\u6240\u6709\u5177\u4f53\u7b56\u7565\u7c7b\u4e4b\u95f4\u7684\u533a\u522b\uff0c\u4ee5\u4fbf\u9009\u62e9\u5408\u9002\u7684\u7b97\u6cd5\uff0c\u8fd9\u4e5f\u662f\u7b56\u7565\u6a21\u5f0f\u7684\u7f3a\u70b9\u4e4b\u4e00\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u5ba2\u6237\u7aef\u7684\u4f7f\u7528\u96be\u5ea6\u3002","title":"\u603b\u4f53\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_9","text":"\u7b56\u7565\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u5b8c\u7f8e\u652f\u6301\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u7684\u57fa- \u7840\u4e0a\u9009\u62e9\u7b97\u6cd5\u6216\u884c\u4e3a\uff0c\u4e5f\u53ef\u4ee5\u7075\u6d3b\u5730\u589e\u52a0\u65b0\u7684\u7b97\u6cd5\u6216\u884c\u4e3a\u3002 \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u7ba1\u7406\u76f8\u5173\u7684\u7b97\u6cd5\u65cf\u7684\u529e\u6cd5\u3002 \u7b56\u7565\u6a21\u5f0f\u63d0\u4f9b\u4e86\u53ef\u4ee5\u66ff\u6362\u7ee7\u627f\u5173\u7cfb\u7684\u529e\u6cd5\u3002 \u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u907f\u514d\u4f7f\u7528\u591a\u91cd\u6761\u4ef6\u8f6c\u79fb\u8bed\u53e5\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_10","text":"\u7b56\u7565\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5ba2\u6237\u7aef\u5fc5\u987b\u77e5\u9053\u6240\u6709\u7684\u7b56\u7565\u7c7b\uff0c\u5e76\u81ea\u884c\u51b3\u5b9a\u4f7f\u7528\u54ea\u4e00\u4e2a\u7b56\u7565\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u5c06\u9020\u6210\u4ea7\u751f\u5f88\u591a\u7b56\u7565\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u4eab\u5143\u6a21\u5f0f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u51cf\u5c11\u5bf9\u8c61\u7684\u6570\u91cf\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_11","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\uff1a \u5982\u679c\u5728\u4e00\u4e2a\u7cfb\u7edf\u91cc\u9762\u6709\u8bb8\u591a\u7c7b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u5b83\u4eec\u7684\u884c\u4e3a\uff0c\u90a3\u4e48\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u52a8\u6001\u5730\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u5728\u8bb8\u591a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u79cd\u884c\u4e3a\u3002 \u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u52a8\u6001\u5730\u5728\u51e0\u79cd\u7b97\u6cd5\u4e2d\u9009\u62e9\u4e00\u79cd\u3002 \u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u6709\u5f88\u591a\u7684\u884c\u4e3a\uff0c\u5982\u679c\u4e0d\u7528\u6070\u5f53\u7684\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u884c\u4e3a\u5c31\u53ea\u597d\u4f7f\u7528\u591a\u91cd\u7684\u6761\u4ef6\u9009\u62e9\u8bed\u53e5\u6765\u5b9e\u73b0\u3002 \u4e0d\u5e0c\u671b\u5ba2\u6237\u7aef\u77e5\u9053\u590d\u6742\u7684\u3001\u4e0e\u7b97\u6cd5\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5728\u5177\u4f53\u7b56\u7565\u7c7b\u4e2d\u5c01\u88c5\u7b97\u6cd5\u548c\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\uff0c\u63d0\u9ad8\u7b97\u6cd5\u7684\u4fdd\u5bc6\u6027\u4e0e\u5b89\u5168\u6027\u3002","title":"\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_12","text":"\u7b56\u7565\u6a21\u5f0f\u4e0e\u72b6\u6001\u6a21\u5f0f\uff1a \u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u7c7b\u72b6\u6001\u7684\u4e2a\u6570\u6765\u51b3\u5b9a\u662f\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u8fd8\u662f\u72b6\u6001\u6a21\u5f0f\u3002 \u7b56\u7565\u6a21\u5f0f\u7684\u73af\u5883\u7c7b\u81ea\u5df1\u9009\u62e9\u4e00\u4e2a\u5177\u4f53\u7b56\u7565\u7c7b\uff0c\u5177\u4f53\u7b56\u7565\u7c7b\u65e0\u987b\u5173\u5fc3\u73af\u5883\u7c7b\uff1b\u800c\u72b6\u6001\u6a21\u5f0f\u7684\u73af\u5883\u7c7b\u7531\u4e8e\u5916\u5728\u56e0\u7d20\u9700\u8981\u653e\u8fdb\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u4e2d\uff0c\u4ee5\u4fbf\u901a\u8fc7\u5176\u65b9\u6cd5\u5b9e\u73b0\u72b6\u6001\u7684\u5207\u6362\uff0c\u56e0\u6b64\u73af\u5883\u7c7b\u548c\u72b6\u6001\u7c7b\u4e4b\u95f4\u5b58\u5728\u4e00\u79cd\u53cc\u5411\u7684\u5173\u8054\u5173\u7cfb\u3002 \u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u65f6\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u77e5\u9053\u6240\u9009\u7684\u5177\u4f53\u7b56\u7565\u662f\u54ea\u4e00\u4e2a\uff0c\u800c\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\u65f6\uff0c\u5ba2\u6237\u7aef\u65e0\u987b\u5173\u5fc3\u5177\u4f53\u72b6\u6001\uff0c\u73af\u5883\u7c7b\u7684\u72b6\u6001\u4f1a\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\u81ea\u52a8\u8f6c\u6362\u3002 \u5982\u679c\u7cfb\u7edf\u4e2d\u67d0\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5b58\u5728\u591a\u79cd\u72b6\u6001\uff0c\u4e0d\u540c\u72b6\u6001\u4e0b\u884c\u4e3a\u6709\u5dee\u5f02\uff0c\u800c\u4e14\u8fd9\u4e9b\u72b6\u6001\u4e4b\u95f4\u53ef\u4ee5\u53d1\u751f\u8f6c\u6362\u65f6\u4f7f\u7528\u72b6\u6001\u6a21\u5f0f\uff1b\u5982\u679c\u7cfb\u7edf\u4e2d\u67d0\u4e2a\u7c7b\u7684\u67d0\u4e00\u884c\u4e3a\u5b58\u5728\u591a\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u800c\u4e14\u8fd9\u4e9b\u5b9e\u73b0\u65b9\u5f0f\u53ef\u4ee5\u4e92\u6362\u65f6\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u3002","title":"\u6a21\u5f0f\u6269\u5c55"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u7b56\u7565\u6a21\u5f0f.html#_13","text":"\u5728\u7b56\u7565\u6a21\u5f0f\u4e2d\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e00\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u8ba9\u5b83\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\u3002\u7b56\u7565\u6a21\u5f0f\u8ba9\u7b97\u6cd5\u72ec\u7acb\u4e8e\u4f7f\u7528\u5b83\u7684\u5ba2\u6237\u800c\u53d8\u5316\uff0c\u4e5f\u79f0\u4e3a\u653f\u7b56\u6a21\u5f0f\u3002\u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u7b56\u7565\u6a21\u5f0f\u5305\u542b\u4e09\u4e2a\u89d2\u8272\uff1a\u73af\u5883\u7c7b\u5728\u89e3\u51b3\u67d0\u4e2a\u95ee\u9898\u65f6\u53ef\u4ee5\u91c7\u7528\u591a\u79cd\u7b56\u7565\uff0c\u5728\u73af\u5883\u7c7b\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u5bf9\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5f15\u7528\u5b9e\u4f8b\uff1b\u62bd\u8c61\u7b56\u7565\u7c7b\u4e3a\u6240\u652f\u6301\u7684\u7b97\u6cd5\u58f0\u660e\u4e86\u62bd\u8c61\u65b9\u6cd5\uff0c\u662f\u6240\u6709\u7b56\u7565\u7c7b\u7684\u7236\u7c7b\uff1b\u5177\u4f53\u7b56\u7565\u7c7b\u5b9e\u73b0\u4e86\u5728\u62bd\u8c61\u7b56\u7565\u7c7b\u4e2d\u5b9a\u4e49\u7684\u7b97\u6cd5\u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u5bf9\u7b97\u6cd5\u7684\u5c01\u88c5\uff0c\u5b83\u628a\u7b97\u6cd5\u7684\u8d23\u4efb\u548c\u7b97\u6cd5\u672c\u8eab\u5206\u5272\u5f00\uff0c\u59d4\u6d3e\u7ed9\u4e0d\u540c\u7684\u5bf9\u8c61\u7ba1\u7406\u3002\u7b56\u7565\u6a21\u5f0f\u901a\u5e38\u628a\u4e00\u4e2a\u7cfb\u5217\u7684\u7b97\u6cd5\u5c01\u88c5\u5230\u4e00\u7cfb\u5217\u7684\u7b56\u7565\u7c7b\u91cc\u9762\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u62bd\u8c61\u7b56\u7565\u7c7b\u7684\u5b50\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u5bf9\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u5b8c\u7f8e\u652f\u6301\uff0c\u5728\u4e0d\u4fee\u6539\u539f\u6709\u7cfb\u7edf\u7684\u57fa\u7840\u4e0a\u53ef\u4ee5\u66f4\u6362\u7b97\u6cd5\u6216\u8005\u589e\u52a0\u65b0\u7684\u7b97\u6cd5\uff0c\u5b83\u5f88\u597d\u5730\u7ba1\u7406\u7b97\u6cd5\u65cf\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u662f\u4e00\u79cd\u66ff\u6362\u7ee7\u627f\uff0c\u907f\u514d\u591a\u91cd\u6761\u4ef6\u8f6c\u79fb\u8bed\u53e5\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1b\u5176\u7f3a\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u5fc5\u987b\u77e5\u9053\u6240\u6709\u7684\u7b56\u7565\u7c7b\uff0c\u5e76\u7406\u89e3\u5176\u533a\u522b\uff0c\u540c\u65f6\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\uff0c\u53ef\u80fd\u4f1a\u5b58\u5728\u5f88\u591a\u7b56\u7565\u7c7b\u3002 \u7b56\u7565\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5728\u4e00\u4e2a\u7cfb\u7edf\u91cc\u9762\u6709\u8bb8\u591a\u7c7b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u5b83\u4eec\u7684\u884c\u4e3a\uff0c\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u52a8\u6001\u5730\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u5728\u8bb8\u591a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u79cd\u884c\u4e3a\uff1b\u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u52a8\u6001\u5730\u5728\u51e0\u79cd\u7b97\u6cd5\u4e2d\u9009\u62e9\u4e00\u79cd\uff1b\u907f\u514d\u4f7f\u7528\u96be\u4ee5\u7ef4\u62a4\u7684\u591a\u91cd\u6761\u4ef6\u9009\u62e9\u8bed\u53e5\uff1b\u5e0c\u671b\u5728\u5177\u4f53\u7b56\u7565\u7c7b\u4e2d\u5c01\u88c5\u7b97\u6cd5\u548c\u4e0e\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002","title":"\u516d\u3001\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u7ed9\u4e00\u4e2a\u7c7b\u6216\u5bf9\u8c61\u589e\u52a0\u884c\u4e3a\uff1a \u7ee7\u627f\u673a\u5236 \uff0c\u4f7f\u7528\u7ee7\u627f\u673a\u5236\u662f\u7ed9\u73b0\u6709\u7c7b\u6dfb\u52a0\u529f\u80fd\u7684\u4e00\u79cd\u6709\u6548\u9014\u5f84\uff0c\u901a\u8fc7\u7ee7\u627f\u4e00\u4e2a\u73b0\u6709\u7c7b\u53ef\u4ee5\u4f7f\u5f97\u5b50\u7c7b\u5728\u62e5\u6709\u81ea\u8eab\u65b9\u6cd5\u7684\u540c\u65f6\u8fd8\u62e5\u6709\u7236\u7c7b\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u662f\u9759\u6001\u7684\uff0c\u7528\u6237\u4e0d\u80fd\u63a7\u5236\u589e\u52a0\u884c\u4e3a\u7684\u65b9\u5f0f\u548c\u65f6\u673a\u3002 \u5173\u8054\u673a\u5236 \uff0c\u5373\u5c06\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5d4c\u5165\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u7531\u53e6\u4e00\u4e2a\u5bf9\u8c61\u6765\u51b3\u5b9a\u662f\u5426\u8c03\u7528\u5d4c\u5165\u5bf9\u8c61\u7684\u884c\u4e3a\u4ee5\u4fbf\u6269\u5c55\u81ea\u5df1\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u5d4c\u5165\u7684\u5bf9\u8c61\u4e3a\u88c5\u9970\u5668(Decorator) \u88c5\u9970\u6a21\u5f0f\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u4e0a\u66f4\u591a\u7684\u8d23\u4efb \uff0c\u6362\u8a00\u4e4b\uff0c\u5ba2\u6237\u7aef\u5e76\u4e0d\u4f1a\u89c9\u5f97\u5bf9\u8c61\u5728\u88c5\u9970\u524d\u548c\u88c5\u9970\u540e\u6709\u4ec0\u4e48\u4e0d\u540c\u3002 \u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55 \u3002\u8fd9\u5c31\u662f\u88c5\u9970\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u88c5\u9970\u6a21\u5f0f(Decorator Pattern) \uff1a\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23(Responsibility) \uff0c\u5c31\u589e\u52a0\u5bf9\u8c61\u529f\u80fd\u6765\u8bf4\uff0c\u88c5\u9970\u6a21\u5f0f\u6bd4\u751f\u6210\u5b50\u7c7b\u5b9e\u73b0\u66f4\u4e3a\u7075\u6d3b\u3002\u5176\u522b\u540d\u4e5f\u53ef\u4ee5\u79f0\u4e3a\u5305\u88c5\u5668(Wrapper)\uff0c\u4e0e\u9002\u914d\u5668\u6a21\u5f0f\u7684\u522b\u540d\u76f8\u540c\uff0c\u4f46\u5b83\u4eec\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u573a\u5408\u3002\u6839\u636e\u7ffb\u8bd1\u7684\u4e0d\u540c\uff0c\u88c5\u9970\u6a21\u5f0f\u4e5f\u6709\u4eba\u79f0\u4e4b\u4e3a\u201c\u6cb9\u6f06\u5de5\u6a21\u5f0f\u201d\u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u7ed3\u6784\u578b**\u6a21\u5f0f\u3002 \u4e09\u3001 \u6a21\u5f0f\u7ed3\u6784 \u00b6 \u88c5\u9970\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Component : \u62bd\u8c61\u6784\u4ef6 ConcreteComponent : \u5177\u4f53\u6784\u4ef6 Decorator : \u62bd\u8c61\u88c5\u9970\u7c7b ConcreteDecorator : \u5177\u4f53\u88c5\u9970\u7c7b \u7ed3\u6784\u56fe \u00b6 \u65f6\u5e8f\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u6784\u4ef6\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 /** * \u62bd\u8c61\u6784\u4ef6 * */ public interface Component { // \u63a5\u53e3\u65b9\u6cd5 void operate (); } \u7136\u540e\u662f\u5177\u4f53\u6784\u4ef6\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u6784\u4ef6 * */ public class ConcreteComponent implements Component { /** * \u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5 */ @Override public void operate () { System . out . println ( \"do Something...\" ); } } \u63a5\u7740\u662f\u88c5\u9970\u89d2\u8272\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u88c5\u9970\u89d2\u8272 * \u7ef4\u6301\u4e00\u4e2a\u6307\u5411Component\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5e76\u5b9a\u4e49\u4e00\u4e2a\u4e0e Component\u63a5\u53e3\u4e00\u81f4\u7684\u63a5\u53e3\u3002 * */ public class Decorator implements Component { private Component component ; /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public Decorator ( Component component ) { this . component = component ; } /** * \u59d4\u6258\u7ed9\u88ab\u4fee\u9970\u8005\u6267\u884c */ @Override public void operate () { this . component . operate (); } } \u4e0b\u9762\u662f\u5177\u4f53\u7684\u88c5\u9970\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 /** * \u5177\u4f53\u7684\u88c5\u9970\u7c7b1 * */ public class ConcreteDecorator1 extends Decorator { /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public ConcreteDecorator1 ( Component component ) { super ( component ); } /** * \u5b9a\u4e49\u81ea\u5df1\u7684\u4fee\u9970\u65b9\u6cd51 */ private void method1 () { System . out . println ( \"method1\u4fee\u9970...\" ); } /** * \u91cd\u5199\u7236\u7c7b\u7684operate\u65b9\u6cd5 */ public void operate () { this . method1 (); super . operate (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 /** * \u5177\u4f53\u7684\u88c5\u9970\u7c7b2 * */ public class ConcreteDecorator2 extends Decorator { /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public ConcreteDecorator2 ( Component component ) { super ( component ); } /** * \u5b9a\u4e49\u81ea\u5df1\u7684\u4fee\u9970\u65b9\u6cd52 */ private void method2 () { System . out . println ( \"method2\u4fee\u9970...\" ); } /** * \u91cd\u5199\u7236\u7c7b\u7684operate\u65b9\u6cd5 */ public void operate () { this . method2 (); super . operate (); } } \u6700\u540e\u662f\u5ba2\u6237\u7aef\u7684\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /** * \u88c5\u9970\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class Client { public static void main ( String [] args ) { Component component = new ConcreteComponent (); // \u7b2c\u4e00\u4fee\u9970 component = new ConcreteDecorator1 ( component ); // \u7b2c\u4e8c\u4fee\u9970 component = new ConcreteDecorator2 ( component ); // \u4fee\u9970\u540e\u8fd0\u884c component . operate (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u603b\u4f53\u5206\u6790 \u00b6 \u4e0e\u7ee7\u627f\u5173\u7cfb\u76f8\u6bd4\uff0c\u5173\u8054\u5173\u7cfb\u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u4e0d\u4f1a\u7834\u574f\u7c7b\u7684\u5c01\u88c5\u6027\uff0c\u800c\u4e14\u7ee7\u627f\u662f\u4e00\u79cd\u8026\u5408\u5ea6\u8f83\u5927\u7684\u9759\u6001\u5173\u7cfb\uff0c\u65e0\u6cd5\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u52a8\u6001\u6269\u5c55 \u3002\u5728\u8f6f\u4ef6\u5f00\u53d1\u9636\u6bb5\uff0c\u5173\u8054\u5173\u7cfb\u867d\u7136\u4e0d\u4f1a\u6bd4\u7ee7\u627f\u5173\u7cfb\u51cf\u5c11\u7f16\u7801\u91cf\uff0c\u4f46\u662f\u5230\u4e86\u8f6f\u4ef6\u7ef4\u62a4\u9636\u6bb5\uff0c\u7531\u4e8e\u5173\u8054\u5173\u7cfb\u4f7f\u7cfb\u7edf\u5177\u6709\u8f83\u597d\u7684\u677e\u8026\u5408\u6027\uff0c\u56e0\u6b64\u4f7f\u5f97\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u7ef4\u62a4\u3002\u5f53\u7136\uff0c \u5173\u8054\u5173\u7cfb\u7684\u7f3a\u70b9\u662f\u6bd4\u7ee7\u627f\u5173\u7cfb\u8981\u521b\u5efa\u66f4\u591a\u7684\u5bf9\u8c61 \u3002 \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u6765\u5b9e\u73b0\u6269\u5c55\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\uff0c\u5b83\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u66f4\u591a\u7684\u8d23\u4efb \u3002\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55\u3002 \u4f18\u70b9 \u00b6 \u88c5\u9970\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u88c5\u9970\u6a21\u5f0f\u4e0e\u7ee7\u627f\u5173\u7cfb\u7684\u76ee\u7684\u90fd\u662f\u8981\u6269\u5c55\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u4f46\u662f\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u63d0\u4f9b\u6bd4\u7ee7\u627f\u66f4\u591a\u7684\u7075\u6d3b\u6027\u3002 \u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u52a8\u6001\u7684\u65b9\u5f0f\u6765\u6269\u5c55\u4e00\u4e2a\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u9009\u62e9\u4e0d\u540c\u7684\u88c5\u9970\u5668\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u901a\u8fc7\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u88c5\u9970\u7c7b\u4ee5\u53ca\u8fd9\u4e9b\u88c5\u9970\u7c7b\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ef\u4ee5\u521b\u9020\u51fa\u5f88\u591a\u4e0d\u540c\u884c\u4e3a\u7684\u7ec4\u5408\u3002\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u5177\u4f53\u88c5\u9970\u7c7b\u6765\u88c5\u9970\u540c\u4e00\u5bf9\u8c61\uff0c\u5f97\u5230\u529f\u80fd\u66f4\u4e3a\u5f3a\u5927\u7684\u5bf9\u8c61\u3002 \u5177\u4f53\u6784\u4ef6\u7c7b\u4e0e\u5177\u4f53\u88c5\u9970\u7c7b\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u65b0\u7684\u5177\u4f53\u6784\u4ef6\u7c7b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\uff0c\u5728\u4f7f\u7528\u65f6\u518d\u5bf9\u5176\u8fdb\u884c\u7ec4\u5408\uff0c\u539f\u6709\u4ee3\u7801\u65e0\u987b\u6539\u53d8\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 \u7f3a\u70b9 \u00b6 \u88c5\u9970\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u8fdb\u884c\u7cfb\u7edf\u8bbe\u8ba1\u65f6\u5c06\u4ea7\u751f\u5f88\u591a\u5c0f\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u4e4b\u95f4\u76f8\u4e92\u8fde\u63a5\u7684\u65b9\u5f0f\u6709\u6240\u4e0d\u540c\uff0c\u800c\u4e0d\u662f\u5b83\u4eec\u7684\u7c7b\u6216\u8005\u5c5e\u6027\u503c\u6709\u6240\u4e0d\u540c\uff0c\u540c\u65f6\u8fd8\u5c06\u4ea7\u751f\u5f88\u591a\u5177\u4f53\u88c5\u9970\u7c7b\u3002\u8fd9\u4e9b\u88c5\u9970\u7c7b\u548c\u5c0f\u5bf9\u8c61\u7684\u4ea7\u751f\u5c06\u589e\u52a0\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u52a0\u5927\u5b66\u4e60\u4e0e\u7406\u89e3\u7684\u96be\u5ea6\u3002 \u8fd9\u79cd\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\u673a\u52a8\u7684\u7279\u6027\uff0c\u4e5f\u540c\u65f6\u610f\u5473\u7740\u88c5\u9970\u6a21\u5f0f\u6bd4\u7ee7\u627f\u66f4\u52a0\u6613\u4e8e\u51fa\u9519\uff0c\u6392\u9519\u4e5f\u5f88\u56f0\u96be\uff0c\u5bf9\u4e8e\u591a\u6b21\u88c5\u9970\u7684\u5bf9\u8c61\uff0c\u8c03\u8bd5\u65f6\u5bfb\u627e\u9519\u8bef\u53ef\u80fd\u9700\u8981\u9010\u7ea7\u6392\u67e5\uff0c\u8f83\u4e3a\u70e6\u7410\u3002 \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\uff1a \u5728\u4e0d\u5f71\u54cd\u5176\u4ed6\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee5\u52a8\u6001\u3001\u900f\u660e\u7684\u65b9\u5f0f\u7ed9\u5355\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u804c\u8d23\u3002 \u9700\u8981\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u4e5f\u53ef\u4ee5\u52a8\u6001\u5730\u88ab\u64a4\u9500\u3002 \u5f53\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u5bf9\u7cfb\u7edf\u8fdb\u884c\u6269\u5145\u6216\u8005\u91c7\u7528\u7ee7\u627f\u4e0d\u5229\u4e8e\u7cfb\u7edf\u6269\u5c55\u548c\u7ef4\u62a4\u65f6\u3002\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u60c5\u51b5\u4e3b\u8981\u6709\u4e24\u7c7b\uff1a\u7b2c\u4e00\u7c7b\u662f\u7cfb\u7edf\u4e2d\u5b58\u5728\u5927\u91cf\u72ec\u7acb\u7684\u6269\u5c55\uff0c\u4e3a\u652f\u6301\u6bcf\u4e00\u79cd\u7ec4\u5408\u5c06\u4ea7\u751f\u5927\u91cf\u7684\u5b50\u7c7b\uff0c\u4f7f\u5f97\u5b50\u7c7b\u6570\u76ee\u5448\u7206\u70b8\u6027\u589e\u957f\uff1b\u7b2c\u4e8c\u7c7b\u662f\u56e0\u4e3a\u7c7b\u5b9a\u4e49\u4e0d\u80fd\u7ee7\u627f\uff08\u5982final\u7c7b\uff09\u3002 \u6a21\u5f0f\u6269\u5c55 \u00b6 \u88c5\u9970\u6a21\u5f0f\u7684\u7b80\u5316-\u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898: \u4e00\u4e2a\u88c5\u9970\u7c7b\u7684\u63a5\u53e3\u5fc5\u987b\u4e0e\u88ab\u88c5\u9970\u7c7b\u7684\u63a5\u53e3\u4fdd\u6301\u76f8\u540c\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\u65e0\u8bba\u662f\u88c5\u9970\u4e4b\u524d\u7684\u5bf9\u8c61\u8fd8\u662f\u88c5\u9970\u4e4b\u540e\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4e00\u81f4\u5bf9\u5f85\u3002 \u5c3d\u91cf\u4fdd\u6301\u5177\u4f53\u6784\u4ef6\u7c7bComponent\u4f5c\u4e3a\u4e00\u4e2a\u201c\u8f7b\u201d\u7c7b\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u8981\u628a\u592a\u591a\u7684\u903b\u8f91\u548c\u72b6\u6001\u653e\u5728\u5177\u4f53\u6784\u4ef6\u7c7b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u88c5\u9970\u7c7b\u3002 \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5177\u4f53\u6784\u4ef6\u7c7b\u800c\u6ca1\u6709\u62bd\u8c61\u6784\u4ef6\u7c7b\uff0c\u90a3\u4e48\u62bd\u8c61\u88c5\u9970\u7c7b\u53ef\u4ee5\u4f5c\u4e3a\u5177\u4f53\u6784\u4ef6\u7c7b\u7684\u76f4\u63a5\u5b50\u7c7b\u3002 \u516d\u3001\u603b\u7ed3 \u00b6 \u88c5\u9970\u6a21\u5f0f\u7528\u4e8e\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23\uff0c\u5c31\u589e\u52a0\u5bf9\u8c61\u529f \u80fd\u6765\u8bf4\uff0c\u88c5\u9970\u6a21\u5f0f\u6bd4\u751f\u6210\u5b50\u7c7b\u5b9e\u73b0\u66f4\u4e3a\u7075\u6d3b\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u88c5\u9970\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u6784\u4ef6\u5b9a\u4e49\u4e86\u5bf9\u8c61\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u5bf9 \u8c61\u52a8\u6001\u589e\u52a0\u804c\u8d23\uff08\u65b9\u6cd5\uff09\uff1b\u5177\u4f53\u6784\u4ef6\u5b9a\u4e49\u4e86\u5177\u4f53\u7684\u6784\u4ef6\u5bf9\u8c61\uff0c\u5b9e\u73b0\u4e86 \u5728\u62bd\u8c61\u6784\u4ef6\u4e2d\u58f0\u660e\u7684\u65b9\u6cd5\uff0c\u88c5\u9970\u5668\u53ef\u4ee5\u7ed9\u5b83\u589e\u52a0\u989d\u5916\u7684\u804c\u8d23\uff08\u65b9\u6cd5\uff09\uff1b \u62bd\u8c61\u88c5\u9970\u7c7b\u662f\u62bd\u8c61\u6784\u4ef6\u7c7b\u7684\u5b50\u7c7b\uff0c\u7528\u4e8e\u7ed9\u5177\u4f53\u6784\u4ef6\u589e\u52a0\u804c\u8d23\uff0c\u4f46\u662f\u5177 \u4f53\u804c\u8d23\u5728\u5176\u5b50\u7c7b\u4e2d\u5b9e\u73b0\uff1b\u5177\u4f53\u88c5\u9970\u7c7b\u662f\u62bd\u8c61\u88c5\u9970\u7c7b\u7684\u5b50\u7c7b\uff0c\u8d1f\u8d23\u5411\u6784 \u4ef6\u6dfb\u52a0\u65b0\u7684\u804c\u8d23\u3002 \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u6765\u5b9e\u73b0\u6269\u5c55\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\uff0c\u5b83\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8 \u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u66f4\u591a\u7684\u8d23\u4efb\u3002\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50 \u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55\u3002 \u88c5\u9970\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u63d0\u4f9b\u6bd4\u7ee7\u627f\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u52a8\u6001\u7684\u65b9\u5f0f\u6765\u6269\u5c55\u4e00\u4e2a\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u5e76\u901a\u8fc7\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u88c5\u9970\u7c7b\u4ee5\u53ca\u8fd9\u4e9b\u88c5\u9970\u7c7b\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ef\u4ee5\u521b\u9020\u51fa\u5f88\u591a\u4e0d\u540c\u884c\u4e3a\u7684\u7ec4\u5408\uff0c\u800c\u4e14\u5177\u4f53\u6784\u4ef6\u7c7b\u4e0e\u5177\u4f53\u88c5\u9970\u7c7b\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u65b0\u7684\u5177\u4f53\u6784\u4ef6\u7c7b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u8fdb\u884c\u7cfb\u7edf\u8bbe\u8ba1\u65f6\u5c06\u4ea7\u751f\u5f88\u591a\u5c0f\u5bf9\u8c61\uff0c\u800c\u4e14\u88c5\u9970\u6a21\u5f0f\u6bd4\u7ee7\u627f\u66f4\u52a0\u6613\u4e8e\u51fa\u9519\uff0c\u6392\u9519\u4e5f\u5f88\u56f0\u96be\uff0c\u5bf9\u4e8e\u591a\u6b21\u88c5\u9970\u7684\u5bf9\u8c61\uff0c\u8c03\u8bd5\u65f6\u5bfb\u627e\u9519\u8bef\u53ef\u80fd\u9700\u8981\u9010\u7ea7\u6392\u67e5\uff0c\u8f83\u4e3a\u70e6\u7410\u3002 \u88c5\u9970\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5728\u4e0d\u5f71\u54cd\u5176\u4ed6\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee5\u52a8\u6001\u3001\u900f\u660e\u7684\u65b9\u5f0f\u7ed9\u5355\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u804c\u8d23\uff1b\u9700\u8981\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u4e5f\u53ef\u4ee5\u52a8\u6001\u5730\u88ab\u64a4\u9500\uff1b\u5f53\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u5bf9\u7cfb\u7edf\u8fdb\u884c\u6269\u5145\u6216\u8005\u91c7\u7528\u7ee7\u627f\u4e0d\u5229\u4e8e\u7cfb\u7edf\u6269\u5c55 \u548c\u7ef4\u62a4\u65f6\u3002 \u88c5\u9970\u6a21\u5f0f\u53ef\u5206\u4e3a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u548c\u534a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\uff1a\u5728\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u4e2d\uff0c\u8981\u6c42\u5ba2\u6237\u7aef\u5b8c\u5168\u9488\u5bf9\u62bd\u8c61\u7f16\u7a0b\uff0c\u88c5\u9970\u6a21\u5f0f\u7684\u900f\u660e\u6027\u8981\u6c42\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e0d\u5e94\u8be5\u58f0\u660e\u5177\u4f53\u6784\u4ef6\u7c7b\u578b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\u578b\uff0c\u800c\u5e94\u8be5\u5168\u90e8\u58f0\u660e\u4e3a\u62bd\u8c61\u6784\u4ef6\u7c7b\u578b\uff1b\u534a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u5141\u8bb8\u7528\u6237\u5728\u5ba2\u6237\u7aef\u58f0\u660e\u5177\u4f53\u88c5\u9970\u8005\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u8c03\u7528\u5728\u5177\u4f53\u88c5\u9970\u8005\u4e2d\u65b0\u589e\u7684\u65b9\u6cd5\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_1","text":"\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u7ed9\u4e00\u4e2a\u7c7b\u6216\u5bf9\u8c61\u589e\u52a0\u884c\u4e3a\uff1a \u7ee7\u627f\u673a\u5236 \uff0c\u4f7f\u7528\u7ee7\u627f\u673a\u5236\u662f\u7ed9\u73b0\u6709\u7c7b\u6dfb\u52a0\u529f\u80fd\u7684\u4e00\u79cd\u6709\u6548\u9014\u5f84\uff0c\u901a\u8fc7\u7ee7\u627f\u4e00\u4e2a\u73b0\u6709\u7c7b\u53ef\u4ee5\u4f7f\u5f97\u5b50\u7c7b\u5728\u62e5\u6709\u81ea\u8eab\u65b9\u6cd5\u7684\u540c\u65f6\u8fd8\u62e5\u6709\u7236\u7c7b\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u662f\u9759\u6001\u7684\uff0c\u7528\u6237\u4e0d\u80fd\u63a7\u5236\u589e\u52a0\u884c\u4e3a\u7684\u65b9\u5f0f\u548c\u65f6\u673a\u3002 \u5173\u8054\u673a\u5236 \uff0c\u5373\u5c06\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5d4c\u5165\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u7531\u53e6\u4e00\u4e2a\u5bf9\u8c61\u6765\u51b3\u5b9a\u662f\u5426\u8c03\u7528\u5d4c\u5165\u5bf9\u8c61\u7684\u884c\u4e3a\u4ee5\u4fbf\u6269\u5c55\u81ea\u5df1\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u5d4c\u5165\u7684\u5bf9\u8c61\u4e3a\u88c5\u9970\u5668(Decorator) \u88c5\u9970\u6a21\u5f0f\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u4e0a\u66f4\u591a\u7684\u8d23\u4efb \uff0c\u6362\u8a00\u4e4b\uff0c\u5ba2\u6237\u7aef\u5e76\u4e0d\u4f1a\u89c9\u5f97\u5bf9\u8c61\u5728\u88c5\u9970\u524d\u548c\u88c5\u9970\u540e\u6709\u4ec0\u4e48\u4e0d\u540c\u3002 \u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55 \u3002\u8fd9\u5c31\u662f\u88c5\u9970\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_2","text":"\u88c5\u9970\u6a21\u5f0f(Decorator Pattern) \uff1a\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23(Responsibility) \uff0c\u5c31\u589e\u52a0\u5bf9\u8c61\u529f\u80fd\u6765\u8bf4\uff0c\u88c5\u9970\u6a21\u5f0f\u6bd4\u751f\u6210\u5b50\u7c7b\u5b9e\u73b0\u66f4\u4e3a\u7075\u6d3b\u3002\u5176\u522b\u540d\u4e5f\u53ef\u4ee5\u79f0\u4e3a\u5305\u88c5\u5668(Wrapper)\uff0c\u4e0e\u9002\u914d\u5668\u6a21\u5f0f\u7684\u522b\u540d\u76f8\u540c\uff0c\u4f46\u5b83\u4eec\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u573a\u5408\u3002\u6839\u636e\u7ffb\u8bd1\u7684\u4e0d\u540c\uff0c\u88c5\u9970\u6a21\u5f0f\u4e5f\u6709\u4eba\u79f0\u4e4b\u4e3a\u201c\u6cb9\u6f06\u5de5\u6a21\u5f0f\u201d\u3002 \u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u7ed3\u6784\u578b**\u6a21\u5f0f\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_3","text":"\u88c5\u9970\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Component : \u62bd\u8c61\u6784\u4ef6 ConcreteComponent : \u5177\u4f53\u6784\u4ef6 Decorator : \u62bd\u8c61\u88c5\u9970\u7c7b ConcreteDecorator : \u5177\u4f53\u88c5\u9970\u7c7b","title":"\u4e09\u3001 \u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_4","text":"","title":"\u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_5","text":"","title":"\u65f6\u5e8f\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_6","text":"\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u6784\u4ef6\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 /** * \u62bd\u8c61\u6784\u4ef6 * */ public interface Component { // \u63a5\u53e3\u65b9\u6cd5 void operate (); } \u7136\u540e\u662f\u5177\u4f53\u6784\u4ef6\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u6784\u4ef6 * */ public class ConcreteComponent implements Component { /** * \u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5 */ @Override public void operate () { System . out . println ( \"do Something...\" ); } } \u63a5\u7740\u662f\u88c5\u9970\u89d2\u8272\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u88c5\u9970\u89d2\u8272 * \u7ef4\u6301\u4e00\u4e2a\u6307\u5411Component\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5e76\u5b9a\u4e49\u4e00\u4e2a\u4e0e Component\u63a5\u53e3\u4e00\u81f4\u7684\u63a5\u53e3\u3002 * */ public class Decorator implements Component { private Component component ; /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public Decorator ( Component component ) { this . component = component ; } /** * \u59d4\u6258\u7ed9\u88ab\u4fee\u9970\u8005\u6267\u884c */ @Override public void operate () { this . component . operate (); } } \u4e0b\u9762\u662f\u5177\u4f53\u7684\u88c5\u9970\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 /** * \u5177\u4f53\u7684\u88c5\u9970\u7c7b1 * */ public class ConcreteDecorator1 extends Decorator { /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public ConcreteDecorator1 ( Component component ) { super ( component ); } /** * \u5b9a\u4e49\u81ea\u5df1\u7684\u4fee\u9970\u65b9\u6cd51 */ private void method1 () { System . out . println ( \"method1\u4fee\u9970...\" ); } /** * \u91cd\u5199\u7236\u7c7b\u7684operate\u65b9\u6cd5 */ public void operate () { this . method1 (); super . operate (); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 /** * \u5177\u4f53\u7684\u88c5\u9970\u7c7b2 * */ public class ConcreteDecorator2 extends Decorator { /** * \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4f20\u9012\u88ab\u4fee\u9970\u8005 * @param component */ public ConcreteDecorator2 ( Component component ) { super ( component ); } /** * \u5b9a\u4e49\u81ea\u5df1\u7684\u4fee\u9970\u65b9\u6cd52 */ private void method2 () { System . out . println ( \"method2\u4fee\u9970...\" ); } /** * \u91cd\u5199\u7236\u7c7b\u7684operate\u65b9\u6cd5 */ public void operate () { this . method2 (); super . operate (); } } \u6700\u540e\u662f\u5ba2\u6237\u7aef\u7684\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /** * \u88c5\u9970\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b * */ public class Client { public static void main ( String [] args ) { Component component = new ConcreteComponent (); // \u7b2c\u4e00\u4fee\u9970 component = new ConcreteDecorator1 ( component ); // \u7b2c\u4e8c\u4fee\u9970 component = new ConcreteDecorator2 ( component ); // \u4fee\u9970\u540e\u8fd0\u884c component . operate (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_7","text":"","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_8","text":"\u4e0e\u7ee7\u627f\u5173\u7cfb\u76f8\u6bd4\uff0c\u5173\u8054\u5173\u7cfb\u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u4e0d\u4f1a\u7834\u574f\u7c7b\u7684\u5c01\u88c5\u6027\uff0c\u800c\u4e14\u7ee7\u627f\u662f\u4e00\u79cd\u8026\u5408\u5ea6\u8f83\u5927\u7684\u9759\u6001\u5173\u7cfb\uff0c\u65e0\u6cd5\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u52a8\u6001\u6269\u5c55 \u3002\u5728\u8f6f\u4ef6\u5f00\u53d1\u9636\u6bb5\uff0c\u5173\u8054\u5173\u7cfb\u867d\u7136\u4e0d\u4f1a\u6bd4\u7ee7\u627f\u5173\u7cfb\u51cf\u5c11\u7f16\u7801\u91cf\uff0c\u4f46\u662f\u5230\u4e86\u8f6f\u4ef6\u7ef4\u62a4\u9636\u6bb5\uff0c\u7531\u4e8e\u5173\u8054\u5173\u7cfb\u4f7f\u7cfb\u7edf\u5177\u6709\u8f83\u597d\u7684\u677e\u8026\u5408\u6027\uff0c\u56e0\u6b64\u4f7f\u5f97\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613\u7ef4\u62a4\u3002\u5f53\u7136\uff0c \u5173\u8054\u5173\u7cfb\u7684\u7f3a\u70b9\u662f\u6bd4\u7ee7\u627f\u5173\u7cfb\u8981\u521b\u5efa\u66f4\u591a\u7684\u5bf9\u8c61 \u3002 \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u6765\u5b9e\u73b0\u6269\u5c55\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\uff0c\u5b83\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u66f4\u591a\u7684\u8d23\u4efb \u3002\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50\u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55\u3002","title":"\u603b\u4f53\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_9","text":"\u88c5\u9970\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u88c5\u9970\u6a21\u5f0f\u4e0e\u7ee7\u627f\u5173\u7cfb\u7684\u76ee\u7684\u90fd\u662f\u8981\u6269\u5c55\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u4f46\u662f\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u63d0\u4f9b\u6bd4\u7ee7\u627f\u66f4\u591a\u7684\u7075\u6d3b\u6027\u3002 \u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u52a8\u6001\u7684\u65b9\u5f0f\u6765\u6269\u5c55\u4e00\u4e2a\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u9009\u62e9\u4e0d\u540c\u7684\u88c5\u9970\u5668\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u7684\u884c\u4e3a\u3002 \u901a\u8fc7\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u88c5\u9970\u7c7b\u4ee5\u53ca\u8fd9\u4e9b\u88c5\u9970\u7c7b\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ef\u4ee5\u521b\u9020\u51fa\u5f88\u591a\u4e0d\u540c\u884c\u4e3a\u7684\u7ec4\u5408\u3002\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u5177\u4f53\u88c5\u9970\u7c7b\u6765\u88c5\u9970\u540c\u4e00\u5bf9\u8c61\uff0c\u5f97\u5230\u529f\u80fd\u66f4\u4e3a\u5f3a\u5927\u7684\u5bf9\u8c61\u3002 \u5177\u4f53\u6784\u4ef6\u7c7b\u4e0e\u5177\u4f53\u88c5\u9970\u7c7b\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u65b0\u7684\u5177\u4f53\u6784\u4ef6\u7c7b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\uff0c\u5728\u4f7f\u7528\u65f6\u518d\u5bf9\u5176\u8fdb\u884c\u7ec4\u5408\uff0c\u539f\u6709\u4ee3\u7801\u65e0\u987b\u6539\u53d8\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_10","text":"\u88c5\u9970\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u8fdb\u884c\u7cfb\u7edf\u8bbe\u8ba1\u65f6\u5c06\u4ea7\u751f\u5f88\u591a\u5c0f\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u4e4b\u95f4\u76f8\u4e92\u8fde\u63a5\u7684\u65b9\u5f0f\u6709\u6240\u4e0d\u540c\uff0c\u800c\u4e0d\u662f\u5b83\u4eec\u7684\u7c7b\u6216\u8005\u5c5e\u6027\u503c\u6709\u6240\u4e0d\u540c\uff0c\u540c\u65f6\u8fd8\u5c06\u4ea7\u751f\u5f88\u591a\u5177\u4f53\u88c5\u9970\u7c7b\u3002\u8fd9\u4e9b\u88c5\u9970\u7c7b\u548c\u5c0f\u5bf9\u8c61\u7684\u4ea7\u751f\u5c06\u589e\u52a0\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u52a0\u5927\u5b66\u4e60\u4e0e\u7406\u89e3\u7684\u96be\u5ea6\u3002 \u8fd9\u79cd\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\u673a\u52a8\u7684\u7279\u6027\uff0c\u4e5f\u540c\u65f6\u610f\u5473\u7740\u88c5\u9970\u6a21\u5f0f\u6bd4\u7ee7\u627f\u66f4\u52a0\u6613\u4e8e\u51fa\u9519\uff0c\u6392\u9519\u4e5f\u5f88\u56f0\u96be\uff0c\u5bf9\u4e8e\u591a\u6b21\u88c5\u9970\u7684\u5bf9\u8c61\uff0c\u8c03\u8bd5\u65f6\u5bfb\u627e\u9519\u8bef\u53ef\u80fd\u9700\u8981\u9010\u7ea7\u6392\u67e5\uff0c\u8f83\u4e3a\u70e6\u7410\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_11","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\uff1a \u5728\u4e0d\u5f71\u54cd\u5176\u4ed6\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee5\u52a8\u6001\u3001\u900f\u660e\u7684\u65b9\u5f0f\u7ed9\u5355\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u804c\u8d23\u3002 \u9700\u8981\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u4e5f\u53ef\u4ee5\u52a8\u6001\u5730\u88ab\u64a4\u9500\u3002 \u5f53\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u5bf9\u7cfb\u7edf\u8fdb\u884c\u6269\u5145\u6216\u8005\u91c7\u7528\u7ee7\u627f\u4e0d\u5229\u4e8e\u7cfb\u7edf\u6269\u5c55\u548c\u7ef4\u62a4\u65f6\u3002\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u60c5\u51b5\u4e3b\u8981\u6709\u4e24\u7c7b\uff1a\u7b2c\u4e00\u7c7b\u662f\u7cfb\u7edf\u4e2d\u5b58\u5728\u5927\u91cf\u72ec\u7acb\u7684\u6269\u5c55\uff0c\u4e3a\u652f\u6301\u6bcf\u4e00\u79cd\u7ec4\u5408\u5c06\u4ea7\u751f\u5927\u91cf\u7684\u5b50\u7c7b\uff0c\u4f7f\u5f97\u5b50\u7c7b\u6570\u76ee\u5448\u7206\u70b8\u6027\u589e\u957f\uff1b\u7b2c\u4e8c\u7c7b\u662f\u56e0\u4e3a\u7c7b\u5b9a\u4e49\u4e0d\u80fd\u7ee7\u627f\uff08\u5982final\u7c7b\uff09\u3002","title":"\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_12","text":"\u88c5\u9970\u6a21\u5f0f\u7684\u7b80\u5316-\u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898: \u4e00\u4e2a\u88c5\u9970\u7c7b\u7684\u63a5\u53e3\u5fc5\u987b\u4e0e\u88ab\u88c5\u9970\u7c7b\u7684\u63a5\u53e3\u4fdd\u6301\u76f8\u540c\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\u65e0\u8bba\u662f\u88c5\u9970\u4e4b\u524d\u7684\u5bf9\u8c61\u8fd8\u662f\u88c5\u9970\u4e4b\u540e\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4e00\u81f4\u5bf9\u5f85\u3002 \u5c3d\u91cf\u4fdd\u6301\u5177\u4f53\u6784\u4ef6\u7c7bComponent\u4f5c\u4e3a\u4e00\u4e2a\u201c\u8f7b\u201d\u7c7b\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u8981\u628a\u592a\u591a\u7684\u903b\u8f91\u548c\u72b6\u6001\u653e\u5728\u5177\u4f53\u6784\u4ef6\u7c7b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u88c5\u9970\u7c7b\u3002 \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5177\u4f53\u6784\u4ef6\u7c7b\u800c\u6ca1\u6709\u62bd\u8c61\u6784\u4ef6\u7c7b\uff0c\u90a3\u4e48\u62bd\u8c61\u88c5\u9970\u7c7b\u53ef\u4ee5\u4f5c\u4e3a\u5177\u4f53\u6784\u4ef6\u7c7b\u7684\u76f4\u63a5\u5b50\u7c7b\u3002","title":"\u6a21\u5f0f\u6269\u5c55"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u88c5\u9970\u6a21\u5f0f.html#_13","text":"\u88c5\u9970\u6a21\u5f0f\u7528\u4e8e\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23\uff0c\u5c31\u589e\u52a0\u5bf9\u8c61\u529f \u80fd\u6765\u8bf4\uff0c\u88c5\u9970\u6a21\u5f0f\u6bd4\u751f\u6210\u5b50\u7c7b\u5b9e\u73b0\u66f4\u4e3a\u7075\u6d3b\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u88c5\u9970\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u62bd\u8c61\u6784\u4ef6\u5b9a\u4e49\u4e86\u5bf9\u8c61\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u5bf9 \u8c61\u52a8\u6001\u589e\u52a0\u804c\u8d23\uff08\u65b9\u6cd5\uff09\uff1b\u5177\u4f53\u6784\u4ef6\u5b9a\u4e49\u4e86\u5177\u4f53\u7684\u6784\u4ef6\u5bf9\u8c61\uff0c\u5b9e\u73b0\u4e86 \u5728\u62bd\u8c61\u6784\u4ef6\u4e2d\u58f0\u660e\u7684\u65b9\u6cd5\uff0c\u88c5\u9970\u5668\u53ef\u4ee5\u7ed9\u5b83\u589e\u52a0\u989d\u5916\u7684\u804c\u8d23\uff08\u65b9\u6cd5\uff09\uff1b \u62bd\u8c61\u88c5\u9970\u7c7b\u662f\u62bd\u8c61\u6784\u4ef6\u7c7b\u7684\u5b50\u7c7b\uff0c\u7528\u4e8e\u7ed9\u5177\u4f53\u6784\u4ef6\u589e\u52a0\u804c\u8d23\uff0c\u4f46\u662f\u5177 \u4f53\u804c\u8d23\u5728\u5176\u5b50\u7c7b\u4e2d\u5b9e\u73b0\uff1b\u5177\u4f53\u88c5\u9970\u7c7b\u662f\u62bd\u8c61\u88c5\u9970\u7c7b\u7684\u5b50\u7c7b\uff0c\u8d1f\u8d23\u5411\u6784 \u4ef6\u6dfb\u52a0\u65b0\u7684\u804c\u8d23\u3002 \u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u6765\u5b9e\u73b0\u6269\u5c55\u6bd4\u7ee7\u627f\u66f4\u52a0\u7075\u6d3b\uff0c\u5b83\u4ee5\u5bf9\u5ba2\u6237\u900f\u660e\u7684\u65b9\u5f0f\u52a8 \u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u9644\u52a0\u66f4\u591a\u7684\u8d23\u4efb\u3002\u88c5\u9970\u6a21\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u521b\u9020\u66f4\u591a\u5b50 \u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5bf9\u8c61\u7684\u529f\u80fd\u52a0\u4ee5\u6269\u5c55\u3002 \u88c5\u9970\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u63d0\u4f9b\u6bd4\u7ee7\u627f\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u52a8\u6001\u7684\u65b9\u5f0f\u6765\u6269\u5c55\u4e00\u4e2a\u5bf9\u8c61\u7684\u529f\u80fd\uff0c\u5e76\u901a\u8fc7\u4f7f\u7528\u4e0d\u540c\u7684\u5177\u4f53\u88c5\u9970\u7c7b\u4ee5\u53ca\u8fd9\u4e9b\u88c5\u9970\u7c7b\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ef\u4ee5\u521b\u9020\u51fa\u5f88\u591a\u4e0d\u540c\u884c\u4e3a\u7684\u7ec4\u5408\uff0c\u800c\u4e14\u5177\u4f53\u6784\u4ef6\u7c7b\u4e0e\u5177\u4f53\u88c5\u9970\u7c7b\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u65b0\u7684\u5177\u4f53\u6784\u4ef6\u7c7b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u8fdb\u884c\u7cfb\u7edf\u8bbe\u8ba1\u65f6\u5c06\u4ea7\u751f\u5f88\u591a\u5c0f\u5bf9\u8c61\uff0c\u800c\u4e14\u88c5\u9970\u6a21\u5f0f\u6bd4\u7ee7\u627f\u66f4\u52a0\u6613\u4e8e\u51fa\u9519\uff0c\u6392\u9519\u4e5f\u5f88\u56f0\u96be\uff0c\u5bf9\u4e8e\u591a\u6b21\u88c5\u9970\u7684\u5bf9\u8c61\uff0c\u8c03\u8bd5\u65f6\u5bfb\u627e\u9519\u8bef\u53ef\u80fd\u9700\u8981\u9010\u7ea7\u6392\u67e5\uff0c\u8f83\u4e3a\u70e6\u7410\u3002 \u88c5\u9970\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u5728\u4e0d\u5f71\u54cd\u5176\u4ed6\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee5\u52a8\u6001\u3001\u900f\u660e\u7684\u65b9\u5f0f\u7ed9\u5355\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u804c\u8d23\uff1b\u9700\u8981\u52a8\u6001\u5730\u7ed9\u4e00\u4e2a\u5bf9\u8c61\u589e\u52a0\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u4e5f\u53ef\u4ee5\u52a8\u6001\u5730\u88ab\u64a4\u9500\uff1b\u5f53\u4e0d\u80fd\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u5bf9\u7cfb\u7edf\u8fdb\u884c\u6269\u5145\u6216\u8005\u91c7\u7528\u7ee7\u627f\u4e0d\u5229\u4e8e\u7cfb\u7edf\u6269\u5c55 \u548c\u7ef4\u62a4\u65f6\u3002 \u88c5\u9970\u6a21\u5f0f\u53ef\u5206\u4e3a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u548c\u534a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\uff1a\u5728\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u4e2d\uff0c\u8981\u6c42\u5ba2\u6237\u7aef\u5b8c\u5168\u9488\u5bf9\u62bd\u8c61\u7f16\u7a0b\uff0c\u88c5\u9970\u6a21\u5f0f\u7684\u900f\u660e\u6027\u8981\u6c42\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e0d\u5e94\u8be5\u58f0\u660e\u5177\u4f53\u6784\u4ef6\u7c7b\u578b\u548c\u5177\u4f53\u88c5\u9970\u7c7b\u578b\uff0c\u800c\u5e94\u8be5\u5168\u90e8\u58f0\u660e\u4e3a\u62bd\u8c61\u6784\u4ef6\u7c7b\u578b\uff1b\u534a\u900f\u660e\u88c5\u9970\u6a21\u5f0f\u5141\u8bb8\u7528\u6237\u5728\u5ba2\u6237\u7aef\u58f0\u660e\u5177\u4f53\u88c5\u9970\u8005\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u8c03\u7528\u5728\u5177\u4f53\u88c5\u9970\u8005\u4e2d\u65b0\u589e\u7684\u65b9\u6cd5\u3002","title":"\u516d\u3001\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html","text":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a \u00b6 \u5efa\u7acb\u4e00\u79cd\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u6539\u53d8\u65f6\u5c06\u81ea\u52a8\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u5176\u4ed6\u5bf9\u8c61\u5c06\u76f8\u5e94\u505a\u51fa\u53cd\u5e94\u3002\u5728\u6b64\uff0c\u53d1\u751f\u6539\u53d8\u7684\u5bf9\u8c61\u79f0\u4e3a\u89c2\u5bdf\u76ee\u6807\uff0c\u800c\u88ab\u901a\u77e5\u7684\u5bf9\u8c61\u79f0\u4e3a\u89c2\u5bdf\u8005\uff0c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u89c2\u5bdf\u8005\uff0c\u800c\u4e14\u8fd9\u4e9b\u89c2\u5bdf\u8005\u4e4b\u95f4\u6ca1\u6709\u76f8\u4e92\u8054\u7cfb\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u548c\u5220\u9664\u89c2\u5bdf\u8005\uff0c\u4f7f\u5f97\u7cfb\u7edf\u66f4\u6613\u4e8e\u6269\u5c55\uff0c\u8fd9\u5c31\u662f\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f( Observer Pattern )\uff1a\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u79cd\u4e00\u5bf9\u591a\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f7f\u5f97\u6bcf\u5f53\u4e00\u4e2a\u5bf9\u8c61\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5176\u76f8\u5173\u4f9d\u8d56\u5bf9\u8c61\u7686\u5f97\u5230\u901a\u77e5\u5e76\u88ab\u81ea\u52a8\u66f4\u65b0\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u53c8\u53eb\u505a\u53d1\u5e03-\u8ba2\u9605\uff08 Publish / Subscribe \uff09\u6a21\u5f0f\u3001\u6a21\u578b-\u89c6\u56fe\uff08 Model / View \uff09\u6a21\u5f0f\u3001\u6e90-\u76d1\u542c\u5668\uff08 Source / Listener \uff09\u6a21\u5f0f\u6216\u4ece\u5c5e\u8005\uff08 Dependents \uff09\u6a21\u5f0f\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f**\u3002 \u4e09\u3001\u6a21\u5f0f\u7ed3\u6784 \u00b6 1. \u89d2\u8272\u7ec4\u6210 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Subject : \u76ee\u6807\uff08\u62bd\u8c61\u7684\u88ab\u89c2\u5bdf\u7740\uff09 ConcreteSubject : \u5177\u4f53\u76ee\u6807\uff08\u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005\uff09 Observer : \u89c2\u5bdf\u8005 ConcreteObserver : \u5177\u4f53\u89c2\u5bdf\u8005 2. \u7ed3\u6784\u56fe \u00b6 3. \u65f6\u5e8f\u56fe \u00b6 \u56db\u3001\u793a\u4f8b\u4ee3\u7801 \u00b6 \u9996\u5148\uff0c\u662f\u89c2\u5bdf\u8005\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 /** * \u89c2\u5bdf\u8005\u63a5\u53e3 * */ public interface Observer { // \u66f4\u65b0\u7684\u65b9\u6cd5 public void update (); } \u63a5\u4e0b\u6765\uff0c\u662f\u5177\u4f53\u7684\u89c2\u5bdf\u8005\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u7684\u89c2\u5bdf\u8005. */ public class ConcreteObserver implements Observer { /** * \u5b9e\u73b0\u66f4\u65b0\u65b9\u6cd5. */ @Override public void update () { System . out . println ( \"\u63a5\u6536\u5230\u4fe1\u606f,\u5e76\u8fdb\u884c\u5904\u7406...\" ); } } \u7136\u540e\uff0c\u662f\u88ab\u89c2\u5bdf\u8005\u7684\u62bd\u8c61\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 /** * \u88ab\u89c2\u5bdf\u8005\u7684\u62bd\u8c61\u7c7b. */ public abstract class Subject { /** \u5b9a\u4e49\u4e00\u4e2a\u89c2\u5bdf\u8005\u7684\u96c6\u5408. */ private List < Observer > observers = new ArrayList < Observer > (); /** * \u589e\u52a0\u4e00\u4e2a\u89c2\u5bdf\u8005. * * @param o */ public void addObserver ( Observer o ) { this . observers . add ( o ); } /** * \u5220\u9664\u4e00\u4e2a\u89c2\u5bdf\u8005. * * @param o */ public void delObserver ( Observer o ) { this . observers . remove ( o ); } /** * \u901a\u77e5\u6240\u6709\u89c2\u5bdf\u8005. */ public void notifyObservers () { for ( Observer o : observers ) { o . update (); } } } \u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005. */ public class ConcreteSubject extends Subject { /** * \u5177\u4f53\u7684\u4e1a\u52a1. */ public void doSomething () { super . notifyObservers (); } } \u6700\u540e\uff0c\u662f\u7528\u4e8e\u6d4b\u8bd5\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u89c2\u5bdf\u8005\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class ObserverClient { public static void main ( String [] args ) { // \u521b\u5efa\u4e00\u4e2a\u88ab\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u8005. ConcreteSubject sub = new ConcreteSubject (); Observer obs = new ConcreteObserver (); // \u89c2\u5bdf\u8005\u89c2\u5bdf\u88ab\u89c2\u5bdf\u8005. sub . addObserver ( obs ); // \u89c2\u5bdf\u8005\u5f00\u59cb\u6d3b\u52a8\u4e86. sub . doSomething (); } } \u4e94\u3001\u6a21\u5f0f\u5206\u6790 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5982\u4f55\u5efa\u7acb\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982\u4f55\u6784\u9020\u6ee1\u8db3\u8fd9\u79cd\u9700\u6c42\u7684\u7cfb\u7edf\u3002 \u8fd9\u4e00\u6a21\u5f0f\u4e2d\u7684\u5173\u952e\u5bf9\u8c61\u662f\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\uff0c\u4e00\u4e2a\u76ee\u6807\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u76ee\u7684\u4e0e\u4e4b\u76f8\u4f9d\u8d56\u7684\u89c2\u5bdf\u8005\uff0c\u4e00\u65e6\u76ee\u6807\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u5c06\u5f97\u5230\u901a\u77e5\u3002 \u4f5c\u4e3a\u5bf9\u8fd9\u4e2a\u901a\u77e5\u7684\u54cd\u5e94\uff0c\u6bcf\u4e2a\u89c2\u5bdf\u8005\u90fd\u5c06\u5373\u65f6\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u4ee5\u4e0e\u76ee\u6807\u72b6\u6001\u540c\u6b65\uff0c\u8fd9\u79cd\u4ea4\u4e92\u4e5f\u79f0\u4e3a**\u53d1\u5e03-\u8ba2\u9605**( publish-subscribe )\u3002\u76ee\u6807\u662f\u901a\u77e5\u7684\u53d1\u5e03\u8005\uff0c\u5b83\u53d1\u51fa\u901a\u77e5\u65f6\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u8c01\u662f\u5b83\u7684\u89c2\u5bdf\u8005\uff0c\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u76ee\u7684\u89c2\u5bdf\u8005\u8ba2\u9605\u5b83\u5e76\u63a5\u6536\u901a\u3002 1. \u4f18\u70b9 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u89c2\u5bdf\u8005\u6a21\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u8868\u793a\u5c42\u548c\u6570\u636e\u903b\u8f91\u5c42\u7684\u5206\u79bb\uff0c\u5e76\u5b9a\u4e49\u4e86\u7a33\u5b9a\u7684\u6d88\u606f\u66f4\u65b0\u4f20\u9012\u673a\u5236\uff0c\u62bd\u8c61\u4e86\u66f4\u65b0\u63a5\u53e3\uff0c\u4f7f\u5f97\u53ef\u4ee5\u6709\u5404\u79cd\u5404\u6837\u4e0d\u540c\u7684\u8868\u793a\u5c42\u4f5c\u4e3a\u5177\u4f53\u89c2\u5bdf\u8005\u89d2\u8272\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u62bd\u8c61\u7684\u8026\u5408\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u652f\u6301\u5e7f\u64ad\u901a\u4fe1\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u8981\u6c42\u3002 2. \u7f3a\u70b9 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5982\u679c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u5bf9\u8c61\u6709\u5f88\u591a\u76f4\u63a5\u548c\u95f4\u63a5\u7684\u89c2\u5bdf\u8005\u7684\u8bdd\uff0c\u5c06\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u901a\u77e5\u5230\u4f1a\u82b1\u8d39\u5f88\u591a\u65f6\u95f4\u3002 \u5982\u679c\u5728\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u76ee\u6807\u4e4b\u95f4\u6709\u5faa\u73af\u4f9d\u8d56\u7684\u8bdd\uff0c\u89c2\u5bdf\u76ee\u6807\u4f1a\u89e6\u53d1\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u5faa\u73af\u8c03\u7528\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u6ca1\u6709\u76f8\u5e94\u7684\u673a\u5236\u8ba9\u89c2\u5bdf\u8005\u77e5\u9053\u6240\u89c2\u5bdf\u7684\u76ee\u6807\u5bf9\u8c61\u662f\u600e\u4e48\u53d1\u751f\u53d8\u5316\u7684\uff0c\u800c\u4ec5\u4ec5\u53ea\u662f\u77e5\u9053\u89c2\u5bdf\u76ee\u6807\u53d1\u751f\u4e86\u53d8\u5316\u3002 3.\u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\uff1a \u4e00\u4e2a\u62bd\u8c61\u6a21\u578b\u6709\u4e24\u4e2a\u65b9\u9762\uff0c\u5176\u4e2d\u4e00\u4e2a\u65b9\u9762\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u65b9\u9762\u3002\u5c06\u8fd9\u4e9b\u65b9\u9762\u5c01\u88c5\u5728\u72ec\u7acb\u7684\u5bf9\u8c61\u4e2d\u4f7f\u5b83\u4eec\u53ef\u4ee5\u5404\u81ea\u72ec\u7acb\u5730\u6539\u53d8\u548c\u590d\u7528\u3002 \u4e00\u4e2a\u5bf9\u8c61\u7684\u6539\u53d8\u5c06\u5bfc\u81f4\u5176\u4ed6\u4e00\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u4e5f\u53d1\u751f\u6539\u53d8\uff0c\u800c\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u591a\u5c11\u5bf9\u8c61\u5c06\u53d1\u751f\u6539\u53d8\uff0c\u53ef\u4ee5\u964d\u4f4e\u5bf9\u8c61\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u3002 \u4e00\u4e2a\u5bf9\u8c61\u5fc5\u987b\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u800c\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e9b\u5bf9\u8c61\u662f\u8c01\u3002 \u9700\u8981\u5728\u7cfb\u7edf\u4e2d\u521b\u5efa\u4e00\u4e2a\u89e6\u53d1\u94fe\uff0cA \u5bf9\u8c61\u7684\u884c\u4e3a\u5c06\u5f71\u54cd B \u5bf9\u8c61\uff0cB \u5bf9\u8c61\u7684\u884c\u4e3a\u5c06\u5f71\u54cd C \u5bf9\u8c61\u2026\u2026\uff0c\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u521b\u5efa\u4e00\u79cd\u94fe\u5f0f\u89e6\u53d1\u673a\u5236\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u5982\u67d0\u7535\u5b50\u5546\u52a1\u7f51\u7ad9\u53ef\u4ee5\u5728\u6267\u884c\u53d1\u9001\u64cd\u4f5c\u540e\u7ed9\u7528\u6237\u591a\u4e2a\u53d1\u9001\u5546\u54c1\u6253\u6298\u4fe1\u606f\uff0c\u67d0\u56e2\u961f\u6218\u6597\u6e38\u620f\u4e2d\u67d0\u961f\u53cb\u727a\u7272\u5c06\u7ed9\u6240\u6709\u6210\u5458\u63d0\u793a\u7b49\u7b49\uff0c\u51e1\u662f\u6d89\u53ca\u5230\u4e00\u5bf9\u4e00\u6216\u8005\u4e00\u5bf9\u591a\u7684\u5bf9\u8c61\u4ea4\u4e92\u573a\u666f\u90fd\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u3002 \u516d\u3001\u603b\u7ed3 \u00b6 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u79cd\u4e00\u5bf9\u591a\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f7f\u5f97\u6bcf\u5f53\u4e00\u4e2a\u5bf9\u8c61\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5176\u76f8\u5173\u4f9d\u8d56\u5bf9\u8c61\u7686\u5f97\u5230\u901a\u77e5\u5e76\u88ab\u81ea\u52a8\u66f4\u65b0\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u53c8\u53eb\u505a\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u3001\u6a21\u578b-\u89c6\u56fe\u6a21\u5f0f\u3001\u6e90-\u76d1\u542c\u5668\u6a21\u5f0f\u6216\u4ece\u5c5e\u8005\u6a21\u5f0f\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u76ee\u6807\u53c8\u79f0\u4e3a\u4e3b\u9898\uff0c\u5b83\u662f\u6307\u88ab\u89c2\u5bdf\u7684\u5bf9\u8c61\uff1b\u5177\u4f53\u76ee\u6807\u662f\u76ee\u6807\u7c7b\u7684\u5b50\u7c7b\uff0c\u901a\u5e38\u5b83\u5305\u542b\u6709\u7ecf\u5e38\u53d1\u751f\u6539\u53d8\u7684\u6570\u636e\uff0c\u5f53\u5b83\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5411\u5b83\u7684\u5404\u4e2a\u89c2\u5bdf\u8005\u53d1\u51fa\u901a\u77e5\uff1b\u89c2\u5bdf\u8005\u5c06\u5bf9\u89c2\u5bdf\u76ee\u6807\u7684\u6539\u53d8\u505a\u51fa\u53cd\u5e94\uff1b\u5728\u5177\u4f53\u89c2\u5bdf\u8005\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u6307\u5411\u5177\u4f53\u76ee\u6807\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5b83\u5b58\u50a8\u5177\u4f53\u89c2\u5bdf\u8005\u7684\u6709\u5173\u72b6\u6001\uff0c\u8fd9\u4e9b\u72b6\u6001\u9700\u8981\u548c\u5177\u4f53\u76ee\u6807\u7684\u72b6\u6001\u4fdd\u6301\u4e00\u81f4\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u79cd\u4e00\u5bf9\u591a\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8ba9\u591a\u4e2a\u89c2\u5bdf\u8005\u5bf9\u8c61\u540c\u65f6\u76d1\u542c\u67d0\u4e00\u4e2a\u76ee\u6807\u5bf9\u8c61\uff0c\u5f53\u8fd9\u4e2a\u76ee\u6807\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u901a\u77e5\u6240\u6709\u89c2\u5bdf\u8005\u5bf9\u8c61\uff0c\u4f7f\u5b83\u4eec\u80fd\u591f\u81ea\u52a8\u66f4\u65b0\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u5b9e\u73b0\u8868\u793a\u5c42\u548c\u6570\u636e\u903b\u8f91\u5c42\u7684\u5206\u79bb\uff0c\u5e76\u5728\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u62bd\u8c61\u7684\u8026\u5408\uff0c\u652f\u6301\u5e7f\u64ad\u901a\u4fe1\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u5982\u679c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u5bf9\u8c61\u6709\u5f88\u591a\u76f4\u63a5\u548c\u95f4\u63a5\u7684\u89c2\u5bdf\u8005\u7684\u8bdd\uff0c\u5c06\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u901a\u77e5\u5230\u4f1a\u82b1\u8d39\u5f88\u591a\u65f6\u95f4\uff0c\u800c\u4e14\u5982\u679c\u5728\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u76ee\u6807\u4e4b\u95f4\u6709\u5faa\u73af\u4f9d\u8d56\u7684\u8bdd\uff0c\u89c2\u5bdf\u76ee\u6807\u4f1a\u89e6\u53d1\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u5faa\u73af\u8c03\u7528\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u4e00\u4e2a\u62bd\u8c61\u6a21\u578b\u6709\u4e24\u4e2a\u65b9\u9762\uff0c\u5176\u4e2d\u4e00\u4e2a\u65b9\u9762\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u65b9\u9762\uff1b\u4e00\u4e2a\u5bf9\u8c61\u7684\u6539\u53d8\u5c06\u5bfc\u81f4\u5176\u4ed6\u4e00\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u4e5f\u53d1\u751f\u6539\u53d8\uff0c\u800c\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u591a\u5c11\u5bf9\u8c61\u5c06\u53d1\u751f\u6539\u53d8\uff1b\u4e00\u4e2a\u5bf9\u8c61\u5fc5\u987b\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u800c\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e9b\u5bf9\u8c61\u662f\u8c01\uff1b\u9700\u8981\u5728\u7cfb\u7edf\u4e2d\u521b\u5efa\u4e00\u4e2a\u89e6\u53d1\u94fe\u3002 \u5728 JDK \u7684 java.util \u5305\u4e2d\uff0c\u63d0\u4f9b\u4e86 Observable \u7c7b\u4ee5\u53ca Observer \u63a5\u53e3\uff0c\u5b83\u4eec\u6784\u6210\u4e86 Java \u8bed\u8a00\u5bf9\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u652f\u6301\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_1","text":"\u5efa\u7acb\u4e00\u79cd\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u6539\u53d8\u65f6\u5c06\u81ea\u52a8\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u5176\u4ed6\u5bf9\u8c61\u5c06\u76f8\u5e94\u505a\u51fa\u53cd\u5e94\u3002\u5728\u6b64\uff0c\u53d1\u751f\u6539\u53d8\u7684\u5bf9\u8c61\u79f0\u4e3a\u89c2\u5bdf\u76ee\u6807\uff0c\u800c\u88ab\u901a\u77e5\u7684\u5bf9\u8c61\u79f0\u4e3a\u89c2\u5bdf\u8005\uff0c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u89c2\u5bdf\u8005\uff0c\u800c\u4e14\u8fd9\u4e9b\u89c2\u5bdf\u8005\u4e4b\u95f4\u6ca1\u6709\u76f8\u4e92\u8054\u7cfb\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u548c\u5220\u9664\u89c2\u5bdf\u8005\uff0c\u4f7f\u5f97\u7cfb\u7edf\u66f4\u6613\u4e8e\u6269\u5c55\uff0c\u8fd9\u5c31\u662f\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u4e00\u3001\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_2","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f( Observer Pattern )\uff1a\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u79cd\u4e00\u5bf9\u591a\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f7f\u5f97\u6bcf\u5f53\u4e00\u4e2a\u5bf9\u8c61\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5176\u76f8\u5173\u4f9d\u8d56\u5bf9\u8c61\u7686\u5f97\u5230\u901a\u77e5\u5e76\u88ab\u81ea\u52a8\u66f4\u65b0\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u53c8\u53eb\u505a\u53d1\u5e03-\u8ba2\u9605\uff08 Publish / Subscribe \uff09\u6a21\u5f0f\u3001\u6a21\u578b-\u89c6\u56fe\uff08 Model / View \uff09\u6a21\u5f0f\u3001\u6e90-\u76d1\u542c\u5668\uff08 Source / Listener \uff09\u6a21\u5f0f\u6216\u4ece\u5c5e\u8005\uff08 Dependents \uff09\u6a21\u5f0f\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd**\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f**\u3002","title":"\u4e8c\u3001\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_3","text":"","title":"\u4e09\u3001\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#1","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Subject : \u76ee\u6807\uff08\u62bd\u8c61\u7684\u88ab\u89c2\u5bdf\u7740\uff09 ConcreteSubject : \u5177\u4f53\u76ee\u6807\uff08\u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005\uff09 Observer : \u89c2\u5bdf\u8005 ConcreteObserver : \u5177\u4f53\u89c2\u5bdf\u8005","title":"1. \u89d2\u8272\u7ec4\u6210"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#2","text":"","title":"2. \u7ed3\u6784\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#3","text":"","title":"3. \u65f6\u5e8f\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_4","text":"\u9996\u5148\uff0c\u662f\u89c2\u5bdf\u8005\u63a5\u53e3\uff1a 1 2 3 4 5 6 7 8 9 /** * \u89c2\u5bdf\u8005\u63a5\u53e3 * */ public interface Observer { // \u66f4\u65b0\u7684\u65b9\u6cd5 public void update (); } \u63a5\u4e0b\u6765\uff0c\u662f\u5177\u4f53\u7684\u89c2\u5bdf\u8005\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u7684\u89c2\u5bdf\u8005. */ public class ConcreteObserver implements Observer { /** * \u5b9e\u73b0\u66f4\u65b0\u65b9\u6cd5. */ @Override public void update () { System . out . println ( \"\u63a5\u6536\u5230\u4fe1\u606f,\u5e76\u8fdb\u884c\u5904\u7406...\" ); } } \u7136\u540e\uff0c\u662f\u88ab\u89c2\u5bdf\u8005\u7684\u62bd\u8c61\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 /** * \u88ab\u89c2\u5bdf\u8005\u7684\u62bd\u8c61\u7c7b. */ public abstract class Subject { /** \u5b9a\u4e49\u4e00\u4e2a\u89c2\u5bdf\u8005\u7684\u96c6\u5408. */ private List < Observer > observers = new ArrayList < Observer > (); /** * \u589e\u52a0\u4e00\u4e2a\u89c2\u5bdf\u8005. * * @param o */ public void addObserver ( Observer o ) { this . observers . add ( o ); } /** * \u5220\u9664\u4e00\u4e2a\u89c2\u5bdf\u8005. * * @param o */ public void delObserver ( Observer o ) { this . observers . remove ( o ); } /** * \u901a\u77e5\u6240\u6709\u89c2\u5bdf\u8005. */ public void notifyObservers () { for ( Observer o : observers ) { o . update (); } } } \u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u5177\u4f53\u7684\u88ab\u89c2\u5bdf\u8005. */ public class ConcreteSubject extends Subject { /** * \u5177\u4f53\u7684\u4e1a\u52a1. */ public void doSomething () { super . notifyObservers (); } } \u6700\u540e\uff0c\u662f\u7528\u4e8e\u6d4b\u8bd5\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * \u89c2\u5bdf\u8005\u6a21\u5f0f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class ObserverClient { public static void main ( String [] args ) { // \u521b\u5efa\u4e00\u4e2a\u88ab\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u8005. ConcreteSubject sub = new ConcreteSubject (); Observer obs = new ConcreteObserver (); // \u89c2\u5bdf\u8005\u89c2\u5bdf\u88ab\u89c2\u5bdf\u8005. sub . addObserver ( obs ); // \u89c2\u5bdf\u8005\u5f00\u59cb\u6d3b\u52a8\u4e86. sub . doSomething (); } }","title":"\u56db\u3001\u793a\u4f8b\u4ee3\u7801"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_5","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5982\u4f55\u5efa\u7acb\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982\u4f55\u6784\u9020\u6ee1\u8db3\u8fd9\u79cd\u9700\u6c42\u7684\u7cfb\u7edf\u3002 \u8fd9\u4e00\u6a21\u5f0f\u4e2d\u7684\u5173\u952e\u5bf9\u8c61\u662f\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\uff0c\u4e00\u4e2a\u76ee\u6807\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u76ee\u7684\u4e0e\u4e4b\u76f8\u4f9d\u8d56\u7684\u89c2\u5bdf\u8005\uff0c\u4e00\u65e6\u76ee\u6807\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u5c06\u5f97\u5230\u901a\u77e5\u3002 \u4f5c\u4e3a\u5bf9\u8fd9\u4e2a\u901a\u77e5\u7684\u54cd\u5e94\uff0c\u6bcf\u4e2a\u89c2\u5bdf\u8005\u90fd\u5c06\u5373\u65f6\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u4ee5\u4e0e\u76ee\u6807\u72b6\u6001\u540c\u6b65\uff0c\u8fd9\u79cd\u4ea4\u4e92\u4e5f\u79f0\u4e3a**\u53d1\u5e03-\u8ba2\u9605**( publish-subscribe )\u3002\u76ee\u6807\u662f\u901a\u77e5\u7684\u53d1\u5e03\u8005\uff0c\u5b83\u53d1\u51fa\u901a\u77e5\u65f6\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u8c01\u662f\u5b83\u7684\u89c2\u5bdf\u8005\uff0c\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u76ee\u7684\u89c2\u5bdf\u8005\u8ba2\u9605\u5b83\u5e76\u63a5\u6536\u901a\u3002","title":"\u4e94\u3001\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#1_1","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a \u89c2\u5bdf\u8005\u6a21\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u8868\u793a\u5c42\u548c\u6570\u636e\u903b\u8f91\u5c42\u7684\u5206\u79bb\uff0c\u5e76\u5b9a\u4e49\u4e86\u7a33\u5b9a\u7684\u6d88\u606f\u66f4\u65b0\u4f20\u9012\u673a\u5236\uff0c\u62bd\u8c61\u4e86\u66f4\u65b0\u63a5\u53e3\uff0c\u4f7f\u5f97\u53ef\u4ee5\u6709\u5404\u79cd\u5404\u6837\u4e0d\u540c\u7684\u8868\u793a\u5c42\u4f5c\u4e3a\u5177\u4f53\u89c2\u5bdf\u8005\u89d2\u8272\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u62bd\u8c61\u7684\u8026\u5408\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u652f\u6301\u5e7f\u64ad\u901a\u4fe1\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u7684\u8981\u6c42\u3002","title":"1. \u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#2_1","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a \u5982\u679c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u5bf9\u8c61\u6709\u5f88\u591a\u76f4\u63a5\u548c\u95f4\u63a5\u7684\u89c2\u5bdf\u8005\u7684\u8bdd\uff0c\u5c06\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u901a\u77e5\u5230\u4f1a\u82b1\u8d39\u5f88\u591a\u65f6\u95f4\u3002 \u5982\u679c\u5728\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u76ee\u6807\u4e4b\u95f4\u6709\u5faa\u73af\u4f9d\u8d56\u7684\u8bdd\uff0c\u89c2\u5bdf\u76ee\u6807\u4f1a\u89e6\u53d1\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u5faa\u73af\u8c03\u7528\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u6ca1\u6709\u76f8\u5e94\u7684\u673a\u5236\u8ba9\u89c2\u5bdf\u8005\u77e5\u9053\u6240\u89c2\u5bdf\u7684\u76ee\u6807\u5bf9\u8c61\u662f\u600e\u4e48\u53d1\u751f\u53d8\u5316\u7684\uff0c\u800c\u4ec5\u4ec5\u53ea\u662f\u77e5\u9053\u89c2\u5bdf\u76ee\u6807\u53d1\u751f\u4e86\u53d8\u5316\u3002","title":"2. \u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#3_1","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\uff1a \u4e00\u4e2a\u62bd\u8c61\u6a21\u578b\u6709\u4e24\u4e2a\u65b9\u9762\uff0c\u5176\u4e2d\u4e00\u4e2a\u65b9\u9762\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u65b9\u9762\u3002\u5c06\u8fd9\u4e9b\u65b9\u9762\u5c01\u88c5\u5728\u72ec\u7acb\u7684\u5bf9\u8c61\u4e2d\u4f7f\u5b83\u4eec\u53ef\u4ee5\u5404\u81ea\u72ec\u7acb\u5730\u6539\u53d8\u548c\u590d\u7528\u3002 \u4e00\u4e2a\u5bf9\u8c61\u7684\u6539\u53d8\u5c06\u5bfc\u81f4\u5176\u4ed6\u4e00\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u4e5f\u53d1\u751f\u6539\u53d8\uff0c\u800c\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u591a\u5c11\u5bf9\u8c61\u5c06\u53d1\u751f\u6539\u53d8\uff0c\u53ef\u4ee5\u964d\u4f4e\u5bf9\u8c61\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u3002 \u4e00\u4e2a\u5bf9\u8c61\u5fc5\u987b\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u800c\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e9b\u5bf9\u8c61\u662f\u8c01\u3002 \u9700\u8981\u5728\u7cfb\u7edf\u4e2d\u521b\u5efa\u4e00\u4e2a\u89e6\u53d1\u94fe\uff0cA \u5bf9\u8c61\u7684\u884c\u4e3a\u5c06\u5f71\u54cd B \u5bf9\u8c61\uff0cB \u5bf9\u8c61\u7684\u884c\u4e3a\u5c06\u5f71\u54cd C \u5bf9\u8c61\u2026\u2026\uff0c\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u521b\u5efa\u4e00\u79cd\u94fe\u5f0f\u89e6\u53d1\u673a\u5236\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u5982\u67d0\u7535\u5b50\u5546\u52a1\u7f51\u7ad9\u53ef\u4ee5\u5728\u6267\u884c\u53d1\u9001\u64cd\u4f5c\u540e\u7ed9\u7528\u6237\u591a\u4e2a\u53d1\u9001\u5546\u54c1\u6253\u6298\u4fe1\u606f\uff0c\u67d0\u56e2\u961f\u6218\u6597\u6e38\u620f\u4e2d\u67d0\u961f\u53cb\u727a\u7272\u5c06\u7ed9\u6240\u6709\u6210\u5458\u63d0\u793a\u7b49\u7b49\uff0c\u51e1\u662f\u6d89\u53ca\u5230\u4e00\u5bf9\u4e00\u6216\u8005\u4e00\u5bf9\u591a\u7684\u5bf9\u8c61\u4ea4\u4e92\u573a\u666f\u90fd\u53ef\u4ee5\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u3002","title":"3.\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u89c2\u5bdf\u8005\u6a21\u5f0f.html#_6","text":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u79cd\u4e00\u5bf9\u591a\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f7f\u5f97\u6bcf\u5f53\u4e00\u4e2a\u5bf9\u8c61\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5176\u76f8\u5173\u4f9d\u8d56\u5bf9\u8c61\u7686\u5f97\u5230\u901a\u77e5\u5e76\u88ab\u81ea\u52a8\u66f4\u65b0\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u53c8\u53eb\u505a\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u3001\u6a21\u578b-\u89c6\u56fe\u6a21\u5f0f\u3001\u6e90-\u76d1\u542c\u5668\u6a21\u5f0f\u6216\u4ece\u5c5e\u8005\u6a21\u5f0f\u3002\u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u76ee\u6807\u53c8\u79f0\u4e3a\u4e3b\u9898\uff0c\u5b83\u662f\u6307\u88ab\u89c2\u5bdf\u7684\u5bf9\u8c61\uff1b\u5177\u4f53\u76ee\u6807\u662f\u76ee\u6807\u7c7b\u7684\u5b50\u7c7b\uff0c\u901a\u5e38\u5b83\u5305\u542b\u6709\u7ecf\u5e38\u53d1\u751f\u6539\u53d8\u7684\u6570\u636e\uff0c\u5f53\u5b83\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5411\u5b83\u7684\u5404\u4e2a\u89c2\u5bdf\u8005\u53d1\u51fa\u901a\u77e5\uff1b\u89c2\u5bdf\u8005\u5c06\u5bf9\u89c2\u5bdf\u76ee\u6807\u7684\u6539\u53d8\u505a\u51fa\u53cd\u5e94\uff1b\u5728\u5177\u4f53\u89c2\u5bdf\u8005\u4e2d\u7ef4\u62a4\u4e00\u4e2a\u6307\u5411\u5177\u4f53\u76ee\u6807\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5b83\u5b58\u50a8\u5177\u4f53\u89c2\u5bdf\u8005\u7684\u6709\u5173\u72b6\u6001\uff0c\u8fd9\u4e9b\u72b6\u6001\u9700\u8981\u548c\u5177\u4f53\u76ee\u6807\u7684\u72b6\u6001\u4fdd\u6301\u4e00\u81f4\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u79cd\u4e00\u5bf9\u591a\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8ba9\u591a\u4e2a\u89c2\u5bdf\u8005\u5bf9\u8c61\u540c\u65f6\u76d1\u542c\u67d0\u4e00\u4e2a\u76ee\u6807\u5bf9\u8c61\uff0c\u5f53\u8fd9\u4e2a\u76ee\u6807\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u901a\u77e5\u6240\u6709\u89c2\u5bdf\u8005\u5bf9\u8c61\uff0c\u4f7f\u5b83\u4eec\u80fd\u591f\u81ea\u52a8\u66f4\u65b0\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u5b9e\u73b0\u8868\u793a\u5c42\u548c\u6570\u636e\u903b\u8f91\u5c42\u7684\u5206\u79bb\uff0c\u5e76\u5728\u89c2\u5bdf\u76ee\u6807\u548c\u89c2\u5bdf\u8005\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u62bd\u8c61\u7684\u8026\u5408\uff0c\u652f\u6301\u5e7f\u64ad\u901a\u4fe1\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u5982\u679c\u4e00\u4e2a\u89c2\u5bdf\u76ee\u6807\u5bf9\u8c61\u6709\u5f88\u591a\u76f4\u63a5\u548c\u95f4\u63a5\u7684\u89c2\u5bdf\u8005\u7684\u8bdd\uff0c\u5c06\u6240\u6709\u7684\u89c2\u5bdf\u8005\u90fd\u901a\u77e5\u5230\u4f1a\u82b1\u8d39\u5f88\u591a\u65f6\u95f4\uff0c\u800c\u4e14\u5982\u679c\u5728\u89c2\u5bdf\u8005\u548c\u89c2\u5bdf\u76ee\u6807\u4e4b\u95f4\u6709\u5faa\u73af\u4f9d\u8d56\u7684\u8bdd\uff0c\u89c2\u5bdf\u76ee\u6807\u4f1a\u89e6\u53d1\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u5faa\u73af\u8c03\u7528\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u3002 \u89c2\u5bdf\u8005\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u4e00\u4e2a\u62bd\u8c61\u6a21\u578b\u6709\u4e24\u4e2a\u65b9\u9762\uff0c\u5176\u4e2d\u4e00\u4e2a\u65b9\u9762\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u65b9\u9762\uff1b\u4e00\u4e2a\u5bf9\u8c61\u7684\u6539\u53d8\u5c06\u5bfc\u81f4\u5176\u4ed6\u4e00\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u4e5f\u53d1\u751f\u6539\u53d8\uff0c\u800c\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u591a\u5c11\u5bf9\u8c61\u5c06\u53d1\u751f\u6539\u53d8\uff1b\u4e00\u4e2a\u5bf9\u8c61\u5fc5\u987b\u901a\u77e5\u5176\u4ed6\u5bf9\u8c61\uff0c\u800c\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e9b\u5bf9\u8c61\u662f\u8c01\uff1b\u9700\u8981\u5728\u7cfb\u7edf\u4e2d\u521b\u5efa\u4e00\u4e2a\u89e6\u53d1\u94fe\u3002 \u5728 JDK \u7684 java.util \u5305\u4e2d\uff0c\u63d0\u4f9b\u4e86 Observable \u7c7b\u4ee5\u53ca Observer \u63a5\u53e3\uff0c\u5b83\u4eec\u6784\u6210\u4e86 Java \u8bed\u8a00\u5bf9\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u652f\u6301\u3002","title":"\u516d\u3001\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html","text":"\u6a21\u5f0f\u52a8\u673a \u00b6 \u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u5728\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5904\u7406\u67d0\u4e2a\u8bf7\u6c42\u7684\u5bf9\u8c61\u4e0d\u6b62\u4e00\u4e2a\u3002\u4f8b\u5982\u5ba1\u6279\u5de5\u4f5c\u6d41\u7b49\uff0c\u4ed6\u4eec\u53ef\u4ee5\u6784\u6210\u4e00\u6761\u5904\u7406\u91c7\u8d2d\u5355\u7684\u94fe\u5f0f\u7ed3\u6784\uff0c\u91c7\u8d2d\u5355(\u53ef\u4ee5\u770b\u4f5c\u662f\u8981\u5904\u7406\u7684\u4fe1\u606f)\u6cbf\u7740\u8fd9\u6761\u94fe\u8fdb\u884c\u4f20\u9012\uff0c\u8fd9\u6761\u94fe\u5c31\u79f0\u4e3a\u8d23\u4efb\u94fe\u3002\u8d23\u4efb\u94fe\u53ef\u4ee5\u662f\u4e00\u6761\u76f4\u7ebf\u3001\u4e00\u4e2a\u73af\u6216\u8005\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\uff0c\u6700\u5e38\u89c1\u7684\u804c\u8d23\u94fe\u662f\u76f4\u7ebf\u578b\uff0c\u5373\u6cbf\u7740\u4e00\u6761\u5355\u5411\u7684\u94fe\u6765\u4f20\u9012\u8bf7\u6c42\u3002\u94fe\u4e0a\u7684\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u90fd\u662f\u8bf7\u6c42\u5904\u7406\u8005\uff0c\u8d23\u4efb\u94fe\u6a21\u5f0f\u53ef\u4ee5\u5c06\u8bf7\u6c42\u7684\u5904\u7406\u8005\u7ec4\u7ec7\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u8ba9\u8bf7\u6c42\u6cbf\u7740\u94fe\u4f20\u9012\uff0c\u7531\u94fe\u4e0a\u7684\u5904\u7406\u8005\u5bf9\u8bf7\u6c42\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u65e0\u987b\u5173\u5fc3\u8bf7\u6c42\u7684\u5904\u7406\u7ec6\u8282\u4ee5\u53ca\u8bf7\u6c42\u7684\u4f20\u9012\uff0c\u53ea\u9700\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u94fe\u4e0a\u5373\u53ef\uff0c\u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53d1\u9001\u8005\u548c\u8bf7\u6c42\u5904\u7406\u8005\u89e3\u8026\u3002 \u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u5b9a\u4e49 \uff1a\u8d23\u4efb\u94fe\u6a21\u5f0f( Chain of Responsibility Pattern )\u662f\u4f7f\u591a\u4e2a\u5bf9\u8c61\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8bf7\u6c42\uff0c\u4ece\u800c\u907f\u514d\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u5904\u7406\u8005\u8026\u5408\u5728\u4e00\u8d77\u3002\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u8fde\u63a5\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u4e14\u6cbf\u7740\u8fd9\u6761\u94fe\u4f20\u9012\u8bf7\u6c42\uff0c\u76f4\u5230\u6709\u5bf9\u8c61\u5904\u7406\u5b83\u4e3a\u6b62\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u5b9e\u8d28 \uff1a\u8d23\u4efb\u94fe\u4e0a\u7684\u5904\u7406\u8005\u8d1f\u8d23\u5904\u7406\u8bf7\u6c42\uff0c\u5ba2\u6237\u53ea\u9700\u8981\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u804c\u8d23\u94fe\u4e0a\u5373\u53ef\uff0c\u65e0\u987b\u5173\u5fc3\u8bf7\u6c42\u7684\u5904\u7406\u7ec6\u8282\u548c\u8bf7\u6c42\u7684\u4f20\u9012\uff0c\u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u5904\u7406\u8005\u7684\u89e3\u8026\u3002 \u6a21\u5f0f\u7ed3\u6784 \u00b6 \u53c2\u4e0e\u89d2\u8272 \u00b6 Handler \uff08\u62bd\u8c61\u5904\u7406\u8005\uff09\uff1a\u5904\u7406\u8bf7\u6c42\u7684\u63a5\u53e3\uff0c\u4e00\u822c\u8bbe\u8ba1\u4e3a\u5177\u6709\u62bd\u8c61\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u7684\u62bd\u8c61\u7c7b\uff0c\u4ee5\u4fbf\u4e8e\u4e0d\u540c\u7684\u5177\u4f53\u5904\u7406\u8005\u8fdb\u884c\u7ee7\u627f\uff0c\u4ece\u800c\u5b9e\u73b0\u5177\u4f53\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u7684\u4e0b\u5bb6\u8fd8\u662f\u4e00\u4e2a\u5904\u7406\u8005\uff0c\u56e0\u6b64\u62bd\u8c61\u5904\u7406\u8005\u672c\u8eab\u8fd8\u5305\u542b\u4e86\u4e00\u4e2a\u672c\u8eab\u7684\u5f15\u7528( nextHandler )\u4f5c\u4e3a\u5176\u5bf9\u4e0b\u5bb6\u7684\u5f15\u7528\uff0c\u4ee5\u4fbf\u5c06\u5904\u7406\u8005\u94fe\u6210\u4e00\u6761\u94fe\uff1b ConcreteHandler \uff08\u5177\u4f53\u5904\u7406\u8005\uff09\uff1a\u62bd\u8c61\u5904\u7406\u8005\u7684\u5b50\u7c7b\uff0c\u53ef\u4ee5\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5176\u5b9e\u73b0\u4e86\u62bd\u8c61\u5904\u7406\u8005\u4e2d\u5b9a\u4e49\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u3002\u5728\u5177\u4f53\u5904\u7406\u8bf7\u6c42\u65f6\u9700\u8981\u8fdb\u884c\u5224\u65ad\uff0c\u82e5\u5176\u5177\u6709\u76f8\u5e94\u7684\u5904\u7406\u6743\u9650\uff0c\u90a3\u4e48\u5c31\u5904\u7406\u5b83\uff1b\u5426\u5219\uff0c\u5176\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u540e\u7ee7\u8005\uff0c\u4ee5\u4fbf\u8ba9\u540e\u9762\u7684\u5904\u7406\u8005\u8fdb\u884c\u5904\u7406\u3002 \u5728\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\uff0c\u7531\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u5bf9\u8c61\u5bf9\u5176\u4e0b\u5bb6\u7684\u5f15\u7528\u800c\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u4e00\u6761\u8bf7\u6c42\u5904\u7406\u94fe\u3002\u8bf7\u6c42\u5c06\u5728\u8fd9\u6761\u94fe\u4e0a\u4e00\u76f4\u4f20\u9012\uff0c\u76f4\u5230\u94fe\u4e0a\u7684\u67d0\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u80fd\u591f\u5904\u7406\u6b64\u8bf7\u6c42\u3002 \u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053\u94fe\u4e0a\u7684\u54ea\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u5c06\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u548c\u5206\u914d\u8d23\u4efb \u3002 UML\u7c7b\u56fe \u00b6 \u4ee3\u7801\u793a\u4f8b \u00b6 \u9996\u5148\uff0c\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u6838\u5fc3\u5728\u4e8e\u5bf9\u8bf7\u6c42\u5904\u7406\u8005\u7684\u62bd\u8c61\u3002\u5728\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\uff0c\u62bd\u8c61\u5904\u7406\u8005\u4e00\u822c\u4f1a\u88ab\u8bbe\u5b9a\u4e3a**\u62bd\u8c61\u7c7b**\uff0c\u5176\u5178\u578b\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u8d23\u4efb\u8fde\u6a21\u5f0f\u7684\u62bd\u8c61\u5904\u7406\u8005\u89d2\u8272. */ public abstract class Handler { /** \u540e\u7ee7\u5904\u7406\u8005\u89d2\u8272. */ protected Handler nextHandler ; /** * \u5904\u7406\u8bf7\u6c42\u7684\u62bd\u8c61\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ public abstract void handle ( String condition ); /** * nextHandler\u7684Setter\u65b9\u6cd5. * * @param nextHandler \u540e\u7ee7\u5904\u7406\u5668 */ public void setNextHandler ( Handler nextHandler ) { this . nextHandler = nextHandler ; } } \u5176\u6b21\uff0c\u662f\u82e5\u5e72\u4e2a\u5177\u4f53\u7684\u5904\u7406\u89d2\u8272\u7c7b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u5904\u7406\u89d2\u82721. */ public class ConcreteHandler1 extends Handler { /** * \u5177\u4f53\u5904\u7406\u89d2\u82721\u7684\u5904\u7406\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ @Override public void handle ( String condition ) { // \u5982\u679c\u662f\u81ea\u5df1\u7684\u8d23\u4efb\uff0c\u5c31\u81ea\u5df1\u5904\u7406\uff0c\u8d1f\u8d23\u4f20\u7ed9\u4e0b\u5bb6\u5904\u7406 if ( \"ConcreteHandler1\" . equals ( condition )) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82721\u7684\u5904\u7406\u65b9\u6cd5handled1...\" ); } else { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82721 \u901a\u8fc7...\" ); nextHandler . handle ( condition ); } } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u5904\u7406\u89d2\u82722. */ public class ConcreteHandler2 extends Handler { /** * \u5177\u4f53\u5904\u7406\u89d2\u82722\u7684\u5904\u7406\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ @Override public void handle ( String condition ) { // \u5982\u679c\u662f\u81ea\u5df1\u7684\u8d23\u4efb\uff0c\u5c31\u81ea\u5df1\u5904\u7406\uff0c\u8d1f\u8d23\u4f20\u7ed9\u4e0b\u5bb6\u5904\u7406 if ( \"ConcreteHandler2\" . equals ( condition )) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82722\u7684\u5904\u7406\u65b9\u6cd5handled1...\" ); } else { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82722 \u901a\u8fc7...\" ); nextHandler . handle ( condition ); } } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * \u5177\u4f53\u5904\u7406\u89d2\u8272n. */ public class ConcreteHandlerN extends Handler { /** * \u8fd9\u91cc\u5047\u8bben\u662f\u94fe\u7684\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u5fc5\u987b\u5904\u7406\u6389. * \u5728\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u51fa\u73b0\u73af\uff0c\u6216\u8005\u662f\u6811\u5f62\uff0c\u8fd9\u91cc\u5e76\u4e0d\u4e00\u5b9a\u662f\u6700\u540e\u4e00\u4e2a\u8282\u70b9. * * @param condition \u53c2\u6570\u6761\u4ef6 */ @Override public void handle ( String condition ) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u8272n\u7684\u5904\u7406\u65b9\u6cd5 \u7ed3\u675f...\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff0c\u4ee3\u7801\u8c03\u7528\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /** * \u8d23\u4efb\u8fde\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class ChainClient { /** * \u4e3b\u5165\u53e3\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { Handler handler1 = new ConcreteHandler1 (); Handler handler2 = new ConcreteHandler2 (); Handler handlern = new ConcreteHandlerN (); handler1 . setNextHandler ( handler2 ); handler2 . setNextHandler ( handlern ); //\u5047\u8bbe\u8fd9\u4e2a\u8bf7\u6c42\u662fConcreteHandler2\u7684\u8d23\u4efb handler1 . handle ( \"ConcreteHandler2\" ); } } \u6ce8 \uff1a\u8d23\u4efb\u94fe\u6a21\u5f0f\u5e76\u4e0d\u521b\u5efa\u804c\u8d23\u94fe\uff0c\u804c\u8d23\u94fe\u7684\u521b\u5efa\u5de5\u4f5c\u5fc5\u987b\u7531\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u6765\u5b8c\u6210\uff0c\u4e00\u822c\u7531\u4f7f\u7528\u8be5\u8d23\u4efb\u94fe\u7684\u5ba2\u6237\u7aef\u521b\u5efa\u3002\u804c\u8d23\u94fe\u6a21\u5f0f\u964d\u4f4e\u4e86\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u548c\u8bf7\u6c42\u5904\u7406\u8005\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u4ece\u800c\u4f7f\u5f97\u591a\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\u3002 \u6a21\u5f0f\u5206\u6790 \u00b6 \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u5b9e\u9645\u8f6f\u4ef6\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u9047\u5230\u6709\u591a\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5904\u7406\u540c\u4e00\u8bf7\u6c42\u65f6\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u804c\u8d23\u94fe\u6a21\u5f0f\uff0c\u6700\u5e38\u89c1\u7684\u4f8b\u5b50\u5305\u62ec\u5728 Java Web \u5e94\u7528\u5f00\u53d1\u4e2d\u521b\u5efa\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff08Filter\uff09\u94fe\u6765\u5bf9\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\uff08\u4e2d\u6587\u5b57\u7b26\u4e71\u7801\u7684\u5904\u7406\uff09\u3001\u5728\u5de5\u4f5c\u6d41\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u516c\u6587\u7684\u5206\u7ea7\u5ba1\u6279\u3001\u5728Struts\u5e94\u7528\u4e2d\u6dfb\u52a0\u4e0d\u540c\u7684\u62e6\u622a\u5668(\u5e38\u7528\u7684\u6709\u7c7b\u578b\u8f6c\u5316\u3001\u5f02\u5e38\u5904\u7406\uff0c\u6570\u636e\u6821\u9a8c\u2026)\u4ee5\u589e\u5f3aStruts2\u7684\u529f\u80fd\u7b49\u3002 \u7eaf\u4e0e\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f \u00b6 **\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f**\u8981\u6c42\u4e00\u4e2a\u5177\u4f53\u7684\u5904\u7406\u8005\u5bf9\u8c61\u53ea\u80fd\u5728\u4e24\u4e2a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u4e2a\uff1a\u4e00\u662f\u627f\u62c5\u8d23\u4efb\uff0c\u800c\u662f\u628a\u8d23\u4efb\u63a8\u7ed9\u4e0b\u5bb6\u3002\u4e0d\u5141\u8bb8\u51fa\u73b0\u67d0\u4e00\u4e2a\u5177\u4f53\u5904\u7406\u8005\u5bf9\u8c61\u5728\u627f\u62c5\u4e86\u4e00\u90e8\u5206\u8d23\u4efb\u540e\u53c8\u628a\u8d23\u4efb\u5411\u4e0b\u4f20\u7684\u60c5\u51b5\uff1b \u5728\u7eaf\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\u9762\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u987b\u88ab\u67d0\u4e00\u4e2a\u5904\u7406\u8005\u5bf9\u8c61\u6240\u63a5\u6536\uff1b \u5728\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\u9762\uff0c\u4e00\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u6700\u7ec8\u4e0d\u88ab\u4efb\u4f55\u63a5\u6536\u7aef\u5bf9\u8c61\u6240\u63a5\u6536\u3002 \u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u5b9e\u9645\u4f8b\u5b50\u5f88\u96be\u627e\u5230\uff0c\u4e00\u822c\u770b\u5230\u7684\u4f8b\u5b50\u5747\u662f\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u5b9e\u73b0\u3002 \u4f18\u70b9 \u00b6 \u964d\u4f4e\u8026\u5408\u5ea6\uff0c\u4f7f\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4fbf\u4e8e\u7075\u6d3b\u7684\u3001\u53ef\u63d2\u62d4\u7684\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u8fc7\u7a0b\uff1b \u7b80\u5316\u3001\u5c01\u88c5\u4e86\u8bf7\u6c42\u7684\u5904\u7406\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u5ba2\u6237\u7aef\u800c\u8a00\u662f\u900f\u660e\u7684\uff0c\u4ee5\u4fbf\u4e8e\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u4ee5\u53ca\u5206\u914d\u8d23\u4efb\uff0c\u589e\u5f3a\u8bf7\u6c42\u5904\u7406\u7684\u7075\u6d3b\u6027\uff1b \u53ef\u4ee5\u4ece\u804c\u8d23\u94fe\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u5f00\u59cb\uff0c\u4e5f\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u5185\u90e8\u7684\u8bf7\u6c42\u5904\u7406\u89c4\u5219\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u90fd\u53ef\u4ee5\u53bb\u52a8\u6001\u5730\u6307\u5b9a\u4ed6\u7684\u7ee7\u4efb\u8005\uff1b \u804c\u8d23\u94fe\u53ef\u7b80\u5316\u5bf9\u8c61\u95f4\u7684\u76f8\u4e92\u8fde\u63a5\u3002\u5b83\u4eec\u4ec5\u9700\u4fdd\u6301\u4e00\u4e2a\u6307\u5411\u5176\u540e\u7ee7\u8005\u7684\u5f15\u7528\uff0c\u800c\u4e0d\u9700\u4fdd\u6301\u5b83\u6240\u6709\u7684\u5019\u9009\u63a5\u53d7\u8005\u7684\u5f15\u7528\uff1b \u589e\u52a0\u65b0\u7684\u8bf7\u6c42\u5904\u7406\u7c7b\u5f88\u65b9\u4fbf\u3002 \u7f3a\u70b9 \u00b6 \u4e0d\u80fd\u4fdd\u8bc1\u8bf7\u6c42\u4e00\u5b9a\u88ab\u63a5\u6536\u3002\u65e2\u7136\u4e00\u4e2a\u8bf7\u6c42\u6ca1\u6709\u660e\u786e\u7684\u63a5\u6536\u8005\uff0c\u90a3\u4e48\u5c31\u4e0d\u80fd\u4fdd\u8bc1\u5b83\u4e00\u5b9a\u4f1a\u88ab\u5904\u7406\uff1b \u8be5\u8bf7\u6c42\u53ef\u80fd\u4e00\u76f4\u5230\u94fe\u7684\u672b\u7aef\u90fd\u5f97\u4e0d\u5230\u5904\u7406\u3002\u4e00\u4e2a\u8bf7\u6c42\u4e5f\u53ef\u80fd\u56e0\u8be5\u94fe\u6ca1\u6709\u88ab\u6b63\u786e\u914d\u7f6e\u800c\u5f97\u4e0d\u5230\u5904\u7406\uff1b \u7cfb\u7edf\u6027\u80fd\u5c06\u53d7\u5230\u4e00\u5b9a\u5f71\u54cd\uff0c\u800c\u4e14\u5728\u8fdb\u884c\u4ee3\u7801\u8c03\u8bd5\u65f6\u4e0d\u592a\u65b9\u4fbf\uff1b\u53ef\u80fd\u4f1a\u9020\u6210\u5faa\u73af\u8c03\u7528\u3002 \u603b\u7ed3 \u00b6 \u5728\u804c\u8d23\u94fe\u6a21\u5f0f\u91cc\uff0c\u5f88\u591a\u5bf9\u8c61\u7531\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u5bf9\u5176\u4e0b\u5bb6\u7684\u5f15\u7528\u800c\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u4e00\u6761\u94fe\u3002\u8bf7\u6c42\u5728\u8fd9\u4e2a\u94fe\u4e0a\u4f20\u9012\uff0c\u76f4\u5230\u94fe\u4e0a\u7684\u67d0\u4e00\u4e2a\u5bf9\u8c61\u51b3\u5b9a\u5904\u7406\u6b64\u8bf7\u6c42\u3002\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053\u94fe\u4e0a\u7684\u54ea\u4e00\u4e2a\u5bf9\u8c61\u6700\u7ec8\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u548c\u5206\u914d\u8d23\u4efb\u3002 \u804c\u8d23\u94fe\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff0c\u7b80\u5316\u5bf9\u8c61\u7684\u76f8\u4e92\u8fde\u63a5\uff0c\u540c\u65f6\u589e\u5f3a\u7ed9\u5bf9\u8c61\u6307\u6d3e\u804c\u8d23\u7684\u7075\u6d3b\u6027\uff0c\u589e\u52a0\u65b0\u7684\u8bf7\u6c42\u5904\u7406\u7c7b\u4e5f\u5f88\u65b9\u4fbf\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u4e0d\u80fd\u4fdd\u8bc1\u8bf7\u6c42\u4e00\u5b9a\u88ab\u63a5\u6536\uff0c\u4e14\u5bf9\u4e8e\u6bd4\u8f83\u957f\u7684\u804c\u8d23\u94fe\uff0c\u8bf7\u6c42\u7684\u5904\u7406\u53ef\u80fd\u6d89\u53ca\u5230\u591a\u4e2a\u5904\u7406\u5bf9\u8c61\uff0c\u7cfb\u7edf\u6027\u80fd\u5c06\u53d7\u5230\u4e00\u5b9a\u5f71\u54cd\uff0c\u800c\u4e14\u5728\u8fdb\u884c\u4ee3\u7801\u8c03\u8bd5\u65f6\u4e0d\u592a\u65b9\u4fbf\u3002","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_1","text":"\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u5728\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5904\u7406\u67d0\u4e2a\u8bf7\u6c42\u7684\u5bf9\u8c61\u4e0d\u6b62\u4e00\u4e2a\u3002\u4f8b\u5982\u5ba1\u6279\u5de5\u4f5c\u6d41\u7b49\uff0c\u4ed6\u4eec\u53ef\u4ee5\u6784\u6210\u4e00\u6761\u5904\u7406\u91c7\u8d2d\u5355\u7684\u94fe\u5f0f\u7ed3\u6784\uff0c\u91c7\u8d2d\u5355(\u53ef\u4ee5\u770b\u4f5c\u662f\u8981\u5904\u7406\u7684\u4fe1\u606f)\u6cbf\u7740\u8fd9\u6761\u94fe\u8fdb\u884c\u4f20\u9012\uff0c\u8fd9\u6761\u94fe\u5c31\u79f0\u4e3a\u8d23\u4efb\u94fe\u3002\u8d23\u4efb\u94fe\u53ef\u4ee5\u662f\u4e00\u6761\u76f4\u7ebf\u3001\u4e00\u4e2a\u73af\u6216\u8005\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\uff0c\u6700\u5e38\u89c1\u7684\u804c\u8d23\u94fe\u662f\u76f4\u7ebf\u578b\uff0c\u5373\u6cbf\u7740\u4e00\u6761\u5355\u5411\u7684\u94fe\u6765\u4f20\u9012\u8bf7\u6c42\u3002\u94fe\u4e0a\u7684\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u90fd\u662f\u8bf7\u6c42\u5904\u7406\u8005\uff0c\u8d23\u4efb\u94fe\u6a21\u5f0f\u53ef\u4ee5\u5c06\u8bf7\u6c42\u7684\u5904\u7406\u8005\u7ec4\u7ec7\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u8ba9\u8bf7\u6c42\u6cbf\u7740\u94fe\u4f20\u9012\uff0c\u7531\u94fe\u4e0a\u7684\u5904\u7406\u8005\u5bf9\u8bf7\u6c42\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u65e0\u987b\u5173\u5fc3\u8bf7\u6c42\u7684\u5904\u7406\u7ec6\u8282\u4ee5\u53ca\u8bf7\u6c42\u7684\u4f20\u9012\uff0c\u53ea\u9700\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u94fe\u4e0a\u5373\u53ef\uff0c\u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53d1\u9001\u8005\u548c\u8bf7\u6c42\u5904\u7406\u8005\u89e3\u8026\u3002","title":"\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_2","text":"\u5b9a\u4e49 \uff1a\u8d23\u4efb\u94fe\u6a21\u5f0f( Chain of Responsibility Pattern )\u662f\u4f7f\u591a\u4e2a\u5bf9\u8c61\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8bf7\u6c42\uff0c\u4ece\u800c\u907f\u514d\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u5904\u7406\u8005\u8026\u5408\u5728\u4e00\u8d77\u3002\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u8fde\u63a5\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u4e14\u6cbf\u7740\u8fd9\u6761\u94fe\u4f20\u9012\u8bf7\u6c42\uff0c\u76f4\u5230\u6709\u5bf9\u8c61\u5904\u7406\u5b83\u4e3a\u6b62\u3002\u5b83\u662f\u4e00\u79cd\u5bf9\u8c61\u884c\u4e3a\u578b\u6a21\u5f0f\u3002 \u5b9e\u8d28 \uff1a\u8d23\u4efb\u94fe\u4e0a\u7684\u5904\u7406\u8005\u8d1f\u8d23\u5904\u7406\u8bf7\u6c42\uff0c\u5ba2\u6237\u53ea\u9700\u8981\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u804c\u8d23\u94fe\u4e0a\u5373\u53ef\uff0c\u65e0\u987b\u5173\u5fc3\u8bf7\u6c42\u7684\u5904\u7406\u7ec6\u8282\u548c\u8bf7\u6c42\u7684\u4f20\u9012\uff0c\u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53d1\u9001\u8005\u4e0e\u8bf7\u6c42\u5904\u7406\u8005\u7684\u89e3\u8026\u3002","title":"\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_3","text":"","title":"\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_4","text":"Handler \uff08\u62bd\u8c61\u5904\u7406\u8005\uff09\uff1a\u5904\u7406\u8bf7\u6c42\u7684\u63a5\u53e3\uff0c\u4e00\u822c\u8bbe\u8ba1\u4e3a\u5177\u6709\u62bd\u8c61\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u7684\u62bd\u8c61\u7c7b\uff0c\u4ee5\u4fbf\u4e8e\u4e0d\u540c\u7684\u5177\u4f53\u5904\u7406\u8005\u8fdb\u884c\u7ee7\u627f\uff0c\u4ece\u800c\u5b9e\u73b0\u5177\u4f53\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u7684\u4e0b\u5bb6\u8fd8\u662f\u4e00\u4e2a\u5904\u7406\u8005\uff0c\u56e0\u6b64\u62bd\u8c61\u5904\u7406\u8005\u672c\u8eab\u8fd8\u5305\u542b\u4e86\u4e00\u4e2a\u672c\u8eab\u7684\u5f15\u7528( nextHandler )\u4f5c\u4e3a\u5176\u5bf9\u4e0b\u5bb6\u7684\u5f15\u7528\uff0c\u4ee5\u4fbf\u5c06\u5904\u7406\u8005\u94fe\u6210\u4e00\u6761\u94fe\uff1b ConcreteHandler \uff08\u5177\u4f53\u5904\u7406\u8005\uff09\uff1a\u62bd\u8c61\u5904\u7406\u8005\u7684\u5b50\u7c7b\uff0c\u53ef\u4ee5\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5176\u5b9e\u73b0\u4e86\u62bd\u8c61\u5904\u7406\u8005\u4e2d\u5b9a\u4e49\u7684\u8bf7\u6c42\u5904\u7406\u65b9\u6cd5\u3002\u5728\u5177\u4f53\u5904\u7406\u8bf7\u6c42\u65f6\u9700\u8981\u8fdb\u884c\u5224\u65ad\uff0c\u82e5\u5176\u5177\u6709\u76f8\u5e94\u7684\u5904\u7406\u6743\u9650\uff0c\u90a3\u4e48\u5c31\u5904\u7406\u5b83\uff1b\u5426\u5219\uff0c\u5176\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u540e\u7ee7\u8005\uff0c\u4ee5\u4fbf\u8ba9\u540e\u9762\u7684\u5904\u7406\u8005\u8fdb\u884c\u5904\u7406\u3002 \u5728\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\uff0c\u7531\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u5bf9\u8c61\u5bf9\u5176\u4e0b\u5bb6\u7684\u5f15\u7528\u800c\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u4e00\u6761\u8bf7\u6c42\u5904\u7406\u94fe\u3002\u8bf7\u6c42\u5c06\u5728\u8fd9\u6761\u94fe\u4e0a\u4e00\u76f4\u4f20\u9012\uff0c\u76f4\u5230\u94fe\u4e0a\u7684\u67d0\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u80fd\u591f\u5904\u7406\u6b64\u8bf7\u6c42\u3002 \u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053\u94fe\u4e0a\u7684\u54ea\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u5c06\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u548c\u5206\u914d\u8d23\u4efb \u3002","title":"\u53c2\u4e0e\u89d2\u8272"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#uml","text":"","title":"UML\u7c7b\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_5","text":"\u9996\u5148\uff0c\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u6838\u5fc3\u5728\u4e8e\u5bf9\u8bf7\u6c42\u5904\u7406\u8005\u7684\u62bd\u8c61\u3002\u5728\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\uff0c\u62bd\u8c61\u5904\u7406\u8005\u4e00\u822c\u4f1a\u88ab\u8bbe\u5b9a\u4e3a**\u62bd\u8c61\u7c7b**\uff0c\u5176\u5178\u578b\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * \u8d23\u4efb\u8fde\u6a21\u5f0f\u7684\u62bd\u8c61\u5904\u7406\u8005\u89d2\u8272. */ public abstract class Handler { /** \u540e\u7ee7\u5904\u7406\u8005\u89d2\u8272. */ protected Handler nextHandler ; /** * \u5904\u7406\u8bf7\u6c42\u7684\u62bd\u8c61\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ public abstract void handle ( String condition ); /** * nextHandler\u7684Setter\u65b9\u6cd5. * * @param nextHandler \u540e\u7ee7\u5904\u7406\u5668 */ public void setNextHandler ( Handler nextHandler ) { this . nextHandler = nextHandler ; } } \u5176\u6b21\uff0c\u662f\u82e5\u5e72\u4e2a\u5177\u4f53\u7684\u5904\u7406\u89d2\u8272\u7c7b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u5904\u7406\u89d2\u82721. */ public class ConcreteHandler1 extends Handler { /** * \u5177\u4f53\u5904\u7406\u89d2\u82721\u7684\u5904\u7406\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ @Override public void handle ( String condition ) { // \u5982\u679c\u662f\u81ea\u5df1\u7684\u8d23\u4efb\uff0c\u5c31\u81ea\u5df1\u5904\u7406\uff0c\u8d1f\u8d23\u4f20\u7ed9\u4e0b\u5bb6\u5904\u7406 if ( \"ConcreteHandler1\" . equals ( condition )) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82721\u7684\u5904\u7406\u65b9\u6cd5handled1...\" ); } else { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82721 \u901a\u8fc7...\" ); nextHandler . handle ( condition ); } } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * \u5177\u4f53\u5904\u7406\u89d2\u82722. */ public class ConcreteHandler2 extends Handler { /** * \u5177\u4f53\u5904\u7406\u89d2\u82722\u7684\u5904\u7406\u65b9\u6cd5. * * @param condition \u6761\u4ef6 */ @Override public void handle ( String condition ) { // \u5982\u679c\u662f\u81ea\u5df1\u7684\u8d23\u4efb\uff0c\u5c31\u81ea\u5df1\u5904\u7406\uff0c\u8d1f\u8d23\u4f20\u7ed9\u4e0b\u5bb6\u5904\u7406 if ( \"ConcreteHandler2\" . equals ( condition )) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82722\u7684\u5904\u7406\u65b9\u6cd5handled1...\" ); } else { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u82722 \u901a\u8fc7...\" ); nextHandler . handle ( condition ); } } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * \u5177\u4f53\u5904\u7406\u89d2\u8272n. */ public class ConcreteHandlerN extends Handler { /** * \u8fd9\u91cc\u5047\u8bben\u662f\u94fe\u7684\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u5fc5\u987b\u5904\u7406\u6389. * \u5728\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u51fa\u73b0\u73af\uff0c\u6216\u8005\u662f\u6811\u5f62\uff0c\u8fd9\u91cc\u5e76\u4e0d\u4e00\u5b9a\u662f\u6700\u540e\u4e00\u4e2a\u8282\u70b9. * * @param condition \u53c2\u6570\u6761\u4ef6 */ @Override public void handle ( String condition ) { System . out . println ( \"\u5177\u4f53\u5904\u7406\u89d2\u8272n\u7684\u5904\u7406\u65b9\u6cd5 \u7ed3\u675f...\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff0c\u4ee3\u7801\u8c03\u7528\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /** * \u8d23\u4efb\u8fde\u6a21\u5f0f\u7684\u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class ChainClient { /** * \u4e3b\u5165\u53e3\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { Handler handler1 = new ConcreteHandler1 (); Handler handler2 = new ConcreteHandler2 (); Handler handlern = new ConcreteHandlerN (); handler1 . setNextHandler ( handler2 ); handler2 . setNextHandler ( handlern ); //\u5047\u8bbe\u8fd9\u4e2a\u8bf7\u6c42\u662fConcreteHandler2\u7684\u8d23\u4efb handler1 . handle ( \"ConcreteHandler2\" ); } } \u6ce8 \uff1a\u8d23\u4efb\u94fe\u6a21\u5f0f\u5e76\u4e0d\u521b\u5efa\u804c\u8d23\u94fe\uff0c\u804c\u8d23\u94fe\u7684\u521b\u5efa\u5de5\u4f5c\u5fc5\u987b\u7531\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u6765\u5b8c\u6210\uff0c\u4e00\u822c\u7531\u4f7f\u7528\u8be5\u8d23\u4efb\u94fe\u7684\u5ba2\u6237\u7aef\u521b\u5efa\u3002\u804c\u8d23\u94fe\u6a21\u5f0f\u964d\u4f4e\u4e86\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u548c\u8bf7\u6c42\u5904\u7406\u8005\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u4ece\u800c\u4f7f\u5f97\u591a\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\u3002","title":"\u4ee3\u7801\u793a\u4f8b"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_6","text":"","title":"\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_7","text":"\u5728\u5b9e\u9645\u8f6f\u4ef6\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u9047\u5230\u6709\u591a\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5904\u7406\u540c\u4e00\u8bf7\u6c42\u65f6\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u804c\u8d23\u94fe\u6a21\u5f0f\uff0c\u6700\u5e38\u89c1\u7684\u4f8b\u5b50\u5305\u62ec\u5728 Java Web \u5e94\u7528\u5f00\u53d1\u4e2d\u521b\u5efa\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff08Filter\uff09\u94fe\u6765\u5bf9\u8bf7\u6c42\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\uff08\u4e2d\u6587\u5b57\u7b26\u4e71\u7801\u7684\u5904\u7406\uff09\u3001\u5728\u5de5\u4f5c\u6d41\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u516c\u6587\u7684\u5206\u7ea7\u5ba1\u6279\u3001\u5728Struts\u5e94\u7528\u4e2d\u6dfb\u52a0\u4e0d\u540c\u7684\u62e6\u622a\u5668(\u5e38\u7528\u7684\u6709\u7c7b\u578b\u8f6c\u5316\u3001\u5f02\u5e38\u5904\u7406\uff0c\u6570\u636e\u6821\u9a8c\u2026)\u4ee5\u589e\u5f3aStruts2\u7684\u529f\u80fd\u7b49\u3002","title":"\u4f7f\u7528\u573a\u666f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_8","text":"**\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f**\u8981\u6c42\u4e00\u4e2a\u5177\u4f53\u7684\u5904\u7406\u8005\u5bf9\u8c61\u53ea\u80fd\u5728\u4e24\u4e2a\u884c\u4e3a\u4e2d\u9009\u62e9\u4e00\u4e2a\uff1a\u4e00\u662f\u627f\u62c5\u8d23\u4efb\uff0c\u800c\u662f\u628a\u8d23\u4efb\u63a8\u7ed9\u4e0b\u5bb6\u3002\u4e0d\u5141\u8bb8\u51fa\u73b0\u67d0\u4e00\u4e2a\u5177\u4f53\u5904\u7406\u8005\u5bf9\u8c61\u5728\u627f\u62c5\u4e86\u4e00\u90e8\u5206\u8d23\u4efb\u540e\u53c8\u628a\u8d23\u4efb\u5411\u4e0b\u4f20\u7684\u60c5\u51b5\uff1b \u5728\u7eaf\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\u9762\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u987b\u88ab\u67d0\u4e00\u4e2a\u5904\u7406\u8005\u5bf9\u8c61\u6240\u63a5\u6536\uff1b \u5728\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u91cc\u9762\uff0c\u4e00\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u6700\u7ec8\u4e0d\u88ab\u4efb\u4f55\u63a5\u6536\u7aef\u5bf9\u8c61\u6240\u63a5\u6536\u3002 \u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u5b9e\u9645\u4f8b\u5b50\u5f88\u96be\u627e\u5230\uff0c\u4e00\u822c\u770b\u5230\u7684\u4f8b\u5b50\u5747\u662f\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\u7684\u5b9e\u73b0\u3002","title":"\u7eaf\u4e0e\u4e0d\u7eaf\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_9","text":"\u964d\u4f4e\u8026\u5408\u5ea6\uff0c\u4f7f\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u89e3\u8026\uff0c\u4fbf\u4e8e\u7075\u6d3b\u7684\u3001\u53ef\u63d2\u62d4\u7684\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u8fc7\u7a0b\uff1b \u7b80\u5316\u3001\u5c01\u88c5\u4e86\u8bf7\u6c42\u7684\u5904\u7406\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u5ba2\u6237\u7aef\u800c\u8a00\u662f\u900f\u660e\u7684\uff0c\u4ee5\u4fbf\u4e8e\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u4ee5\u53ca\u5206\u914d\u8d23\u4efb\uff0c\u589e\u5f3a\u8bf7\u6c42\u5904\u7406\u7684\u7075\u6d3b\u6027\uff1b \u53ef\u4ee5\u4ece\u804c\u8d23\u94fe\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u5f00\u59cb\uff0c\u4e5f\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u5185\u90e8\u7684\u8bf7\u6c42\u5904\u7406\u89c4\u5219\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u5904\u7406\u8005\u90fd\u53ef\u4ee5\u53bb\u52a8\u6001\u5730\u6307\u5b9a\u4ed6\u7684\u7ee7\u4efb\u8005\uff1b \u804c\u8d23\u94fe\u53ef\u7b80\u5316\u5bf9\u8c61\u95f4\u7684\u76f8\u4e92\u8fde\u63a5\u3002\u5b83\u4eec\u4ec5\u9700\u4fdd\u6301\u4e00\u4e2a\u6307\u5411\u5176\u540e\u7ee7\u8005\u7684\u5f15\u7528\uff0c\u800c\u4e0d\u9700\u4fdd\u6301\u5b83\u6240\u6709\u7684\u5019\u9009\u63a5\u53d7\u8005\u7684\u5f15\u7528\uff1b \u589e\u52a0\u65b0\u7684\u8bf7\u6c42\u5904\u7406\u7c7b\u5f88\u65b9\u4fbf\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_10","text":"\u4e0d\u80fd\u4fdd\u8bc1\u8bf7\u6c42\u4e00\u5b9a\u88ab\u63a5\u6536\u3002\u65e2\u7136\u4e00\u4e2a\u8bf7\u6c42\u6ca1\u6709\u660e\u786e\u7684\u63a5\u6536\u8005\uff0c\u90a3\u4e48\u5c31\u4e0d\u80fd\u4fdd\u8bc1\u5b83\u4e00\u5b9a\u4f1a\u88ab\u5904\u7406\uff1b \u8be5\u8bf7\u6c42\u53ef\u80fd\u4e00\u76f4\u5230\u94fe\u7684\u672b\u7aef\u90fd\u5f97\u4e0d\u5230\u5904\u7406\u3002\u4e00\u4e2a\u8bf7\u6c42\u4e5f\u53ef\u80fd\u56e0\u8be5\u94fe\u6ca1\u6709\u88ab\u6b63\u786e\u914d\u7f6e\u800c\u5f97\u4e0d\u5230\u5904\u7406\uff1b \u7cfb\u7edf\u6027\u80fd\u5c06\u53d7\u5230\u4e00\u5b9a\u5f71\u54cd\uff0c\u800c\u4e14\u5728\u8fdb\u884c\u4ee3\u7801\u8c03\u8bd5\u65f6\u4e0d\u592a\u65b9\u4fbf\uff1b\u53ef\u80fd\u4f1a\u9020\u6210\u5faa\u73af\u8c03\u7528\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f.html#_11","text":"\u5728\u804c\u8d23\u94fe\u6a21\u5f0f\u91cc\uff0c\u5f88\u591a\u5bf9\u8c61\u7531\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u5bf9\u5176\u4e0b\u5bb6\u7684\u5f15\u7528\u800c\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u4e00\u6761\u94fe\u3002\u8bf7\u6c42\u5728\u8fd9\u4e2a\u94fe\u4e0a\u4f20\u9012\uff0c\u76f4\u5230\u94fe\u4e0a\u7684\u67d0\u4e00\u4e2a\u5bf9\u8c61\u51b3\u5b9a\u5904\u7406\u6b64\u8bf7\u6c42\u3002\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053\u94fe\u4e0a\u7684\u54ea\u4e00\u4e2a\u5bf9\u8c61\u6700\u7ec8\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u5730\u91cd\u65b0\u7ec4\u7ec7\u94fe\u548c\u5206\u914d\u8d23\u4efb\u3002 \u804c\u8d23\u94fe\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u5728\u4e8e\u53ef\u4ee5\u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\uff0c\u7b80\u5316\u5bf9\u8c61\u7684\u76f8\u4e92\u8fde\u63a5\uff0c\u540c\u65f6\u589e\u5f3a\u7ed9\u5bf9\u8c61\u6307\u6d3e\u804c\u8d23\u7684\u7075\u6d3b\u6027\uff0c\u589e\u52a0\u65b0\u7684\u8bf7\u6c42\u5904\u7406\u7c7b\u4e5f\u5f88\u65b9\u4fbf\uff1b\u5176\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u4e0d\u80fd\u4fdd\u8bc1\u8bf7\u6c42\u4e00\u5b9a\u88ab\u63a5\u6536\uff0c\u4e14\u5bf9\u4e8e\u6bd4\u8f83\u957f\u7684\u804c\u8d23\u94fe\uff0c\u8bf7\u6c42\u7684\u5904\u7406\u53ef\u80fd\u6d89\u53ca\u5230\u591a\u4e2a\u5904\u7406\u5bf9\u8c61\uff0c\u7cfb\u7edf\u6027\u80fd\u5c06\u53d7\u5230\u4e00\u5b9a\u5f71\u54cd\uff0c\u800c\u4e14\u5728\u8fdb\u884c\u4ee3\u7801\u8c03\u8bd5\u65f6\u4e0d\u592a\u65b9\u4fbf\u3002","title":"\u603b\u7ed3"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html","text":"\u6a21\u5f0f\u52a8\u673a \u00b6 \u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u91c7\u7528\u7c7b\u4f3c\u4e8e\u7535\u6e90\u9002\u914d\u5668\u7684\u8bbe\u8ba1\u548c\u7f16\u7801\u6280\u5de7\u88ab\u79f0\u4e3a\u9002\u914d\u5668\u6a21\u5f0f\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u76ee\u6807\u7c7b\u7684\u63a5\u53e3\u8bbf\u95ee\u5b83\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u3002\u6709\u65f6\uff0c\u73b0\u6709\u7684\u7c7b\u53ef\u4ee5\u6ee1\u8db3\u5ba2\u6237\u7c7b\u7684\u529f\u80fd\u9700\u8981\uff0c\u4f46\u662f\u5b83\u6240\u63d0\u4f9b\u7684\u63a5\u53e3\u4e0d\u4e00\u5b9a\u662f\u5ba2\u6237\u7c7b\u6240\u671f\u671b\u7684\uff0c\u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u73b0\u6709\u7c7b\u4e2d\u65b9\u6cd5\u540d\u4e0e\u76ee\u6807\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u540d\u4e0d\u4e00\u81f4\u7b49\u539f\u56e0\u6240\u5bfc\u81f4\u7684\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u73b0\u6709\u7684\u63a5\u53e3\u9700\u8981\u8f6c\u5316\u4e3a\u5ba2\u6237\u7c7b\u671f\u671b\u7684\u63a5\u53e3\uff0c\u8fd9\u6837\u4fdd\u8bc1\u4e86\u5bf9\u73b0\u6709\u7c7b\u7684\u91cd\u7528\u3002\u5982\u679c\u4e0d\u8fdb\u884c\u8fd9\u6837\u7684\u8f6c\u5316\uff0c\u5ba2\u6237\u7c7b\u5c31\u4e0d\u80fd\u5229\u7528\u73b0\u6709\u7c7b\u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u53ef\u4ee5\u5b8c\u6210\u8fd9\u6837\u7684\u8f6c\u5316\u3002 \u5728\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5305\u88c5\u7c7b\uff0c\u5305\u88c5\u4e0d\u517c\u5bb9\u63a5\u53e3\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5305\u88c5\u7c7b\u6307\u7684\u5c31\u662f\u9002\u914d\u5668( Adapter )\uff0c\u5b83\u6240\u5305\u88c5\u7684\u5bf9\u8c61\u5c31\u662f\u9002\u914d\u8005( Adaptee )\uff0c\u5373\u88ab\u9002\u914d\u7684\u7c7b\u3002 \u9002\u914d\u5668\u63d0\u4f9b\u5ba2\u6237\u7c7b\u9700\u8981\u7684\u63a5\u53e3\uff0c\u9002\u914d\u5668\u7684\u5b9e\u73b0\u5c31\u662f\u628a\u5ba2\u6237\u7c7b\u7684\u8bf7\u6c42\u8f6c\u5316\u4e3a\u5bf9\u9002\u914d\u8005\u7684\u76f8\u5e94\u63a5\u53e3\u7684\u8c03\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u5f53\u5ba2\u6237\u7c7b\u8c03\u7528\u9002\u914d\u5668\u7684\u65b9\u6cd5\u65f6\uff0c\u5728\u9002\u914d\u5668\u7c7b\u7684\u5185\u90e8\u5c06\u8c03\u7528\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u5ba2\u6237\u7c7b\u662f\u900f\u660e\u7684\uff0c\u5ba2\u6237\u7c7b\u5e76\u4e0d\u76f4\u63a5\u8bbf\u95ee\u9002\u914d\u8005\u7c7b\u3002\u56e0\u6b64\uff0c\u9002\u914d\u5668\u53ef\u4ee5\u4f7f\u7531\u4e8e\u63a5\u53e3\u4e0d\u517c\u5bb9\u800c\u4e0d\u80fd\u4ea4\u4e92\u7684\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\u3002\u8fd9\u5c31\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002 \u6a21\u5f0f\u5b9a\u4e49 \u00b6 \u9002\u914d\u5668\u6a21\u5f0f ( Adapter Pattern ) \uff1a\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u5176\u522b\u540d\u4e3a\u5305\u88c5\u5668( Wrapper )\u3002\u9002\u914d\u5668\u6a21\u5f0f\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002\u9002\u914d\u5668\u6a21\u5f0f\u662f\u4e00\u79cd**\u7ed3\u6784\u578b\u6a21\u5f0f**\u3002 \u6a21\u5f0f\u7ed3\u6784 \u00b6 \u53c2\u4e0e\u89d2\u8272 \u00b6 \u9002\u914d\u5668\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Target \uff1a\u76ee\u6807\u62bd\u8c61\u7c7b Adapter \uff1a\u9002\u914d\u5668\u7c7b Adaptee \uff1a\u9002\u914d\u8005\u7c7b Client \uff1a\u5ba2\u6237\u7c7b UML \u7c7b\u56fe \u00b6 \u4ee3\u7801\u793a\u4f8b \u00b6 \u9996\u5148\uff0c\u662f\u76ee\u6807\u89d2\u8272\u63a5\u53e3\u548c\u5177\u4f53\u76ee\u6807\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * Target \u76ee\u6807\u89d2\u8272\u7c7b. */ public interface Target { /** * \u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ void request (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u7684\u76ee\u6807\u89d2\u8272\u5b9e\u73b0\u7c7b. */ public class ConcreteTarget implements Target { /** * \u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ @Override public void request () { System . out . println ( \"hello, I'm concrete target method.\" ); } } \u5176\u6b21\uff0c\u662f\u9002\u914d\u8005\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u9002\u914d\u8005\u7c7b. */ public class Adaptee { /** * \u8fd9\u662f\u539f\u6709\u7684\u4e1a\u52a1\u903b\u8f91\u65b9\u6cd5. */ public void doSomething () { System . out . println ( \"Hello, I'm Adaptee method.\" ); } } \u7136\u540e\uff0c\u662f\u9002\u914d\u5668\u89d2\u8272\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u9002\u914d\u5668\u7c7b. */ public class Adapter extends Adaptee implements Target { /** * \u9002\u914d\u4e86\u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ @Override public void request () { super . doSomething (); System . out . println ( \"\u9002\u914d\u5668\u9002\u914d\u4e86\u76ee\u6807\u89d2\u8272\u65b9\u6cd5.\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class Client { /** * main\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { // \u539f\u6709\u4e1a\u52a1\u903b\u8f91. Target target = new ConcreteTarget (); target . request (); // \u589e\u52a0\u4e86\u9002\u914d\u5668\u89d2\u8272\u540e\u7684\u4e1a\u52a1\u903b\u8f91. Target adaptTarget = new Adapter (); adaptTarget . request (); } } \u6a21\u5f0f\u5206\u6790 \u00b6 \u9002\u7528\u73af\u5883 \u00b6 \u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\uff1a \u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u73b0\u6709\u7684\u7c7b\uff0c\u800c\u8fd9\u4e9b\u7c7b\u7684\u63a5\u53e3\u4e0d\u7b26\u5408\u7cfb\u7edf\u7684\u9700\u8981\u3002 \u60f3\u8981\u5efa\u7acb\u4e00\u4e2a\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u7684\u7c7b\uff0c\u7528\u4e8e\u4e0e\u4e00\u4e9b\u5f7c\u6b64\u4e4b\u95f4\u6ca1\u6709\u592a\u5927\u5173\u8054\u7684\u4e00\u4e9b\u7c7b\uff0c\u5305\u62ec\u4e00\u4e9b\u53ef\u80fd\u5728\u5c06\u6765\u5f15\u8fdb\u7684\u7c7b\u4e00\u8d77\u5de5\u4f5c\u3002 \u4f18\u70b9 \u00b6 \u5c06\u76ee\u6807\u7c7b\u548c\u9002\u914d\u8005\u7c7b\u89e3\u8026\uff0c\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\u6765\u91cd\u7528\u73b0\u6709\u7684\u9002\u914d\u8005\u7c7b\uff0c\u800c\u65e0\u987b\u4fee\u6539\u539f\u6709\u4ee3\u7801\u3002 \u589e\u52a0\u4e86\u7c7b\u7684\u900f\u660e\u6027\u548c\u590d\u7528\u6027\uff0c\u5c06\u5177\u4f53\u7684\u5b9e\u73b0\u5c01\u88c5\u5728\u9002\u914d\u8005\u7c7b\u4e2d\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\u7c7b\u6765\u8bf4\u662f\u900f\u660e\u7684\uff0c\u800c\u4e14\u63d0\u9ad8\u4e86\u9002\u914d\u8005\u7684\u590d\u7528\u6027\u3002 \u7075\u6d3b\u6027\u548c\u6269\u5c55\u6027\u90fd\u975e\u5e38\u597d\uff0c\u901a\u8fc7\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66f4\u6362\u9002\u914d\u5668\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u6709\u4ee3\u7801\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u65b0\u7684\u9002\u914d\u5668\u7c7b\uff0c\u5b8c\u5168\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002 \u7f3a\u70b9 \u00b6 \u5982\u679c\u4e00\u5b9a\u8981\u7f6e\u6362\u6389\u9002\u914d\u8005\u7c7b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u65b9\u6cd5\uff0c\u5c31\u53ea\u597d\u5148\u505a\u4e00\u4e2a\u9002\u914d\u8005\u7c7b\u7684\u5b50\u7c7b\uff0c\u5c06\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\u7f6e\u6362\u6389\uff0c\u7136\u540e\u518d\u628a\u9002\u914d\u8005\u7c7b\u7684\u5b50\u7c7b\u5f53\u505a\u771f\u6b63\u7684\u9002\u914d\u8005\u8fdb\u884c\u9002\u914d\uff0c\u5b9e\u73b0\u8fc7\u7a0b\u8f83\u4e3a\u590d\u6742\u3002 \u6a21\u5f0f\u5e94\u7528 \u00b6 Sun \u516c\u53f8\u5728 1996 \u5e74\u516c\u5f00\u4e86 Java \u8bed\u8a00\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5de5\u5177 JDBC\uff0cJDBC \u4f7f\u5f97 Java \u8bed\u8a00\u7a0b\u5e8f\u80fd\u591f\u4e0e\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5e76\u4f7f\u7528 SQL \u8bed\u8a00\u6765\u67e5\u8be2\u548c\u64cd\u4f5c\u6570\u636e\u3002JDBC \u7ed9\u51fa\u4e00\u4e2a\u5ba2\u6237\u7aef\u901a\u7528\u7684\u62bd\u8c61\u63a5\u53e3\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u6570\u636e\u5e93\u5f15\u64ce\uff08\u5982 SQL Server\u3001Oracle\u3001MySQL \u7b49\uff09\u7684 JDBC \u9a71\u52a8\u8f6f\u4ef6\u90fd\u662f\u4e00\u4e2a\u4ecb\u4e8e JDBC \u63a5\u53e3\u548c\u6570\u636e\u5e93\u5f15\u64ce\u63a5\u53e3\u4e4b\u95f4\u7684\u9002\u914d\u5668\u8f6f\u4ef6\u3002\u62bd\u8c61\u7684 JDBC \u63a5\u53e3\u548c\u5404\u4e2a\u6570\u636e\u5e93\u5f15\u64ce API \u4e4b\u95f4\u90fd\u9700\u8981\u76f8\u5e94\u7684\u9002\u914d\u5668\u8f6f\u4ef6\uff0c\u8fd9\u5c31\u662f\u4e3a\u5404\u4e2a\u4e0d\u540c\u6570\u636e\u5e93\u5f15\u64ce\u51c6\u5907\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002 \u603b\u7ed3 \u00b6 \u7ed3\u6784\u578b\u6a21\u5f0f\u63cf\u8ff0\u5982\u4f55\u5c06\u7c7b\u6216\u8005\u5bf9\u8c61\u7ed3\u5408\u5728\u4e00\u8d77\u5f62\u6210\u66f4\u5927\u7684\u7ed3\u6784\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u7528\u4e8e\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u5176\u522b\u540d\u4e3a\u5305\u88c5\u5668\u3002\u9002\u914d\u5668\u6a21\u5f0f\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u76ee\u6807\u62bd\u8c61\u7c7b\u5b9a\u4e49\u5ba2\u6237\u8981\u7528\u7684\u7279\u5b9a\u9886\u57df\u7684\u63a5\u53e3\uff1b\u9002\u914d\u5668\u7c7b\u53ef\u4ee5\u8c03\u7528\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u8f6c\u6362\u5668\uff0c\u5bf9\u9002\u914d\u8005\u548c\u62bd\u8c61\u76ee\u6807\u7c7b\u8fdb\u884c\u9002\u914d\uff0c\u5b83\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u6838\u5fc3\uff1b\u9002\u914d\u8005\u7c7b\u662f\u88ab\u9002\u914d\u7684\u89d2\u8272\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u9700\u8981\u9002\u914d\uff1b\u5728\u5ba2\u6237\u7c7b\u4e2d\u9488\u5bf9\u76ee\u6807\u62bd\u8c61\u7c7b\u8fdb\u884c\u7f16\u7a0b\uff0c\u8c03\u7528\u5728\u76ee\u6807\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002 \u5728\u7c7b\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\uff0c\u9002\u914d\u5668\u7c7b\u5b9e\u73b0\u4e86\u76ee\u6807\u62bd\u8c61\u7c7b\u63a5\u53e3\u5e76\u7ee7\u627f\u4e86\u9002\u914d\u8005\u7c7b\uff0c\u5e76\u5728\u76ee\u6807\u62bd\u8c61\u7c7b\u7684\u5b9e\u73b0\u65b9\u6cd5\u4e2d\u8c03\u7528\u6240\u7ee7\u627f\u7684\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\uff1b\u5728\u5bf9\u8c61\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\uff0c\u9002\u914d\u5668\u7c7b\u7ee7\u627f\u4e86\u76ee\u6807\u62bd\u8c61\u7c7b\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9002\u914d\u8005\u7c7b\u7684\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5728\u6240\u7ee7\u627f\u7684\u76ee\u6807\u62bd\u8c61\u7c7b\u65b9\u6cd5\u4e2d\u8c03\u7528\u9002\u914d\u8005\u7c7b\u7684\u76f8\u5e94\u4e1a\u52a1\u65b9\u6cd5\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5c06\u76ee\u6807\u7c7b\u548c\u9002\u914d\u8005\u7c7b\u89e3\u8026\uff0c\u589e\u52a0\u4e86\u7c7b\u7684\u900f\u660e\u6027\u548c\u590d\u7528\u6027\uff0c\u540c\u65f6\u7cfb\u7edf\u7684\u7075\u6d3b\u6027\u548c\u6269\u5c55\u6027\u90fd\u975e\u5e38\u597d\uff0c\u66f4\u6362\u9002\u914d\u5668\u6216\u8005\u589e\u52a0\u65b0\u7684\u9002\u914d\u5668\u90fd\u975e\u5e38\u65b9\u4fbf\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff1b\u7c7b\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7f3a\u70b9\u662f\u9002\u914d\u5668\u7c7b\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4e0d\u80fd\u540c\u65f6\u9002\u914d\u591a\u4e2a\u9002\u914d\u8005\u7c7b\uff0c\u5bf9\u8c61\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7f3a\u70b9\u662f\u5f88\u96be\u7f6e\u6362\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u73b0\u6709\u7684\u7c7b\uff0c\u800c\u8fd9\u4e9b\u7c7b\u7684\u63a5\u53e3\u4e0d\u7b26\u5408\u7cfb\u7edf\u7684\u9700\u8981\uff1b\u60f3\u8981\u5efa\u7acb\u4e00\u4e2a\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u7684\u7c7b\uff0c\u7528\u4e8e\u4e0e\u4e00\u4e9b\u5f7c\u6b64\u4e4b\u95f4\u6ca1\u6709\u592a\u5927\u5173\u8054\u7684\u4e00\u4e9b\u7c7b\u4e00\u8d77\u5de5\u4f5c\u3002 \u53c2\u8003\u81ea\uff1a \u9002\u914d\u5668\u6a21\u5f0f","title":"Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_1","text":"\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u91c7\u7528\u7c7b\u4f3c\u4e8e\u7535\u6e90\u9002\u914d\u5668\u7684\u8bbe\u8ba1\u548c\u7f16\u7801\u6280\u5de7\u88ab\u79f0\u4e3a\u9002\u914d\u5668\u6a21\u5f0f\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u76ee\u6807\u7c7b\u7684\u63a5\u53e3\u8bbf\u95ee\u5b83\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u3002\u6709\u65f6\uff0c\u73b0\u6709\u7684\u7c7b\u53ef\u4ee5\u6ee1\u8db3\u5ba2\u6237\u7c7b\u7684\u529f\u80fd\u9700\u8981\uff0c\u4f46\u662f\u5b83\u6240\u63d0\u4f9b\u7684\u63a5\u53e3\u4e0d\u4e00\u5b9a\u662f\u5ba2\u6237\u7c7b\u6240\u671f\u671b\u7684\uff0c\u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u73b0\u6709\u7c7b\u4e2d\u65b9\u6cd5\u540d\u4e0e\u76ee\u6807\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u540d\u4e0d\u4e00\u81f4\u7b49\u539f\u56e0\u6240\u5bfc\u81f4\u7684\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u73b0\u6709\u7684\u63a5\u53e3\u9700\u8981\u8f6c\u5316\u4e3a\u5ba2\u6237\u7c7b\u671f\u671b\u7684\u63a5\u53e3\uff0c\u8fd9\u6837\u4fdd\u8bc1\u4e86\u5bf9\u73b0\u6709\u7c7b\u7684\u91cd\u7528\u3002\u5982\u679c\u4e0d\u8fdb\u884c\u8fd9\u6837\u7684\u8f6c\u5316\uff0c\u5ba2\u6237\u7c7b\u5c31\u4e0d\u80fd\u5229\u7528\u73b0\u6709\u7c7b\u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u53ef\u4ee5\u5b8c\u6210\u8fd9\u6837\u7684\u8f6c\u5316\u3002 \u5728\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5305\u88c5\u7c7b\uff0c\u5305\u88c5\u4e0d\u517c\u5bb9\u63a5\u53e3\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5305\u88c5\u7c7b\u6307\u7684\u5c31\u662f\u9002\u914d\u5668( Adapter )\uff0c\u5b83\u6240\u5305\u88c5\u7684\u5bf9\u8c61\u5c31\u662f\u9002\u914d\u8005( Adaptee )\uff0c\u5373\u88ab\u9002\u914d\u7684\u7c7b\u3002 \u9002\u914d\u5668\u63d0\u4f9b\u5ba2\u6237\u7c7b\u9700\u8981\u7684\u63a5\u53e3\uff0c\u9002\u914d\u5668\u7684\u5b9e\u73b0\u5c31\u662f\u628a\u5ba2\u6237\u7c7b\u7684\u8bf7\u6c42\u8f6c\u5316\u4e3a\u5bf9\u9002\u914d\u8005\u7684\u76f8\u5e94\u63a5\u53e3\u7684\u8c03\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u5f53\u5ba2\u6237\u7c7b\u8c03\u7528\u9002\u914d\u5668\u7684\u65b9\u6cd5\u65f6\uff0c\u5728\u9002\u914d\u5668\u7c7b\u7684\u5185\u90e8\u5c06\u8c03\u7528\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u5ba2\u6237\u7c7b\u662f\u900f\u660e\u7684\uff0c\u5ba2\u6237\u7c7b\u5e76\u4e0d\u76f4\u63a5\u8bbf\u95ee\u9002\u914d\u8005\u7c7b\u3002\u56e0\u6b64\uff0c\u9002\u914d\u5668\u53ef\u4ee5\u4f7f\u7531\u4e8e\u63a5\u53e3\u4e0d\u517c\u5bb9\u800c\u4e0d\u80fd\u4ea4\u4e92\u7684\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\u3002\u8fd9\u5c31\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002","title":"\u6a21\u5f0f\u52a8\u673a"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_2","text":"\u9002\u914d\u5668\u6a21\u5f0f ( Adapter Pattern ) \uff1a\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u5176\u522b\u540d\u4e3a\u5305\u88c5\u5668( Wrapper )\u3002\u9002\u914d\u5668\u6a21\u5f0f\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002\u9002\u914d\u5668\u6a21\u5f0f\u662f\u4e00\u79cd**\u7ed3\u6784\u578b\u6a21\u5f0f**\u3002","title":"\u6a21\u5f0f\u5b9a\u4e49"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_3","text":"","title":"\u6a21\u5f0f\u7ed3\u6784"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_4","text":"\u9002\u914d\u5668\u6a21\u5f0f\u5305\u542b\u5982\u4e0b\u89d2\u8272\uff1a Target \uff1a\u76ee\u6807\u62bd\u8c61\u7c7b Adapter \uff1a\u9002\u914d\u5668\u7c7b Adaptee \uff1a\u9002\u914d\u8005\u7c7b Client \uff1a\u5ba2\u6237\u7c7b","title":"\u53c2\u4e0e\u89d2\u8272"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#uml","text":"","title":"UML \u7c7b\u56fe"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_5","text":"\u9996\u5148\uff0c\u662f\u76ee\u6807\u89d2\u8272\u63a5\u53e3\u548c\u5177\u4f53\u76ee\u6807\u5b9e\u73b0\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 /** * Target \u76ee\u6807\u89d2\u8272\u7c7b. */ public interface Target { /** * \u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ void request (); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * \u5177\u4f53\u7684\u76ee\u6807\u89d2\u8272\u5b9e\u73b0\u7c7b. */ public class ConcreteTarget implements Target { /** * \u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ @Override public void request () { System . out . println ( \"hello, I'm concrete target method.\" ); } } \u5176\u6b21\uff0c\u662f\u9002\u914d\u8005\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * \u9002\u914d\u8005\u7c7b. */ public class Adaptee { /** * \u8fd9\u662f\u539f\u6709\u7684\u4e1a\u52a1\u903b\u8f91\u65b9\u6cd5. */ public void doSomething () { System . out . println ( \"Hello, I'm Adaptee method.\" ); } } \u7136\u540e\uff0c\u662f\u9002\u914d\u5668\u89d2\u8272\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * \u9002\u914d\u5668\u7c7b. */ public class Adapter extends Adaptee implements Target { /** * \u9002\u914d\u4e86\u76ee\u6807\u89d2\u8272\u81ea\u5df1\u7684\u65b9\u6cd5. */ @Override public void request () { super . doSomething (); System . out . println ( \"\u9002\u914d\u5668\u9002\u914d\u4e86\u76ee\u6807\u89d2\u8272\u65b9\u6cd5.\" ); } } \u6700\u540e\uff0c\u662f\u5ba2\u6237\u7aef\u573a\u666f\u7c7b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * \u5ba2\u6237\u7aef\u573a\u666f\u7c7b. */ public class Client { /** * main\u65b9\u6cd5. * * @param args \u6570\u7ec4\u53c2\u6570 */ public static void main ( String [] args ) { // \u539f\u6709\u4e1a\u52a1\u903b\u8f91. Target target = new ConcreteTarget (); target . request (); // \u589e\u52a0\u4e86\u9002\u914d\u5668\u89d2\u8272\u540e\u7684\u4e1a\u52a1\u903b\u8f91. Target adaptTarget = new Adapter (); adaptTarget . request (); } }","title":"\u4ee3\u7801\u793a\u4f8b"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_6","text":"","title":"\u6a21\u5f0f\u5206\u6790"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_7","text":"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\uff1a \u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u73b0\u6709\u7684\u7c7b\uff0c\u800c\u8fd9\u4e9b\u7c7b\u7684\u63a5\u53e3\u4e0d\u7b26\u5408\u7cfb\u7edf\u7684\u9700\u8981\u3002 \u60f3\u8981\u5efa\u7acb\u4e00\u4e2a\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u7684\u7c7b\uff0c\u7528\u4e8e\u4e0e\u4e00\u4e9b\u5f7c\u6b64\u4e4b\u95f4\u6ca1\u6709\u592a\u5927\u5173\u8054\u7684\u4e00\u4e9b\u7c7b\uff0c\u5305\u62ec\u4e00\u4e9b\u53ef\u80fd\u5728\u5c06\u6765\u5f15\u8fdb\u7684\u7c7b\u4e00\u8d77\u5de5\u4f5c\u3002","title":"\u9002\u7528\u73af\u5883"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_8","text":"\u5c06\u76ee\u6807\u7c7b\u548c\u9002\u914d\u8005\u7c7b\u89e3\u8026\uff0c\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\u6765\u91cd\u7528\u73b0\u6709\u7684\u9002\u914d\u8005\u7c7b\uff0c\u800c\u65e0\u987b\u4fee\u6539\u539f\u6709\u4ee3\u7801\u3002 \u589e\u52a0\u4e86\u7c7b\u7684\u900f\u660e\u6027\u548c\u590d\u7528\u6027\uff0c\u5c06\u5177\u4f53\u7684\u5b9e\u73b0\u5c01\u88c5\u5728\u9002\u914d\u8005\u7c7b\u4e2d\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\u7c7b\u6765\u8bf4\u662f\u900f\u660e\u7684\uff0c\u800c\u4e14\u63d0\u9ad8\u4e86\u9002\u914d\u8005\u7684\u590d\u7528\u6027\u3002 \u7075\u6d3b\u6027\u548c\u6269\u5c55\u6027\u90fd\u975e\u5e38\u597d\uff0c\u901a\u8fc7\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u66f4\u6362\u9002\u914d\u5668\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u6709\u4ee3\u7801\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u65b0\u7684\u9002\u914d\u5668\u7c7b\uff0c\u5b8c\u5168\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002","title":"\u4f18\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_9","text":"\u5982\u679c\u4e00\u5b9a\u8981\u7f6e\u6362\u6389\u9002\u914d\u8005\u7c7b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u65b9\u6cd5\uff0c\u5c31\u53ea\u597d\u5148\u505a\u4e00\u4e2a\u9002\u914d\u8005\u7c7b\u7684\u5b50\u7c7b\uff0c\u5c06\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\u7f6e\u6362\u6389\uff0c\u7136\u540e\u518d\u628a\u9002\u914d\u8005\u7c7b\u7684\u5b50\u7c7b\u5f53\u505a\u771f\u6b63\u7684\u9002\u914d\u8005\u8fdb\u884c\u9002\u914d\uff0c\u5b9e\u73b0\u8fc7\u7a0b\u8f83\u4e3a\u590d\u6742\u3002","title":"\u7f3a\u70b9"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_10","text":"Sun \u516c\u53f8\u5728 1996 \u5e74\u516c\u5f00\u4e86 Java \u8bed\u8a00\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5de5\u5177 JDBC\uff0cJDBC \u4f7f\u5f97 Java \u8bed\u8a00\u7a0b\u5e8f\u80fd\u591f\u4e0e\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5e76\u4f7f\u7528 SQL \u8bed\u8a00\u6765\u67e5\u8be2\u548c\u64cd\u4f5c\u6570\u636e\u3002JDBC \u7ed9\u51fa\u4e00\u4e2a\u5ba2\u6237\u7aef\u901a\u7528\u7684\u62bd\u8c61\u63a5\u53e3\uff0c\u6bcf\u4e00\u4e2a\u5177\u4f53\u6570\u636e\u5e93\u5f15\u64ce\uff08\u5982 SQL Server\u3001Oracle\u3001MySQL \u7b49\uff09\u7684 JDBC \u9a71\u52a8\u8f6f\u4ef6\u90fd\u662f\u4e00\u4e2a\u4ecb\u4e8e JDBC \u63a5\u53e3\u548c\u6570\u636e\u5e93\u5f15\u64ce\u63a5\u53e3\u4e4b\u95f4\u7684\u9002\u914d\u5668\u8f6f\u4ef6\u3002\u62bd\u8c61\u7684 JDBC \u63a5\u53e3\u548c\u5404\u4e2a\u6570\u636e\u5e93\u5f15\u64ce API \u4e4b\u95f4\u90fd\u9700\u8981\u76f8\u5e94\u7684\u9002\u914d\u5668\u8f6f\u4ef6\uff0c\u8fd9\u5c31\u662f\u4e3a\u5404\u4e2a\u4e0d\u540c\u6570\u636e\u5e93\u5f15\u64ce\u51c6\u5907\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002","title":"\u6a21\u5f0f\u5e94\u7528"},{"location":"JAVA\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u6a21\u5f0f/Java\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e4b\u9002\u914d\u5668\u6a21\u5f0f.html#_11","text":"\u7ed3\u6784\u578b\u6a21\u5f0f\u63cf\u8ff0\u5982\u4f55\u5c06\u7c7b\u6216\u8005\u5bf9\u8c61\u7ed3\u5408\u5728\u4e00\u8d77\u5f62\u6210\u66f4\u5927\u7684\u7ed3\u6784\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u7528\u4e8e\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u90a3\u4e9b\u7c7b\u53ef\u4ee5\u4e00\u8d77\u5de5\u4f5c\uff0c\u5176\u522b\u540d\u4e3a\u5305\u88c5\u5668\u3002\u9002\u914d\u5668\u6a21\u5f0f\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5bf9\u8c61\u7ed3\u6784\u578b\u6a21\u5f0f\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u5305\u542b\u56db\u4e2a\u89d2\u8272\uff1a\u76ee\u6807\u62bd\u8c61\u7c7b\u5b9a\u4e49\u5ba2\u6237\u8981\u7528\u7684\u7279\u5b9a\u9886\u57df\u7684\u63a5\u53e3\uff1b\u9002\u914d\u5668\u7c7b\u53ef\u4ee5\u8c03\u7528\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u8f6c\u6362\u5668\uff0c\u5bf9\u9002\u914d\u8005\u548c\u62bd\u8c61\u76ee\u6807\u7c7b\u8fdb\u884c\u9002\u914d\uff0c\u5b83\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u6838\u5fc3\uff1b\u9002\u914d\u8005\u7c7b\u662f\u88ab\u9002\u914d\u7684\u89d2\u8272\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u9700\u8981\u9002\u914d\uff1b\u5728\u5ba2\u6237\u7c7b\u4e2d\u9488\u5bf9\u76ee\u6807\u62bd\u8c61\u7c7b\u8fdb\u884c\u7f16\u7a0b\uff0c\u8c03\u7528\u5728\u76ee\u6807\u62bd\u8c61\u7c7b\u4e2d\u5b9a\u4e49\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002 \u5728\u7c7b\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\uff0c\u9002\u914d\u5668\u7c7b\u5b9e\u73b0\u4e86\u76ee\u6807\u62bd\u8c61\u7c7b\u63a5\u53e3\u5e76\u7ee7\u627f\u4e86\u9002\u914d\u8005\u7c7b\uff0c\u5e76\u5728\u76ee\u6807\u62bd\u8c61\u7c7b\u7684\u5b9e\u73b0\u65b9\u6cd5\u4e2d\u8c03\u7528\u6240\u7ee7\u627f\u7684\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\uff1b\u5728\u5bf9\u8c61\u9002\u914d\u5668\u6a21\u5f0f\u4e2d\uff0c\u9002\u914d\u5668\u7c7b\u7ee7\u627f\u4e86\u76ee\u6807\u62bd\u8c61\u7c7b\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9002\u914d\u8005\u7c7b\u7684\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5728\u6240\u7ee7\u627f\u7684\u76ee\u6807\u62bd\u8c61\u7c7b\u65b9\u6cd5\u4e2d\u8c03\u7528\u9002\u914d\u8005\u7c7b\u7684\u76f8\u5e94\u4e1a\u52a1\u65b9\u6cd5\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5c06\u76ee\u6807\u7c7b\u548c\u9002\u914d\u8005\u7c7b\u89e3\u8026\uff0c\u589e\u52a0\u4e86\u7c7b\u7684\u900f\u660e\u6027\u548c\u590d\u7528\u6027\uff0c\u540c\u65f6\u7cfb\u7edf\u7684\u7075\u6d3b\u6027\u548c\u6269\u5c55\u6027\u90fd\u975e\u5e38\u597d\uff0c\u66f4\u6362\u9002\u914d\u5668\u6216\u8005\u589e\u52a0\u65b0\u7684\u9002\u914d\u5668\u90fd\u975e\u5e38\u65b9\u4fbf\uff0c\u7b26\u5408\u201c\u5f00\u95ed\u539f\u5219\u201d\uff1b\u7c7b\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7f3a\u70b9\u662f\u9002\u914d\u5668\u7c7b\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4e0d\u80fd\u540c\u65f6\u9002\u914d\u591a\u4e2a\u9002\u914d\u8005\u7c7b\uff0c\u5bf9\u8c61\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7f3a\u70b9\u662f\u5f88\u96be\u7f6e\u6362\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\u3002 \u9002\u914d\u5668\u6a21\u5f0f\u9002\u7528\u60c5\u51b5\u5305\u62ec\uff1a\u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u73b0\u6709\u7684\u7c7b\uff0c\u800c\u8fd9\u4e9b\u7c7b\u7684\u63a5\u53e3\u4e0d\u7b26\u5408\u7cfb\u7edf\u7684\u9700\u8981\uff1b\u60f3\u8981\u5efa\u7acb\u4e00\u4e2a\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u7684\u7c7b\uff0c\u7528\u4e8e\u4e0e\u4e00\u4e9b\u5f7c\u6b64\u4e4b\u95f4\u6ca1\u6709\u592a\u5927\u5173\u8054\u7684\u4e00\u4e9b\u7c7b\u4e00\u8d77\u5de5\u4f5c\u3002 \u53c2\u8003\u81ea\uff1a \u9002\u914d\u5668\u6a21\u5f0f","title":"\u603b\u7ed3"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html","text":"\u4e00\u3001Electron \u7b80\u4ecb \u00b6 Electron \u662f\u7531Github\u5f00\u53d1\uff0c\u7528HTML\uff0cCSS\u548cJavaScript\u6765\u6784\u5efa\u8de8\u5e73\u53f0\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u4e00\u4e2a\u5f00\u6e90\u5e93\u3002 Electron\u901a\u8fc7\u5c06 Chromium \u548c Node.js \u5408\u5e76\u5230\u540c\u4e00\u4e2a\u8fd0\u884c\u65f6\u73af\u5883\u4e2d\uff0c\u5e76\u5c06\u5176\u6253\u5305\u4e3aMac\uff0cWindows\u548cLinux\u7cfb\u7edf\u4e0b\u7684\u5e94\u7528\u6765\u5b9e\u73b0\u8fd9\u4e00\u76ee\u7684\u3002 \u6700\u521d\u4e3a GitHub \u5f00\u53d1 Atom \u7f16\u8f91\u5668, \u76ee\u524d\u5df2\u6210\u4e3a\u5f00\u6e90\u5f00\u53d1\u8005\u3001\u521d\u521b\u4f01\u4e1a\u548c\u8001\u724c\u516c\u53f8\u5e38\u7528\u7684\u5f00\u53d1\u5de5\u5177\u3002 \u770b\u770b\u8c01\u5728\u4f7f\u7528Electron \u3002 Electron \u53d1\u5c55\u5386\u7a0b \u00b6 2013\u5e744\u6708 Atom Shell \u9879\u76ee\u542f\u52a8 \u3002 2014\u5e745\u6708 Atom Shell \u88ab\u5f00\u6e90 \u3002 2015\u5e744\u6708 Atom Shell \u88ab\u91cd\u547d\u540d\u4e3a Electron \u3002 2016\u5e745\u6708 Electron \u53d1\u5e03\u4e86 v1.0.0 \u7248\u672c \u3002 2016\u5e745\u6708 Electron \u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4e0a\u67b6 Mac App Store \u3002 2016\u5e748\u6708 Windows Store \u652f\u6301 Electron \u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f \u3002 \u4e8c\u3001\u73af\u5883\u642d\u5efa \u00b6 1. \u5b89\u88c5 electron 1 npm install -g electron 2. \u514b\u9686\u4e00\u4e2a\u4ed3\u5e93\u3001\u5feb\u901f\u542f\u52a8\u4e00\u4e2a\u9879\u76ee 1 2 3 4 5 6 7 8 # \u514b\u9686\u793a\u4f8b\u9879\u76ee\u7684\u4ed3\u5e93 git clone https://github.com/electron/electron-quick-start # \u8fdb\u5165\u8fd9\u4e2a\u4ed3\u5e93 cd electron-quick-start # \u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c npm install && npm start 3. \u624b\u52a8\u642d\u5efa\u4e00\u4e2a electron \u9879\u76ee \u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55 \u4f8b\u5982: electrondemo01 \u5728 electrondemo01 \u76ee\u5f55\u4e0b\u9762\u65b0\u5efa\u4e09\u4e2a\u6587\u4ef6: index.html \u3001 main.js \u3001 package.json index.html \u91cc\u9762\u7528 css \u8fdb\u884c\u5e03\u5c40\uff08\u4ee5\u524d\u600e\u4e48\u5199\u73b0\u5728\u8fd8\u662f\u600e\u4e48\u5199\uff09 \u5728 main.js \u4e2d\u5199\u5982\u4e0b\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var electron = require ( 'electron' ); //electron \u5bf9\u8c61\u7684\u5f15\u7528 const app = electron . app ; //BrowserWindow \u7c7b\u7684\u5f15\u7528 const BrowserWindow = electron . BrowserWindow ; let mainWindow = null ; //\u76d1\u542c\u5e94\u7528\u51c6\u5907\u5b8c\u6210\u7684\u4e8b\u4ef6 app.on('ready',function(){ //\u76d1\u542c\u5e94\u7528\u51c6\u5907\u5b8c\u6210\u7684\u4e8b\u4ef6 app . on ( 'ready' , function (){ //\u521b\u5efa\u7a97\u53e3 mainWindow = new BrowserWindow ({ width : 800 , height : 600 }); mainWindow . loadFile ( 'index.html' ); mainWindow . on ( 'closed' , function () { mainWindow = null ; }) }) }) //\u76d1\u542c\u6240\u6709\u7a97\u53e3\u5173\u95ed\u7684\u4e8b\u4ef6$ app . on ( 'window-all-closed' , function () { // On OS X it is common for applications and their menu bar // to stay active until the user quits explicitly with Cmd + Q$ if ( process . platform !== 'darwin' ) { app . quit (); $ } }) \u8fd0\u884c 1 electron . #\u6ce8\u610f:\u547d\u4ee4\u540e\u9762\u6709\u4e2a\u70b9 4. electron-forge \u642d\u5efa\u4e00\u4e2a electron \u9879\u76ee electron-forge \u76f8\u5f53\u4e8e electron \u7684\u4e00\u4e2a\u811a\u624b\u67b6\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u66f4\u65b9\u4fbf\u7684\u521b\u5efa\u3001\u8fd0\u884c\u3001\u6253\u5305 electron \u9879\u76ee 1 2 3 4 5 6 7 npm install -g electron-forge$ electron-forge init my-new-app$ cd my-new-app npm start \u4e09\u3001Electron \u8fd0\u884c\u6d41\u7a0b \u00b6 1 Electron \u8fd0\u884c\u7684\u6d41\u7a0b \u00b6 2 Electron \u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b \u00b6 Electron \u8fd0\u884c package.json \u7684 main \u811a\u672c\u7684\u8fdb\u7a0b\u88ab\u79f0\u4e3a\u4e3b\u8fdb\u7a0b\u3002 \u5728\u4e3b\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u7684\u811a\u672c\u901a\u8fc7\u521b\u5efa web \u9875\u9762\u6765\u5c55\u793a\u7528\u6237\u754c\u9762\u3002 \u4e00\u4e2a Electron \u5e94\u7528\u603b\u662f\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u3002 \u7531\u4e8e Electron \u4f7f\u7528\u4e86 Chromium (\u8c37\u6b4c\u6d4f\u89c8\u5668)\u6765\u5c55\u793a web \u9875\u9762\uff0c\u6240\u4ee5 Chromium \u7684 \u591a\u8fdb\u7a0b\u67b6\u6784\u4e5f\u88ab\u4f7f\u7528\u5230\u3002 \u6bcf\u4e2a Electron \u4e2d\u7684 web \u9875\u9762\u8fd0\u884c\u5728\u5b83\u81ea\u5df1\u7684\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u3002 \u4e3b\u8fdb\u7a0b\u4f7f\u7528 BrowserWindow \u5b9e\u4f8b\u521b\u5efa\u9875\u9762\u3002\u6bcf\u4e2a BrowserWindow \u5b9e\u4f8b\u90fd\u5728\u81ea\u5df1\u7684\u6e32 \u67d3\u8fdb\u7a0b\u91cc\u8fd0\u884c\u9875\u9762\u3002 \u5f53\u4e00\u4e2a BrowserWindow \u5b9e\u4f8b\u88ab\u9500\u6bc1\u540e\uff0c\u76f8\u5e94\u7684\u6e32\u67d3\u8fdb\u7a0b\u4e5f\u4f1a\u88ab\u7ec8\u6b62\u3002 3 Electron \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7 Nodejs \u8bfb\u53d6\u672c\u5730\u6587\u4ef6 \u00b6 \u5728\u666e\u901a\u7684\u6d4f\u89c8\u5668\u4e2d\uff0c web \u9875\u9762\u901a\u5e38\u5728\u4e00\u4e2a\u6c99\u76d2\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u4e0d\u88ab\u5141\u8bb8\u53bb\u63a5\u89e6\u539f\u751f\u7684\u8d44\u6e90\u3002 \u7136\u800c Electron \u7684\u7528\u6237\u5728 Node.js \u7684 API \u652f\u6301\u4e0b\u53ef\u4ee5\u5728\u9875\u9762\u4e2d\u548c\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e9b\u5e95\u5c42\u4ea4\u4e92\u3002 Nodejs \u5728\u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002\u6e32\u67d3\u8fdb\u7a0b\u56e0\u4e3a\u5b89\u5168\u9650\u5236\uff0c\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u751f GUI \u3002\u867d\u7136\u5982\u6b64\uff0c\u56e0\u4e3a\u96c6\u6210\u4e86 Nodejs\uff0c\u6e32\u67d3\u8fdb\u7a0b\u4e5f\u6709\u4e86\u64cd\u4f5c\u7cfb\u7edf\u5e95\u5c42 API \u7684\u80fd\u529b\uff0c Nodejs \u4e2d\u5e38\u7528\u7684 Path \u3001 fs \u3001 Crypto \u7b49\u6a21\u5757\u5728 Electron \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u65b9\u4fbf\u6211\u4eec\u5904\u7406\u94fe\u63a5\u3001\u8def\u5f84\u3001 \u6587\u4ef6 MD5 \u7b49\uff0c\u540c\u65f6 npm \u8fd8\u6709\u6210\u5343\u4e0a\u4e07\u7684\u6a21\u5757\u4f9b\u6211\u4eec\u9009\u62e9\u3002 1 2 3 4 5 6 7 8 9 10 var fs = require ( 'fs' ); var content = document . getElementById ( 'content' ); var button = document . getElementById ( 'button' ); button . addEventListener ( 'click' , function ( e ){ fs . readFile ( 'package.json' , 'utf8' , function ( err , data ){ content . textContent = data ; console . log ( data ); }); }); 4 Electron \u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f \u00b6 1 mainWindow . webContents . openDevTools (); \u56db\u3001Electron \u6a21\u5757\u4ecb\u7ecd \u00b6 Electron \u6a21\u5757\u4ecb\u7ecd\u3001 remote \u6a21\u5757\u3001\u901a \u8fc7 BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3 1 Electron \u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757 \u00b6 2 Electron remote \u6a21\u5757 \u00b6 remote \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u6e32\u67d3\u8fdb\u7a0b(\u7f51\u9875)\u548c\u4e3b\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u8fdb\u7a0b\u95f4\u901a\u8baf( IPC )\u7684\u7b80\u4fbf\u9014\u5f84\u3002\u5728 Electron \u4e2d, \u4e0e GUI \u76f8\u5173\u7684\u6a21\u5757(\u5982 dialog , menu \u7b49)\u53ea\u5b58\u5728\u4e8e\u4e3b\u8fdb\u7a0b\uff0c\u800c\u4e0d\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d \u3002\u4e3a\u4e86\u80fd\u4ece\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u5b83\u4eec\uff0c\u9700\u8981\u7528 ipc \u6a21\u5757\u6765\u7ed9\u4e3b\u8fdb\u7a0b\u53d1\u9001\u8fdb\u7a0b\u95f4\u6d88\u606f\u3002\u4f7f\u7528 remote \u6a21\u5757\uff0c\u53ef\u4ee5\u8c03\u7528\u4e3b\u8fdb\u7a0b\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u800c\u65e0\u9700\u663e\u5f0f\u5730\u53d1\u9001\u8fdb\u7a0b\u95f4\u6d88\u606f\uff0c\u8fd9\u7c7b\u4f3c\u4e8e Java \u7684 RMI \u3002 3 \u901a\u8fc7BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3 \u00b6 Electron \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7 remote \u6a21\u5757\u8c03\u7528\u4e3b\u8fdb\u7a0b\u4e2d\u7684 BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3\uff0c\u8be6\u60c5\u53ef\u53c2\u8003\uff1a https://electronjs.org/docs/api/browser-window 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // \u4e3b\u8fdb\u7a0b\u4ee3\u7801 const electron = require ( 'electron' ); // \u63a7\u5236\u5e94\u7528\u751f\u547d\u5468\u671f\u7684\u6a21\u5757 const { app } = electron ; // \u521b\u5efa\u672c\u5730\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u6a21\u5757 const { BrowserWindow } = electron ; // \u6307\u5411\u7a97\u53e3\u5bf9\u8c61\u7684\u4e00\u4e2a\u5168\u5c40\u5f15\u7528\uff0c\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u5f15\u7528\uff0c\u90a3\u4e48\u5f53\u8be5 javascript \u5bf9\u8c61\u88ab\u5783\u573e\u56de\u6536 \u7684 // \u65f6\u5019\u8be5\u7a97\u53e3\u5c06\u4f1a\u81ea\u52a8\u5173\u95ed let win ; function createWindow () { // \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u7a97\u53e3 win = new BrowserWindow ({ width : 1104 , height : 620 }); //570+50 $ // \u5e76\u4e14\u88c5\u8f7d\u5e94\u7528\u7684 index.html \u9875\u9762 win . loadURL ( `file:// ${ __dirname } /html/index.html` ); $ // \u6253\u5f00\u5f00\u53d1\u5de5\u5177\u9875\u9762 win . webContents . openDevTools (); $ //\u5f53\u7a97\u53e3\u5173\u95ed\u65f6\u8c03\u7528\u7684\u65b9\u6cd5 win . on ( 'closed' , () => { // \u89e3\u9664\u7a97\u53e3\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u901a\u5e38\u800c\u8a00\u5982\u679c\u5e94\u7528\u652f\u6301\u591a\u4e2a\u7a97\u53e3\u7684\u8bdd\uff0c\u4f60\u4f1a\u5728\u4e00\u4e2a\u6570\u7ec4\u91cc // \u5b58\u653e\u7a97\u53e3\u5bf9\u8c61\uff0c\u5728\u7a97\u53e3\u5173\u95ed\u7684\u65f6\u5019\u5e94\u5f53\u5220\u9664\u76f8\u5e94\u7684\u5143\u7d20\u3002 win = null ; }); } // \u5f53 Electron \u5b8c\u6210\u521d\u59cb\u5316\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\u3002 // \u6709\u4e9b API \u53ea\u80fd\u5728\u8be5\u4e8b\u4ef6\u53d1\u751f\u540e\u624d\u80fd\u88ab\u4f7f\u7528 app . on ( 'ready' , createWindow ); // \u5f53\u6240\u6709\u7684\u7a97\u53e3\u88ab\u5173\u95ed\u540e\u9000\u51fa\u5e94\u7528 app . on ( 'window-all-closed' , () => { // \u5bf9\u4e8e OS X \u7cfb\u7edf\uff0c\u5e94\u7528\u548c\u76f8\u5e94\u7684\u83dc\u5355\u680f\u4f1a\u4e00\u76f4\u6fc0\u6d3b\u76f4\u5230\u7528\u6237\u901a\u8fc7 Cmd + Q \u663e\u5f0f\u9000\u51fa$ if ( process . platform !== 'darwin' ) { app . quit (); } }); app . on ( 'activate' , () => { // \u5bf9\u4e8e OS X \u7cfb\u7edf\uff0c\u5f53 dock \u56fe\u6807\u88ab\u70b9\u51fb\u540e\u4f1a\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a app \u7a97\u53e3\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6709\u5176\u4ed6 // \u7a97\u53e3\u6253\u5f00 if ( win === null ) { createWindow (); $ } }); // \u5728\u8fd9\u4e2a\u6587\u4ef6\u540e\u9762\u4f60\u53ef\u4ee5\u76f4\u63a5\u5305\u542b\u4f60\u5e94\u7528\u7279\u5b9a\u7684\u7531\u4e3b\u8fdb\u7a0b\u8fd0\u884c\u7684\u4ee3\u7801\u3002$ // \u4e5f\u53ef\u4ee5\u628a\u8fd9\u4e9b\u4ee3\u7801\u653e\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7136\u540e\u5728\u8fd9\u91cc\u5bfc\u5165 // \u6e32\u67d3\u8fdb\u7a0b\u4ee3\u7801 /src/render/index.js // \u6253\u5f00\u65b0\u7a97\u53e3\u5c5e\u6027\u7528\u6cd5\u6709\u70b9\u7c7b\u4f3cvscode\u6253\u5f00\u65b0\u7684\u7a97\u53e3 const btn = document . querySelector ( '#btn' ); const path = require ( 'path' ); const BrowerWindow = require ( 'electron' ). remote . BrowserWindow ; btn . onclick = () => { win = new BrowerWindow ({ $ width : 300 , height : 200 , $ frame : false , // false\u9690\u85cf\u5173\u95ed\u6309\u94ae\u3001\u83dc\u5355\u9009\u9879 true\u663e\u793a fullscreen : true , // \u5168\u5c4f\u5c55\u793a transparent : true $ }) $ win . loadURL ( path . join ( 'file:' , __dirname , 'news.html' )); win . on ( 'close' ,()=>{ win = null }); } \u4e94\u3001\u81ea\u5b9a\u4e49\u9876\u90e8\u83dc\u5355/\u53f3\u952e\u83dc\u5355 \u00b6 1 \u4e3b\u8fdb\u7a0b\u4e2d\u8c03\u7528Menu\u6a21\u5757-\u81ea\u5b9a\u4e49\u8f6f\u4ef6\u9876\u90e8\u83dc\u5355 \u00b6 https://electronjs.org/docs/api/menu-item Electron \u4e2d Menu \u6a21\u5757\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u539f\u751f\u83dc\u5355\uff0c\u5b83\u53ef\u7528\u4f5c\u5e94\u7528\u83dc\u5355\u548c context \u83dc\u5355 \u8fd9\u4e2a\u6a21\u5757\u662f\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u6a21\u5757\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 remote \u6a21\u5757\u7ed9\u6e32\u67d3\u8fdb\u7a0b\u8c03\u7528 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // main/menu.js const { Menu } = require ( 'electron' ) // \u6587\u6863 https://electronjs.org/docs/api/menu-item // \u83dc\u5355\u9879\u76ee let menus = [ { label : '\u6587\u4ef6' , submenu : [ { label : '\u65b0\u5efa\u6587\u4ef6' , accelerator : 'ctrl+n' , // \u7ed1\u5b9a\u5feb\u6377\u952e click : function () { // \u7ed1\u5b9a\u4e8b\u4ef6 console . log ( '\u65b0\u5efa\u6587\u4ef6' ) } }, { label : '\u65b0\u5efa\u7a97\u53e3' , click : function () { console . log ( '\u65b0\u5efa\u7a97\u53e3' ) } } ] }, { label : '\u7f16\u8f91' , submenu : [ { label : '\u590d\u5236' , role : 'copy' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd }, { label : '\u526a\u5207' , role : 'cut' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd } ] }, { label : '\u89c6\u56fe' , submenu : [ { label : '\u6d4f\u89c8' }, { label : '\u641c\u7d22' } ] } ] let m = Menu . buildFromTemplate ( menus ) Menu . setApplicationMenu ( m ) // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/menu.js' ) }; \u6211\u4eec\u7ed9\u83dc\u5355\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u5728\u547d\u4ee4\u884c\u63a7\u5236\u53f0\u53ef\u4ee5\u770b\u5230 2 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u8c03\u7528Menu\u6a21\u5757 \u00b6 \u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5efa\u8bae\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u4f7f\u7528 1. remote \u901a\u8fc7 remote \u8c03\u7528\u4e3b\u8fdb\u7a0b\u7684\u65b9\u6cd5 1 2 3 4 5 // \u83dc\u5355\u5f15\u5165\u7684\u65b9\u5f0f\u53d1\u751f\u53d8\u5316 const { Menu } = require ( 'electron' ). remote // \u5176\u4ed6\u4ee3\u7801\u548c\u4e0a\u9762\u83dc\u5355\u4e00\u6837 // ... 2. \u52a0\u5165index.html 1 < script src = \"render/menu.js\" >< /script> 3 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u81ea\u5b9a\u4e49\u53f3\u952e\u83dc\u5355 \u00b6 1. \u5b9a\u4e49\u83dc\u5355 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // render/menu.js // \u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7remote\u6a21\u5757\u8c03\u7528\u4e3b\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757 const { Menu } = require ( 'electron' ). remote const { remote } = require ( 'electron' ) // \u6587\u6863 https://electronjs.org/docs/api/menu-item // \u83dc\u5355\u9879\u76ee let menus = [ { label : '\u6587\u4ef6' , submenu : [ { label : '\u65b0\u5efa\u6587\u4ef6' , accelerator : 'ctrl+n' , // \u7ed1\u5b9a\u5feb\u6377\u952e click : function () { // \u7ed1\u5b9a\u4e8b\u4ef6 console . log ( '\u65b0\u5efa\u6587\u4ef6' ) } }, { label : '\u65b0\u5efa\u7a97\u53e3' , click : function () { console . log ( '\u65b0\u5efa\u7a97\u53e3' ) } } ] }, { label : '\u7f16\u8f91' , submenu : [ { label : '\u590d\u5236' , role : 'copy' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd }, { label : '\u526a\u5207' , role : 'cut' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd } ] }, { label : '\u89c6\u56fe' , submenu : [ { label : '\u6d4f\u89c8' }, { label : '\u641c\u7d22' } ] } ] let m = Menu . buildFromTemplate ( menus ) // Menu.setApplicationMenu(m) // \u7ed1\u5b9a\u53f3\u952e\u83dc\u5355 window . addEventListener ( 'contextmenu' , ( e )=>{ e . preventDefault () m . popup ({ window : remote . getCurrentWindow () }) }, false ) 2. \u5f15\u5165 1 2 <!-- index . html --> < script src = \"render/menu.js\" >< /script> \u516d\u3001\u8fdb\u7a0b\u901a\u4fe1 \u00b6 \u6e32\u67d3\u8fdb\u7a0b https://electronjs.org/docs/api/ipc-renderer \u4e3b\u8fdb\u7a0b https://electronjs.org/docs/api/ipc-main 1 \u4e3b\u8fdb\u7a0b\u4e0e\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1 \u00b6 \u6709\u65f6\u5019\u6211\u4eec\u60f3\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u53bb\u6267\u884c\u4e3b\u8fdb\u7a0b\u91cc\u9762\u7684\u65b9\u6cd5\u3002\u6216\u8005\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u77e5 \u4e3b\u8fdb\u7a0b\u5904\u7406\u4e8b\u4ef6\uff0c\u4e3b\u8fdb\u7a0b\u5904\u7406\u5b8c\u6210\u540e\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\u8ba9\u6e32\u67d3\u8fdb\u7a0b\u53bb\u5904\u7406\u4e00\u4e9b\u4e8b\u60c5\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31 \u7528\u5230\u4e86\u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u76f8\u4e92\u901a\u4fe1 Electron \u4e3b\u8fdb\u7a0b\uff0c\u548c\u6e32\u67d3\u8fdb\u7a0b\u7684\u901a\u4fe1\u4e3b\u8981\u7528\u5230\u4e24\u4e2a\u6a21\u5757: ipcMain \u548c ipcRenderer ipcMain :\u5f53\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u65f6\uff0c\u5b83\u5904\u7406\u4ece\u6e32\u67d3\u5668\u8fdb\u7a0b(\u7f51\u9875)\u53d1\u9001\u51fa\u6765\u7684\u5f02\u6b65\u548c\u540c\u6b65\u4fe1\u606f,\u5f53\u7136\u4e5f\u6709\u53ef\u80fd\u4ece\u4e3b\u8fdb\u7a0b\u5411\u6e32\u67d3\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f\u3002 ipcRenderer : \u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u4e00\u4e9b\u65b9\u6cd5\u4ece\u6e32\u67d3\u8fdb\u7a0b ( web \u9875\u9762) \u53d1\u9001\u540c\u6b65\u6216\u5f02\u6b65\u7684\u6d88\u606f\u5230\u4e3b\u8fdb\u7a0b\u3002 \u4e5f\u53ef\u4ee5\u63a5\u6536\u4e3b\u8fdb\u7a0b\u56de\u590d\u7684\u6d88\u606f 1.1 \u6e32\u67d3\u8fdb\u7a0b\u7ed9\u4e3b\u8fdb\u7a0b\u53d1\u9001\u5f02\u6b65\u6d88\u606f \u95f4\u63a5\u5b9e\u73b0\u6e32\u67d3\u8fdb\u7a0b\u6267\u884c\u4e3b\u8fdb\u7a0b\u91cc\u9762\u7684\u65b9\u6cd5 1. \u5f15\u5165ipcRender 1 2 3 <!-- src / index . html --> < button id = \"send\" > \u5728 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u6267\u884c\u4e3b\u8fdb\u7a0b\u91cc\u7684\u65b9\u6cd5 \uff08 \u5f02\u6b65 \uff09 < /button> < script src = \"render/ipcRender.js\" >< /script> 2. \u5f15\u5165ipcMain 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f 1 2 3 4 5 6 7 8 9 10 11 // src/render/ipcRender.js //\u6e32\u67d3\u8fdb\u7a0b let send = document . querySelector ( '#send' ); const { ipcRenderer } = require ( 'electron' ); send . onclick = function () { // \u4f20\u9012\u6d88\u606f\u7ed9\u4e3b\u8fdb\u7a0b // \u5f02\u6b65 ipcRenderer . send ( 'sendMsg' , { name : 'poetries' , age : 23 }) } 2. \u4e3b\u8fdb\u7a0b\u63a5\u6536\u6d88\u606f 1 2 3 4 5 6 7 8 9 10 11 // src/main/ipcMain.js //\u4e3b\u8fdb\u7a0b const { ipcMain } = require ( 'electron' ) // \u4e3b\u8fdb\u7a0b\u5904\u7406\u6e32\u67d3\u8fdb\u7a0b\u5e7f\u64ad\u6570\u636e ipcMain . on ( 'sendMsg' , ( event , data )=> { console . log ( 'data\\n ' , data ) console . log ( 'event\\n ' , event ) }) 1.2 \u6e32\u67d3\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f\uff0c\u4e3b\u8fdb\u7a0b\u63a5\u6536\u6d88\u606f\u5e76\u53cd\u9988 \u6e32\u67d3\u8fdb\u7a0b\u7ed9\u4e3b\u8fdb\u7a0b\u53d1\u9001\u5f02\u6b65\u6d88\u606f\uff0c\u4e3b\u8fdb\u7a0b\u63a5\u6536\u5230\u5f02\u6b65\u6d88\u606f\u4ee5\u540e\u901a\u77e5\u6e32\u67d3\u8fdb\u7a0b 1. \u5f15\u5165ipcRender 1 2 3 <!-- src / index . html --> < button id = \"sendFeedback\" > \u5728 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u6267\u884c\u4e3b\u8fdb\u7a0b\u91cc\u7684\u65b9\u6cd5 \uff0c \u5e76\u53cd\u9988\u7ed9\u4e3b\u8fdb\u7a0b \uff08 \u5f02\u6b65 \uff09 < /button> < script src = \"render/ipcRender.js\" >< /script> 2. \u5f15\u5165ipcMain 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f 1 2 3 4 5 6 7 8 9 10 11 12 // src/render/ipcRender.js //\u6e32\u67d3\u8fdb\u7a0b let sendFeedback = document . querySelector ( '#sendFeedback' ); const { ipcRenderer } = require ( 'electron' ); // \u5411\u4e3b\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f sendFeedback . onclick = function () { // \u89e6\u53d1\u4e3b\u8fdb\u7a0b\u91cc\u9762\u7684\u65b9\u6cd5 ipcRenderer . send ( 'sendFeedback' , { name : 'poetries' , age : 23 }) } 4. \u4e3b\u8fdb\u7a0b\u6536\u5230\u6d88\u606f\u5904\u7406\u5e76\u5e7f\u64ad\u53cd\u9988\u901a\u77e5\u6e32\u67d3\u8fdb\u7a0b 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // src/main/ipcMain.js //\u4e3b\u8fdb\u7a0b const { ipcMain } = require ( 'electron' ) // \u4e3b\u8fdb\u7a0b\u5904\u7406\u6e32\u67d3\u8fdb\u7a0b\u5e7f\u64ad\u6570\u636e\uff0c\u5e76\u53cd\u9988\u7ed9\u6e32\u67d3\u8fdb\u7a0b ipcMain . on ( 'sendFeedback' , ( event , data )=> { // console.log('data\\n ', data) // console.log('event\\n ', event) $ // \u4e3b\u8fdb\u7a0b\u7ed9\u6e32\u67d3\u8fdb\u7a0b\u5e7f\u64ad\u6570\u636e event . sender . send ( 'sendFeedbackToRender' , '\u6765\u81ea\u4e3b\u8fdb\u7a0b\u7684\u53cd\u9988' ) }) 5. \u6e32\u67d3\u8fdb\u7a0b\u5904\u7406\u4e3b\u8fdb\u7a0b\u5e7f\u64ad\u7684\u6570\u636e 1 2 3 4 5 6 // src/render/ipcRender.js // \u5411\u4e3b\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f\u540e\uff0c\u63a5\u6536\u4e3b\u8fdb\u7a0b\u5e7f\u64ad\u7684\u4e8b\u4ef6 ipcRenderer . on ( 'sendFeedbackToRender' , ( e , data )=>{ console . log ( 'event\\n ' , e ) console . log ( 'data\\n ' , data ) }) 1.3 \u6e32\u67d3\u8fdb\u7a0b\u7ed9\u4e3b\u8fdb\u7a0b\u53d1\u9001\u540c\u6b65\u6d88\u606f 1. \u5f15\u5165ipcRender 1 2 3 <!-- src / index . html --> < button id = \"sendSync\" > \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 < /button> < script src = \"render/ipcRender.js\" >< /script> 2. \u5f15\u5165ipcMain 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u7ed9\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 1 2 3 4 5 6 7 8 9 10 11 // src/render/ipcMain.js let sendSync = document . querySelector ( '#sendSync' ); // \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 sendSync . onclick = function () { // \u540c\u6b65\u5e7f\u64ad\u6570\u636e let msg = ipcRenderer . sendSync ( 'sendsync' , { name : 'poetries' , age : 23 }) $ // \u540c\u6b65\u8fd4\u56de\u4e3b\u8fdb\u7a0b\u53cd\u9988\u7684\u6570\u636e console . log ( 'msg\\n ' , msg ) } 4. \u4e3b\u8fdb\u7a0b\u63a5\u6536\u6570\u636e\u5904\u7406 1 2 3 4 5 6 7 8 9 // src/main/ipcMain.js // \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 \u63a5\u6536\u540c\u6b65\u5e7f\u64ad ipcMain . on ( 'sendsync' , ( event , data )=> { // console.log('data\\n ', data) // console.log('event\\n ', event) // \u4e3b\u8fdb\u7a0b\u7ed9\u6e32\u67d3\u8fdb\u7a0b\u5e7f\u64ad\u6570\u636e event . returnValue = '\u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 \u63a5\u6536\u540c\u6b65\u5e7f\u64ad\uff0c\u6765\u81ea\u4e3b\u8fdb\u7a0b\u7684\u53cd\u9988.' ; }) 1.4 \u6e32\u67d3\u8fdb\u7a0b\u5e7f\u64ad\u901a\u77e5\u4e3b\u8fdb\u7a0b\u6253\u5f00\u7a97\u53e3 \u4e00\u822c\u90fd\u662f\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u6267\u884c\u5e7f\u64ad\u64cd\u4f5c\uff0c\u53bb\u901a\u77e5\u4e3b\u8fdb\u7a0b\u5b8c\u6210\u4efb\u52a1 1. \u5f15\u5165openWindow 1 2 3 <!-- src / index . html --> < button id = \"sendSync\" > \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 < /button> < script src = \"render/openWindow.js\" >< /script> 2. \u5f15\u5165ipcMain2 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain2.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u901a\u77e5\u4e3b\u8fdb\u7a0b\u6253\u5f00\u7a97\u53e3 1 2 3 4 5 6 7 8 9 10 11 12 // src/render/openWindow.js /* eslint-disable */ let openWindow = document . querySelector ( '#openWindow' ); var { ipcRenderer } = require ( 'electron' ); // \u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u76f4\u63a5\u7684\u901a\u4fe1======== openWindow . onclick = function () { // \u901a\u8fc7\u5e7f\u64ad\u7684\u5f62\u5f0f \u901a\u77e5\u4e3b\u8fdb\u7a0b\u6267\u884c\u64cd\u4f5c ipcRenderer . send ( 'openwindow' , { name : 'poetries' , age : 23 }) } 4. \u4e3b\u8fdb\u7a0b\u6536\u5230\u901a\u77e5\u6267\u884c\u64cd\u4f5c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // src/main/ipcMain2.js /* eslint-disable */ let { ipcMain , BrowserWindow } = require ( 'electron' ) const path = require ( 'path' ) let win ; // \u63a5\u6536\u5230\u5e7f\u64ad ipcMain . on ( 'openwindow' , ( e , data )=> { // \u8c03\u7528window\u6253\u5f00\u65b0\u7a97\u53e3 win = new BrowserWindow ({ width : 400 , height : 300 , }); win . loadURL ( path . join ( 'file:' , __dirname , '../news.html' )); win . webContents . openDevTools () win . on ( 'closed' , () => { win = null ; }); }) 2 \u6e32\u67d3\u8fdb\u7a0b\u4e0e\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1 \u00b6 \u4e5f\u5c31\u662f\u4e24\u4e2a\u7a97\u53e3\u76f4\u63a5\u7684\u901a\u4fe1 2.1 localstorage\u4f20\u503c Electron \u6e32\u67d3\u8fdb\u7a0b\u901a\u8fc7 localstorage \u7ed9\u53e6\u4e00\u4e2a\u6e32\u67d3\u8fdb\u7a0b\u4f20\u503c 1. \u5f15\u5165openWindow 1 2 3 <!-- src / index . html --> < button id = \"sendSync\" > \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 < /button> < script src = \"render/openWindow.js\" >< /script> 2. \u5f15\u5165ipcMain2 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain2.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u901a\u77e5\u4e3b\u8fdb\u7a0b\u6253\u5f00\u7a97\u53e3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // src/render/openWindow.js /* eslint-disable */ let openWindow = document . querySelector ( '#openWindow' ); var { ipcRenderer } = require ( 'electron' ); // \u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u76f4\u63a5\u7684\u901a\u4fe1======== openWindow . onclick = function () { // \u901a\u8fc7\u5e7f\u64ad\u7684\u5f62\u5f0f \u901a\u77e5\u4e3b\u8fdb\u7a0b\u6267\u884c\u64cd\u4f5c ipcRenderer . send ( 'openwindow' , { name : 'poetries' , age : 23 }) $ // ======= localstorage\u4f20\u503c ===== localStorage . setItem ( 'username' , 'poetries' ) } 4. \u65b0\u5efanews\u9875\u9762 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 <!-- src / news . html --> <! DOCTYPE html > < html > < head > < meta charset = \"utf-8\" > < title >< /title> < /head> < body > news page < /body> < script src = \"render/news.js\" >< /script> < /html> // src/render/news.js let username = localStorage . getItem ( 'username' ) console . log ( username ) 5. \u4e3b\u8fdb\u7a0b\u6536\u5230\u901a\u77e5\u6267\u884c\u64cd\u4f5c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // src/main/ipcMain2.js /* eslint-disable */ let { ipcMain , BrowserWindow } = require ( 'electron' ) const path = require ( 'path' ) let win ; // \u63a5\u6536\u5230\u5e7f\u64ad ipcMain . on ( 'openwindow' , ( e , data )=> { // \u8c03\u7528window\u6253\u5f00\u65b0\u7a97\u53e3 win = new BrowserWindow ({ width : 400 , height : 300 , }); win . loadURL ( path . join ( 'file:' , __dirname , '../news.html' )); win . webContents . openDevTools () win . on ( 'closed' , () => { win = null ; }); }) 2.2 BrowserWindow\u548cwebContents\u65b9\u5f0f\u5b9e\u73b0 \u901a\u8fc7 BrowserWindow \u548c webContents \u6a21\u5757\u5b9e\u73b0\u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u7684\u901a\u4fe1 webContents \u662f\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u51fa\u8005.\u5b83\u8d1f\u8d23\u6e32\u67d3\u5e76\u63a7\u5236\u7f51\u9875\uff0c\u4e5f\u662f BrowserWindow \u5bf9\u8c61\u7684\u5c5e\u6027 \u9700\u8981\u4e86\u89e3\u7684\u51e0\u4e2a\u77e5\u8bc6\u70b9 \u83b7\u53d6\u5f53\u524d\u7a97\u53e3\u7684 id 1 const winId = BrowserWindow . getFocusedWindow (). id ; \u76d1\u542c\u5f53\u524d\u7a97\u53e3\u52a0\u8f7d\u5b8c\u6210\u7684\u4e8b\u4ef6 1 2 3 win . webContents . on ( 'did-finish-load' ,( event ) => { $ }) \u540c\u4e00\u7a97\u53e3\u4e4b\u95f4\u5e7f\u64ad\u6570\u636e 1 2 3 win . webContents . on ( 'did-finish-load' ,( event ) => { win . webContents . send ( 'msg' , winId , '\u6211\u662f index.html \u7684\u6570\u636e' ); }) \u901a\u8fc7 id \u67e5\u627e\u7a97\u53e3 1 let win = BrowserWindow . fromId ( winId ); \u4e0b\u9762\u662f\u5177\u4f53\u6f14\u793a 1. \u5f15\u5165openWindow 1 2 3 <!-- src / index . html --> < button id = \"sendSync\" > \u6e32\u67d3\u8fdb\u7a0b\u548c\u4e3b\u8fdb\u7a0b\u540c\u6b65\u901a\u4fe1 < /button> < script src = \"render/openWindow.js\" >< /script> 2. \u5f15\u5165ipcMain2 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/ipcMain2.js' ) }; 3. \u6e32\u67d3\u8fdb\u7a0b\u901a\u77e5\u4e3b\u8fdb\u7a0b\u6253\u5f00\u7a97\u53e3 1 2 3 4 5 6 7 8 9 10 11 12 // src/render/openWindow.js /* eslint-disable */ let openWindow = document . querySelector ( '#openWindow' ); var { ipcRenderer } = require ( 'electron' ); // \u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u76f4\u63a5\u7684\u901a\u4fe1======== openWindow . onclick = function () { // \u901a\u8fc7\u5e7f\u64ad\u7684\u5f62\u5f0f \u901a\u77e5\u4e3b\u8fdb\u7a0b\u6267\u884c\u64cd\u4f5c ipcRenderer . send ( 'openwindow' , { name : 'poetries' , age : 23 }) } 4. \u4e3b\u8fdb\u7a0b\u6536\u5230\u901a\u77e5\u6267\u884c\u64cd\u4f5c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 // src/main/ipcMain2.js let { ipcMain , BrowserWindow } = require ( 'electron' ) const path = require ( 'path' ) let win ; // \u63a5\u6536\u5230\u5e7f\u64ad ipcMain . on ( 'openwindow' , ( e , userInfo )=> { // \u8c03\u7528window\u6253\u5f00\u65b0\u7a97\u53e3 win = new BrowserWindow ({ width : 400 , height : 300 , }); win . loadURL ( path . join ( 'file:' , __dirname , '../news.html' )); // \u65b0\u5f00\u7a97\u53e3\u8c03\u8bd5\u6a21\u5f0f win . webContents . openDevTools () // \u628a\u6e32\u67d3\u8fdb\u7a0b\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\u518d\u6b21\u4f20\u9012\u7ed9\u6e32\u67d3\u8fdb\u7a0bnews // \u7b49\u5f85\u7a97\u53e3\u52a0\u8f7d\u5b8c win . webContents . on ( 'did-finish-load' , ()=>[ win . webContents . send ( 'toNews' , userInfo ) ]) $ win . on ( 'closed' , () => { win = null ; }); }) 5. news\u63a5\u6536\u4e3b\u8fdb\u7a0b\u4f20\u9012\u7684\u6570\u636e \u6570\u636e\u7ecf\u8fc7\u6e32\u67d3\u8fdb\u7a0b->\u4e3b\u8fdb\u7a0b-> news \u6e32\u67d3\u8fdb\u7a0b 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 <!-- news\u9875\u9762 --> <! DOCTYPE html > < html > < head > < meta charset = \"utf-8\" > < title >< /title> < /head> < body > news page < /body> < script src = \"render/news.js\" >< /script> < /html> // src/render/news.js var { ipcRenderer } = require ( 'electron' ); // let username = localStorage.getItem('username') // console.log(username) // \u76d1\u542c\u4e3b\u8fdb\u7a0b\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e$ ipcRenderer . on ( 'toNews' ,( e , userInfo )=>{ console . log ( userInfo ) }) \u90a3\u4e48\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u95ee\u9898\uff0c news \u8fdb\u7a0b\u63a5\u6536\u5230\u4e86\u5e7f\u64ad\u540e\u5982\u4f55\u7ed9\u51fa\u53cd\u9988\u5462\uff1f 1. \u5728\u4e3b\u8fdb\u7a0b\u4e2d\u83b7\u53d6\u7a97\u53e3ID\u4f20\u9012 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // src/main/ipcMain2.js let { ipcMain , BrowserWindow } = require ( 'electron' ) const path = require ( 'path' ) let win ; // \u63a5\u6536\u5230\u5e7f\u64ad ipcMain . on ( 'openwindow' , ( e , userInfo )=> { // \u83b7\u53d6\u5f53\u524d\u7a97\u53e3ID \u653e\u5728\u7b2c\u4e00\u884c\u4fdd\u9669 \u56e0\u4e3a\u540e\u9762\u4e5f\u6253\u5f00\u4e86\u65b0\u7a97\u53e3\u4f7f\u5f97\u83b7\u53d6\u7684ID\u6709\u95ee\u9898 let winId = BrowserWindow . getFocusedWindow (). id // \u8c03\u7528window\u6253\u5f00\u65b0\u7a97\u53e3 win = new BrowserWindow ({ width : 400 , height : 300 , }); win . loadURL ( path . join ( 'file:' , __dirname , '../news.html' )); // \u65b0\u5f00\u7a97\u53e3\u8c03\u8bd5\u6a21\u5f0f win . webContents . openDevTools () $ // \u628a\u6e32\u67d3\u8fdb\u7a0b\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\u518d\u6b21\u4f20\u9012\u7ed9\u6e32\u67d3\u8fdb\u7a0bnews // \u7b49\u5f85\u7a97\u53e3\u52a0\u8f7d\u5b8c win . webContents . on ( 'did-finish-load' , ()=>[ win . webContents . send ( 'toNews' , userInfo , winId ) ]) $ win . on ( 'closed' , () => { win = null ; }); }) 2. \u5728news\u8fdb\u7a0b\u4e2d\u5e7f\u64ad\u6570\u636e 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // src/render/news.js var { ipcRenderer } = require ( 'electron' ); // \u6ce8\u610f\u8fd9\u91cc \u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u9700\u8981\u4eceremote\u4e2d\u83b7\u53d6BrowserWindow const BrowerWindow = require ( 'electron' ). remote . BrowserWindow ; // let username = localStorage.getItem('username') // console.log(username) // \u76d1\u542c\u4e3b\u8fdb\u7a0b\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e$ ipcRenderer . on ( 'toNews' ,( e , userInfo , winId )=>{ // windID \u7b2c\u4e00\u4e2a\u7a97\u53e3ID // \u83b7\u53d6\u5bf9\u5e94ID\u7684\u7a97\u53e3 let firstWin = BrowerWindow . fromId ( winId ) firstWin . webContents . send ( 'toIndex' , '\u6765\u81eanews\u8fdb\u7a0b\u53cd\u9988\u7684\u4fe1\u606f' ) console . log ( userInfo ) }) 3. \u5728\u53e6\u4e00\u4e2a\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u5904\u7406\u5e7f\u64ad 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /* eslint-disable */ let openWindow = document . querySelector ( '#openWindow' ); var { ipcRenderer } = require ( 'electron' ); // \u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u76f4\u63a5\u7684\u901a\u4fe1======== openWindow . onclick = function () { // \u4f20\u9012\u6d88\u606f\u7ed9\u4e3b\u8fdb\u7a0b ipcRenderer . send ( 'openwindow' , { name : 'poetries' , age : 23 }) // \u4f20\u9012\u7ed9\u6253\u5f00\u7684\u7a97\u53e3 \u6e32\u67d3\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u76f4\u63a5\u7684\u901a\u4fe1 localStorage . setItem ( 'username' , 'poetries' ) $ } // \u63a5\u6536news\u6e32\u67d3\u8fdb\u7a0b\u4f20\u9012\u56de\u6765\u7684\u6d88\u606f ipcRenderer . on ( 'toIndex' , ( e , data )=>{ console . log ( '===' , data ) }) \u4e03\u3001Electron Shell \u6a21\u5757 \u00b6 1 Shell \u6a21\u5757\u4f7f\u7528 \u00b6 \u6587\u6863 https://electronjs.org/docs/api/shell Electron Shell \u6a21\u5757\u5728\u7528\u6237\u9ed8\u8ba4\u6d4f\u89c8\u5668 \u4e2d\u6253\u5f00 URL \u4ee5\u53ca Electron DOM webview \u6807\u7b7e\u3002 Shell \u65e2\u5c5e\u4e8e\u4e3b\u8fdb\u7a0b\u6a21\u5757\u53c8\u662f\u6e32\u67d3\u8fdb\u7a0b\u6a21\u5757 shell \u6a21\u5757\u63d0\u4f9b\u4e86\u96c6\u6210\u5176\u4ed6\u684c\u9762\u5ba2\u6237\u7aef\u7684\u5173\u8054\u529f\u80fd 1. \u5f15\u5165 1 2 3 <!-- index . html --> < button id = \"shellDom\" > \u901a\u8fc7shell\u6253\u5f00\u5916\u90e8\u94fe\u63a5 < /button> < script src = \"render/shell.js\" >< /script> 2. shell.js 1 2 3 4 5 6 7 8 // src/render/shell.js const { shell } = require ( 'electron' ) let shellDom = document . querySelector ( '#shellDom' ); shellDom . onclick = function ( e ) { shell . openExternal ( 'https://github.com/poetries' ) } 2 Electron DOM `` \u6807\u7b7e \u00b6 Webview \u4e0e iframe \u6709\u70b9\u76f8\u4f3c\uff0c\u4f46\u662f\u4e0e iframe \u4e0d\u540c, webview \u548c\u4f60\u7684\u5e94\u7528\u8fd0\u884c\u7684\u662f\u4e0d\u540c\u7684\u8fdb\u7a0b\u3002\u5b83\u4e0d\u62e5\u6709\u6e32\u67d3\u8fdb\u7a0b\u7684\u6743\u9650\uff0c\u5e76\u4e14\u5e94\u7528\u548c\u5d4c\u5165\u5185\u5bb9\u4e4b\u95f4\u7684\u4ea4\u4e92\u5168\u90e8\u90fd\u662f\u5f02\u6b65\u7684\u3002\u56e0\u4e3a\u8fd9\u80fd \u4fdd\u8bc1\u5e94\u7528\u7684\u5b89\u5168\u6027\u4e0d\u53d7\u5d4c\u5165\u5185\u5bb9\u7684\u5f71\u54cd\u3002 1 2 3 <!-- src / index . html\u4e2d\u5f15\u5165 --> < webview id = \"webview\" src = \"http://blog.poetries.top\" style = \"position:fixed; width:100%; height:100%\" > < /webview> 3 shell \u6a21\u5757 `\u7ed3\u5408 Menu`\u6a21\u5757\u4f7f\u7528\u6848\u4f8b \u00b6 1. \u65b0\u5efasrc/render/webview.js 1 2 3 4 5 6 7 /* eslint-disable */ var { ipcRenderer } = require ( 'electron' ); let myWebview = document . querySelector ( '#myWebview' ) ipcRenderer . on ( 'openwebview' , ( e , url )=>{ myWebview . src = url }) 2. \u5f15\u5165src/index.html 1 2 3 4 < webview id = \"myWebview\" src = \"http://blog.poetries.top\" style = \"position:fixed; width:100%; height:100%\" > < /webview> $ < script src = \"render/webview.js\" >< /script> 3. \u65b0\u5efasrc/main/menu.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 /* eslint-disable */ const { shell , Menu , BrowserWindow } = require ( 'electron' ); // \u5f53\u524d\u7a97\u53e3\u6e32\u67d3\u7f51\u9875 function openWebView ( url ) { // \u83b7\u53d6\u5f53\u524d\u7a97\u53e3Id let win = BrowserWindow . getFocusedWindow () // \u5e7f\u64ad\u901a\u77e5\u6e32\u67d3\u8fdb\u7a0b\u6253\u5f00webview win . webContents . send ( 'openwebview' , url ) } // \u5728\u7a97\u53e3\u5916\u6253\u5f00\u7f51\u9875 function openWeb ( url ) { shell . openExternal ( url ) } let template = [ { label : '\u5e2e\u52a9' , submenu : [ { label : '\u5173\u4e8e\u6211\u4eec' , click : function () { openWeb ( 'http://blog.poetries.top' ) } }, { type : 'separator' }, { label : '\u8054\u7cfb\u6211\u4eec' , click : function () { openWeb ( 'https://github.com/poetries' ) } } ] }, { label : '\u52a0\u8f7d\u7f51\u9875' , submenu : [ { label : '\u535a\u5ba2' , click : function () { openWebView ( 'http://blog.poetries.top' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : 'GitHub' , click : function () { openWebView ( 'https://github.com/poetries' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u7b80\u4e66' , click : function () { openWebView ( 'https://www.jianshu.com/users/94077fcddfc0/timeline' ) } } ] }, { label : '\u89c6\u9891\u7f51\u7ad9' , submenu : [ { label : '\u4f18\u9177' , click : function () { openWebView ( 'https://www.youku.com' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u7231\u5947\u827a' , click : function () { openWebView ( 'https://www.iqiyi.com/' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u817e\u8baf\u89c6\u9891' , click : function () { openWebView ( 'https://v.qq.com/' ) } } ] } ] let m = Menu . buildFromTemplate ( template ) Menu . setApplicationMenu ( m ) 4. \u5f15\u5165menu 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/menu.js' ) }; \u516b\u3001Electron dialog \u5f39\u51fa\u6846 \u00b6 \u6587\u6863 https://electronjs.org/docs/api/dialog dialog \u5c5e\u4e8e\u4e3b\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757 dialog \u6a21\u5757\u63d0\u4f9b\u4e86 api \u6765\u5c55\u793a\u539f\u751f\u7684\u7cfb\u7edf\u5bf9\u8bdd\u6846\uff0c\u4f8b\u5982\u6253\u5f00\u6587\u4ef6\u6846\uff0c alert \u6846\uff0c \u6240\u4ee5 web \u5e94\u7528\u53ef\u4ee5\u7ed9\u7528\u6237\u5e26\u6765\u8ddf\u7cfb\u7edf\u5e94\u7528\u76f8\u540c\u7684\u4f53\u9a8c 1. \u5728src/index.html\u4e2d\u5f15\u5165 1 2 3 4 5 6 < button id = \"showError\" > showError < /button><br / > < button id = \"showMsg\" > showMsg < /button><br / > < button id = \"showOpenDialog\" > showOpenDialog < /button><br / > < button id = \"saveDialog\" > saveDialog < /button><br / > < script src = \"render/dialog.js\" >< /script> 2. \u65b0\u5efarender/dialog.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // render/dialog.js let showError = document . querySelector ( '#showError' ); let showMsg = document . querySelector ( '#showMsg' ); let showOpenDialog = document . querySelector ( '#showOpenDialog' ); let saveDialog = document . querySelector ( '#saveDialog' ); var { remote } = require ( 'electron' ) showError . onclick = function () { remote . dialog . showErrorBox ( '\u8b66\u544a' , '\u64cd\u4f5c\u6709\u8bef' ) } showMsg . onclick = function () { remote . dialog . showMessageBox ({ type : 'info' , title : '\u63d0\u793a\u4fe1\u606f' , message : '\u5185\u5bb9' , buttons : [ '\u786e\u5b9a' , '\u53d6\u6d88' ] }, function ( index ){ console . log ( index ) }) } showOpenDialog . onclick = function () { remote . dialog . showOpenDialog ({ // \u6253\u5f00\u6587\u4ef6\u5939 properties : [ 'openDirectory' , 'openFile' ] // \u6253\u5f00\u6587\u4ef6 // properties: ['openFile'] }, function ( data ) { console . log ( data ) }) } saveDialog . onclick = function () { remote . dialog . showSaveDialog ({ title : 'Save File' , defaultPath : '/Users/poetry/Downloads/' , // filters \u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u7c7b\u578b\u6570\u7ec4\uff0c\u7528\u4e8e\u89c4\u5b9a\u7528\u6237\u53ef\u89c1\u6216\u53ef\u9009\u7684\u7279\u5b9a\u7c7b\u578b\u8303\u56f4 filters : [ { name : 'Images' , extensions : [ 'jpg' , 'png' , 'gif' ] }, { name : 'Movies' , extensions : [ 'mkv' , 'avi' , 'mp4' ] }, { name : 'Custom File Type' , extensions : [ 'as' ] }, { name : 'All Files' , extensions : [ '*' ] } ] }, function ( path ) { // \u4e0d\u662f\u771f\u7684\u4fdd\u5b58 \uff0c\u5177\u4f53\u8fd8\u9700nodejs\u5904\u7406 console . log ( path ) }) } showError 1 remote . dialog . showErrorBox ( '\u8b66\u544a' , '\u64cd\u4f5c\u6709\u8bef' ) showMessageBox 1 2 3 4 5 6 7 8 remote . dialog . showMessageBox ({ type : 'info' , title : '\u63d0\u793a\u4fe1\u606f' , message : '\u5185\u5bb9' , buttons : [ '\u786e\u5b9a' , '\u53d6\u6d88' ] }, function ( index ){ console . log ( index ) }) showOpenDialog 1 2 3 4 5 6 7 8 9 remote . dialog . showOpenDialog ({ // \u6253\u5f00\u6587\u4ef6\u5939 properties : [ 'openDirectory' , 'openFile' ] // \u6253\u5f00\u6587\u4ef6 // properties: ['openFile'] }, function ( data ) { console . log ( data ) }) showSaveDialog 1 2 3 4 5 6 7 8 9 10 11 12 13 14 remote . dialog . showSaveDialog ({ title : 'Save File' , defaultPath : '/Users/poetry/Downloads/' , // filters \u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u7c7b\u578b\u6570\u7ec4\uff0c\u7528\u4e8e\u89c4\u5b9a\u7528\u6237\u53ef\u89c1\u6216\u53ef\u9009\u7684\u7279\u5b9a\u7c7b\u578b\u8303\u56f4 filters : [ { name : 'Images' , extensions : [ 'jpg' , 'png' , 'gif' ] }, { name : 'Movies' , extensions : [ 'mkv' , 'avi' , 'mp4' ] }, { name : 'Custom File Type' , extensions : [ 'as' ] }, { name : 'All Files' , extensions : [ '*' ] } ] }, function ( path ) { // \u4e0d\u662f\u771f\u7684\u4fdd\u5b58 \uff0c\u5177\u4f53\u8fd8\u9700nodejs\u5904\u7406 console . log ( path ) }) \u4e5d\u3001\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u8bb0\u4e8b\u672c\u4ee3\u7801\u7f16\u8f91\u5668 \u00b6 \u4ee3\u7801 https://github.com/poetries/electron-demo/tree/master/notepad \u5341\u3001\u7cfb\u7edf\u6258\u76d8\u3001\u6258\u76d8\u53f3\u952e\u83dc\u5355\u3001\u6258\u76d8\u56fe\u6807\u95ea\u70c1 \u00b6 \u6587\u6863 https://electronjs.org/docs/api/tray \u7cfb\u7edf\u6258\u76d8\uff0c\u6258\u76d8\u53f3\u952e\u83dc\u5355\u3001\u6258\u76d8\u56fe\u6807\u95ea\u70c1 \u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed\u6309\u94ae\u9690\u85cf\u5230\u6258\u76d8(\u4eff\u6740\u6bd2\u8f6f\u4ef6) 1. \u5f15\u5165\u6587\u4ef6 1 2 3 4 // src/index.js const createWindow = () => { require ( './main/tray.js' ) }; 2. Electron \u521b\u5efa\u4efb\u52a1\u680f\u56fe\u6807\u4ee5\u53ca\u4efb\u52a1\u680f\u56fe\u6807\u53f3\u952e\u83dc\u5355 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // src/main/tray.js var { Menu , Tray , app , BrowserWindow } = require ( 'electron' ); const path = require ( 'path' ); var appIcon = new Tray ( path . join ( __dirname , '../static/lover.png' )); const menu = Menu . buildFromTemplate ([ { label : '\u8bbe\u7f6e' , click : function () {} //\u6253\u5f00\u76f8\u5e94\u9875\u9762$ }, { label : '\u5e2e\u52a9' , click : function () {} }, { label : '\u5173\u4e8e' , click : function () {} }, { label : '\u9000\u51fa' , click : function () { $ // BrowserWindow.getFocusedWindow().webContents().send('close-main-window'); app . quit (); } }]) // \u9f20\u6807\u653e\u4e0a\u53bb\u63d0\u793a\u4fe1\u606f appIcon . setToolTip ( 'hello poetries' ); appIcon . setContextMenu ( menu ); 3. \u76d1\u542c\u4efb\u52a1\u680f\u56fe\u6807\u7684\u5355\u51fb\u3001\u53cc\u51fb\u4e8b\u4ef6 1 2 3 4 5 6 7 8 9 10 11 // \u5b9e\u73b0\u70b9\u51fb\u5173\u95ed\u6309\u94ae\uff0c\u8ba9\u5e94\u7528\u4fdd\u5b58\u5728\u6258\u76d8\u91cc\u9762\uff0c\u53cc\u51fb\u6258\u76d8\u6253\u5f00 let win = BrowserWindow . getFocusedWindow () win . on ( 'close' , ( e )=>{ e . preventDefault () win . hide () }) iconTray . on ( 'double-click' , ( e )=>{ win . show () }) 4. Electron \u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed\u6309\u94ae\u9690\u85cf\u4efb\u52a1\u680f\u56fe\u6807 1 2 3 4 5 6 7 8 9 10 11 12 13 const win = BrowserWindow . getFocusedWindow (); win . on ( 'close' , ( e ) =>{ console . log ( win . isFocused ()); $ if ( ! win . isFocused ()) { win = null ; } else { e . preventDefault (); /*\u963b\u6b62\u5e94\u7528\u9000\u51fa*/ win . hide (); /*\u9690\u85cf\u5f53\u524d\u7a97\u53e3*/ } }) 5. Electron \u5b9e\u73b0\u4efb\u52a1\u680f\u95ea\u70c1\u56fe\u6807 1 2 3 4 5 6 7 8 9 10 11 var appIcon = new Tray ( path . join ( __dirname , '../static/lover.png' )); timer = setInterval ( function () { count ++ ; if ( count % 2 == 0 ) { appIcon . setImage ( path . join ( __dirname , '../static/empty.ico' )) } else { appIcon . setImage ( path . join ( __dirname , '../static/lover.png' )) } }, 500 ); \u5341\u4e00\u3001\u6d88\u606f\u901a\u77e5\u3001\u76d1\u542c\u7f51\u7edc\u53d8\u5316 \u00b6 1 \u6d88\u606f\u901a\u77e5 \u00b6 1. Electron \u5b9e\u73b0\u6d88\u606f\u901a\u77e5 Electron \u91cc\u9762\u7684\u6d88\u606f\u901a\u77e5\u662f\u57fa\u4e8e h5 \u7684\u901a\u77e5 api \u5b9e\u73b0\u7684 \u6587\u6863 https://developer.mozilla.org/zh-CN/docs/Web/API/notification 1. \u65b0\u5efanotification.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // h5api\u5b9e\u73b0\u901a\u77e5 const path = require ( 'path' ) let options = { title : 'electron \u901a\u77e5API' , body : 'hello poetries' , icon : path . join ( '../static/img/favicon2.ico' ) // \u901a\u77e5\u56fe\u6807 } document . querySelector ( '#showNotification' ). onclick = function () { let myNotification = new window . Notification ( options . title , options ) $ // \u6d88\u606f\u53ef\u70b9\u51fb myNotification . onclick = function () { console . log ( 'click notification' ) } } 2. \u5f15\u5165 1 2 3 4 <!-- src / index . html --> < button id = \"showNotification\" > \u5f39\u51fa\u6d88\u606f\u901a\u77e5 < /button> < script src = \"render/notification.js\" >< /script> mac \u4e0a\u7684\u6d88\u606f\u901a\u77e5 2 \u76d1\u542c\u7f51\u7edc\u53d8\u5316 \u00b6 1. \u57fa\u672c\u4f7f\u7528 1 2 3 4 5 6 7 8 9 // \u76d1\u542c\u7f51\u7edc\u53d8\u5316 // \u7aef\u5f00\u7f51\u7edc \u518d\u6b21\u8fde\u63a5\u6d4b\u8bd5 window . addEventListener ( 'online' , function (){ console . log ( 'online' ) }); $ $ window . addEventListener ( 'offline' , function (){ console . log ( 'offline' ) }); 2. \u76d1\u542c\u7f51\u7edc\u53d8\u5316\u5b9e\u73b0\u6d88\u606f\u901a\u77e5 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7aef\u5f00\u7f51\u7edc \u518d\u6b21\u8fde\u63a5\u6d4b\u8bd5 // \u76d1\u542c\u7f51\u7edc\u53d8\u5316\u5b9e\u73b0\u6d88\u606f\u901a\u77e5 window . addEventListener ( 'online' , function (){ console . log ( 'online' ) }); $ window . addEventListener ( 'offline' , function (){ // \u65ad\u5f00\u7f51\u7edc\u89e6\u53d1\u4e8b\u4ef6 var options = { title : 'QQ\u90ae\u7bb1' , body : '\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u7f51\u7edc' , icon : path . join ( '../static/img/favicon2.ico' ) // \u901a\u77e5\u56fe\u6807 } var myNotification = new window . Notification ( options . title , options ) myNotification . onclick = function () { console . log ( 'click notification' ) } }); \u5341\u4e8c\u3001\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e/\u526a\u5207\u677f\u4e8b\u4ef6/nativeImage \u6a21\u5757 \u00b6 Electron \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e ( globalShortcut ) \u4ee5\u53ca clipboard \u526a \u5207\u677f\u4e8b\u4ef6\u4ee5\u53ca nativeImage \u6a21\u5757(\u5b9e\u73b0\u7c7b\u4f3c\u64ad\u653e\u5668\u70b9\u51fb\u673a\u5668\u7801\u81ea\u52a8\u590d\u5236\u529f \u80fd) 1 \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e \u00b6 keyboard-shortcuts\u6587\u6863 app\u6a21\u5757\u53c2\u8003\u6587\u6863 1. \u65b0\u5efasrc/main/shortCut.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 const { globalShortcut , app } = require ( 'electron' ) app . on ( 'ready' , ()=>{ // \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e globalShortcut . register ( 'command+e' , ()=>{ console . log ( 1 ) }) // \u68c0\u6d4b\u5feb\u6377\u952e\u662f\u5426\u6ce8\u518c\u6210\u529f true\u662f\u6ce8\u518c\u6210\u529f let isRegister = globalShortcut . isRegistered ( 'command+e' ) console . log ( isRegister ) }) // \u9000\u51fa\u7684\u65f6\u5019\u53d6\u6d88\u5168\u5c40\u5feb\u6377\u952e app . on ( 'will-quit' , ()=>{ globalShortcut . unregister ( 'command+e' ) }) 2. \u5f15\u5165src/index.js 1 2 // \u6ce8\u610f\u5728\u5916\u90e8\u5f15\u5165\u5373\u53ef \u4e0d\u7528\u653e\u5230app\u4e2d require ( './main/shortCut.js' ) 2 \u526a\u5207\u677fclipboard\u3001nativeImage \u6a21\u5757 \u00b6 \u526a\u5207\u677fclipboard\u6587\u6863 nativeImage\u6a21\u5757 1. html 1 2 3 4 5 6 7 8 9 10 11 12 <!-- src / index . html --> < div > < h2 > \u53cc\u51fb\u4e0b\u9762\u4fe1\u606f\u590d\u5236 < /h2> < p id = 'msg' > 123456789 < /p> < button id = \"plat\" > \u7c98\u8d34 < /button><br / > < input id = \"text\" type = \"text\" /> < /div>. < div > < h2 > \u590d\u5236\u56fe\u7247\u5230\u754c\u9762 < /h2> < button id = \"copyImg\" > \u590d\u5236\u56fe\u7247 < /button><br / > < /div> < script src = \"render/clipboard.js\" >< /script> 2. \u65b0\u5efasrc/render/clipboard.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // clipboard\u53ef\u4ee5\u5728\u4e3b\u8fdb\u7a0b\u6216\u6e32\u67d3\u8fdb\u7a0b\u4f7f\u7528 const { clipboard , nativeImage } = require ( 'electron' ) //\u590d\u5236 // \u8fd0\u884cctrl+v\u53ef\u770b\u5230\u590d\u5236\u7684\u5185\u5bb9 // clipboard.writeText('poetries') // clipboard.readText() //\u83b7\u53d6\u590d\u5236\u7684\u5185\u5bb9 \u7c98\u8d34 // \u53cc\u51fb\u590d\u5236\u6d88\u606f let msg = document . querySelector ( '#msg' ) let plat = document . querySelector ( '#plat' ) let text = document . querySelector ( '#text' ) msg . ondblclick = function () { clipboard . writeText ( msg . innerHTML ) alert ( msg . innerHTML ) } plat . onclick = function () { text . value = clipboard . readText () } // \u590d\u5236\u56fe\u7247\u663e\u793a\u5230\u754c\u9762 let copyImg = document . querySelector ( '#copyImg' ) copyImg . onclick = function () { // \u7ed3\u5408nativeImage\u6a21\u5757 let image = nativeImage . createFromPath ( '../static/img/lover.png' ) $ // \u590d\u5236\u56fe\u7247 clipboard . writeImage ( image ) // \u7c98\u8d34\u56fe\u7247 let imgSrc = clipboard . readImage (). toDataURL () // base64\u56fe\u7247 // \u663e\u793a\u5230\u9875\u9762\u4e0a let imgDom = new Image () imgDom . src = imgSrc$ document . body . appendChild ( imgDom ) } \u5341\u4e09\u3001\u7ed3\u5408electron-vue \u00b6 1 electron-vue \u7684\u4f7f\u7528 \u00b6 1. electron-vue \u7684\u4e00\u4e9b\u8d44\u6e90 https://github.com/SimulatedGREG/electron-vue Electron-vue \u6587\u6863 https://simulatedgreg.gitbooks.io/electron-vue/content/cn 2. electron-vue \u73af\u5883\u642d\u5efa\u3001\u521b\u5efa\u9879\u76ee 1 2 3 4 5 6 7 8 9 npm install - g vue - cli vue init simulatedgreg / electron - vue my - project cd my - project yarn # or npm install yarn run dev # or npm run dev 3. electron-vue \u76ee\u5f55\u7ed3\u6784\u5206\u6790 2 electron-vue \u4e2d\u4f7f\u7528 sass/ElementUi \u00b6 1. electron-vue UI \u6846\u67b6 ElementUi \u7684\u4f7f\u7528 http://element-cn.eleme.io/#/zh-CN 2. electron-vue \u4e2d\u4f7f\u7528 sass electron-vue \u4e2d\u4f7f\u7528 sass 1 2 3 4 5 6 7 8 9 10 # \u5b89\u88c5 sass - loader : npm install -- save - dev sass - loader node - sass <!-- vue \u6587\u4ef6\u4e2d\u4fee\u6539 style \u4e3a\u5982\u4e0b\u4ee3\u7801 :--> < style lang = \"scss\" > $ body { /* SCSS */ $ } < /style> 3 electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355\u9690\u85cf \u00b6 electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355\u9690\u85cf\u9876\u90e8\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316\u3001\u5173\u95ed\u6309\u94ae \u81ea\u5b9a\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316 \u3001\u5173\u95ed\u6309\u94ae 1. electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355 1 2 // src/main/index.js mainWindow . setMenu ( null ) 2. electron-vue \u4e2d\u9690\u85cf\u5173\u95ed \u6700\u5927\u5316 \u6700\u5c0f\u5316\u6309\u94ae 1 2 3 4 5 6 7 // src/main/index.js mainWindow = new BrowserWindow ({ height : 620 , useContentSize : true , width : 1280 , frame : false /*\u53bb\u6389\u9876\u90e8\u5bfc\u822a \u53bb\u6389\u5173\u95ed\u6309\u94ae \u6700\u5927\u5316\u6700\u5c0f\u5316\u6309\u94ae*/ }) 3 .electron-vue \u81ea\u5b9a\u4e49\u5173\u95ed/\u6700\u5927\u5316\u6700\u5c0f\u5316\u6309\u94ae 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u6ce8\u610f\u5728mac\u4e0b\u4e0d\u9700\u8981\u76d1\u542c\u7a97\u53e3\u6700\u5927\u6700\u5c0f\u5316\u3001\u4ee5\u4e3a\u7cfb\u7edf\u9ed8\u8ba4\u652f\u6301\uff0c\u8fd9\u4e2a\u53ea\u662f\u9488\u5bf9windows\u5e73\u53f0 ipc . on ( 'window-min' , function () { mainWindow . minimize (); }) //\u767b\u5f55\u7a97\u53e3\u6700\u5927\u5316$ ipc . on ( 'window-max' , function (){ if ( mainWindow . isMaximized ()) { mainWindow . restore (); } else { mainWindow . maximize (); } }) $ ipc . on ( 'window-close' , function () { mainWindow . close (); }) 4. electron-vue \u81ea\u5b9a\u4e49\u5bfc\u822a\u53ef\u62d6\u62fd \u53ef\u62d6\u62fd\u7684 css : -webkit-app-region: drag; \u4e0d\u53ef\u62d6\u62fd\u7684 css : -webkit-app-region: no-drag; 4 \u4f7f\u7528electron-vue\u5f00\u53d1\u8206\u60c5\u76d1\u63a7\u7cfb\u7edf \u00b6 4.1 \u914d\u7f6e\u5f00\u53d1\u73af\u5883 1. \u9879\u76ee\u642d\u5efa 1 2 3 4 5 6 7 8 9 npm install -g vue-cli vue init simulatedgreg/electron-vue my-project cd my-project yarn # or npm install yarn run dev # or npm run dev 2. \u5b89\u88c5\u4e00\u4e9b\u4f9d\u8d56 1 2 3 4 5 # \u5b89\u88c5 sass-loader: npm install --save-dev sass-loader node-sass # \u5b89\u88c5elementUI\u3001js-md5 npm i element-ui js-md5 -S \u5728 .electron-vue / webpack.renderer.config.js \u4e2d\u914d\u7f6e sass-loader \u5c31\u53ef\u4ee5\u7f16\u5199 `sass \u4e86 1 2 3 4 5 6 7 <! --vue \u6587\u4ef6\u4e2d\u4fee\u6539 style \u4e3a\u5982\u4e0b\u4ee3\u7801 : -- > < style lang = \"scss\" >$ body { /* SCSS */ $ } </ style > 4.2 \u4e3b\u8fdb\u7a0b\u914d\u7f6e 1. src/main/index.js 1 2 3 4 5 6 7 8 9 function createWindow () { // \u53bb\u6389\u9876\u90e8\u83dc\u5355 mainWindow . setMenu ( null ) $ // \u83dc\u5355\u9879 require ( './model/menu.js' ); $ // \u7cfb\u7edf\u6258\u76d8\u76f8\u5173 require ( './model/tray.js' ); 2. src/main/menu.js \u83dc\u5355\u914d\u7f6e 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 const { Menu , ipcMain , BrowserWindow } = require ( 'electron' ); //\u53f3\u952e\u83dc\u5355 const contextMenuTemplate = [ { label : '\u590d\u5236' , role : 'copy' }, { label : '\u9ecf\u8d34' , role : 'paste' }, $ { type : 'separator' }, //\u5206\u9694\u7ebf { label : '\u5176\u4ed6\u529f\u80fd' , $ click : () => { console . log ( 'click' ) } } ]; const contextMenu = Menu . buildFromTemplate ( contextMenuTemplate ); ipcMain . on ( 'contextmenu' , function (){ contextMenu . popup ( BrowserWindow . getFocusedWindow ()); }) 3. src/main/tray.js \u7cfb\u7edf\u6258\u76d8\u914d\u7f6e \u6258\u76d8\u70b9\u51fb\u76d1\u542c\u4e8b\u4ef6\u53ea\u6709\u5728 windows \u4e0b\u624d\u751f\u6548\uff0c mac \u7cfb\u7edf\u9ed8\u8ba4\u652f\u6301 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 ( function () { const path = require ( 'path' ); const { app , Menu , BrowserWindow , Tray , shell } = require ( 'electron' ); //\u521b\u5efa\u7cfb\u7edf\u6258\u76d8 const tray = new Tray ( path . resolve ( __static , 'favicon.png' )) //\u7ed9\u6258\u76d8\u589e\u52a0\u53f3\u952e\u83dc\u5355 const template = [ { label : '\u8bbe\u7f6e' , click : function () { shell . openExternal ( 'http://blog.poetries.top' ) } }, { label : '\u5e2e\u52a9' , click : function () { shell . openExternal ( 'http://blog.poetries.top/2019/01/06/electron-summary' ) } }, { label : '\u5173\u4e8e' , click : function () { shell . openExternal ( 'https://github.com/poetries/yuqing-monitor-electron' ) } }, { label : '\u9000\u51fa' , click : function () { // BrowserWindow.getFocusedWindow().webContents().send('close-main-window'); app . quit (); $ } } ]; const menu = Menu . buildFromTemplate ( template ); tray . setContextMenu ( menu ); tray . setToolTip ( '\u8206\u60c5\u76d1\u63a7\u7cfb\u7edf' ); //\u76d1\u542c\u5173\u95ed\u4e8b\u4ef6\u9690\u85cf\u5230\u7cfb\u7edf\u6258\u76d8 // \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff1a\u5728window\u4e2d\u624d\u751f\u6548\uff0cmac\u4e0b\u7cfb\u7edf\u9ed8\u8ba4\u652f\u6301 // var win = BrowserWindow.getFocusedWindow(); // win.on('close',(e)=>{ // if(!win.isFocused()){ // win=null; // }else{ // e.preventDefault(); /*\u963b\u6b62\u5e94\u7528\u9000\u51fa*/ // win.hide(); /*\u9690\u85cf\u5f53\u524d\u7a97\u53e3*/ // } $ // }) // //\u76d1\u542c\u6258\u76d8\u7684\u53cc\u51fb\u4e8b\u4ef6 // tray.on('double-click',()=>{ $ // win.show(); // }) })() 4. src/main/shortCut.js \u5feb\u6377\u952e\u914d\u7f6e \u5728 src/main/index.js \u4e2d\u5f15\u5165\uff08 require('src/main/shortCut.js') \uff09\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u653e\u5230 app \u76d1\u63a7\u4e2d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var { globalShortcut , app } = require ( 'electron' ) app . on ( 'ready' , ()=>{ // \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e globalShortcut . register ( 'command+e' , ()=>{ console . log ( 1 ) }) // \u68c0\u6d4b\u5feb\u6377\u952e\u662f\u5426\u6ce8\u518c\u6210\u529f true\u662f\u6ce8\u518c\u6210\u529f let isRegister = globalShortcut . isRegistered ( 'command+e' ) console . log ( isRegister ) }) // \u9000\u51fa\u7684\u65f6\u5019\u53d6\u6d88\u5168\u5c40\u5feb\u6377\u952e app . on ( 'will-quit' , ()=>{ globalShortcut . unregister ( 'command+e' ) }) 4.3 \u6e32\u67d3\u8fdb\u7a0b\u914d\u7f6e 1. src/render/main.js\u914d\u7f6e 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 import Vue from 'vue' import axios from 'axios' import App from './App' import router from './router' import store from './store' import ElementUI from 'element-ui' ; import 'element-ui/lib/theme-chalk/index.css' ; import VueHighcharts from 'vue-highcharts' ; import VueSocketIO from 'vue-socket.io' Vue . use ( ElementUI ); Vue . use ( VueHighcharts ); //\u5f15\u5165socket.io\u914d\u7f6e\u8fde\u63a5 Vue . use ( new VueSocketIO ({ debug : true , connection : 'http://118.123.14.36:3000' , vuex : { store , actionPrefix : 'SOCKET_' , mutationPrefix : 'SOCKET_' } })) if ( ! process . env . IS_WEB ) Vue . use ( require ( 'vue-electron' )) Vue . http = Vue . prototype . $http = axios Vue . config . productionTip = false /* eslint-disable no-new */ new Vue ({ components : { App }, router , store , template : '<App/>' }). $mount ( '#app' ) 2. \u8def\u7531\u914d\u7f6esrc/renderer/router/index.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 import Vue from 'vue' import Router from 'vue-router' Vue . use ( Router ) export default new Router ({ routes : [ { path : '/home' , name : 'home' , component : require ( '@/components/Home' ). default }, { path : '/report' , name : 'report' , component : require ( '@/components/Report' ). default }, { path : '/negativereport' , name : 'negativereport' , component : require ( '@/components/NegativeReport' ). default }, { path : '/positivereport' , name : 'positivereport' , component : require ( '@/components/PositiveReport' ). default }, { path : '/keyword' , name : 'keyword' , component : require ( '@/components/KeyWord' ). default }, { path : '/alarm' , name : 'alarm' , component : require ( '@/components/Alarm' ). default }, { path : '/msg' , name : 'msg' , component : require ( '@/components/Msg' ). default }, { path : '*' , redirect : '/home' } ] }) \u5176\u4ed6\u9875\u9762\u66f4\u591a\u8be6\u60c5Github 3. \u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u4e3b\u8fdb\u7a0b\u65b9\u5f0f 1 2 // electron\u6302\u8f7d\u5230\u4e86vue\u5b9e\u4f8b\u4e0a $electron this . $electron . shell 4.4 \u591a\u5e73\u53f0\u6253\u5305 \u9700\u8981\u6ce8\u610f\u7684\u662f\u6253\u5305 mac \u7248\u672c\u5728 mac \u7cfb\u7edf\u4e0a\u6253\u5305\uff0c\u6253\u5305 window \u5219\u5728 windows \u4e0a\u6253\u5305\uff0c\u53ef\u4ee5\u907f\u514d\u5f88\u591a\u95ee\u9898 1 2 # \u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u6267\u884c\u5373\u53ef\u6253\u5305\u5e94\u7528 npm run build 4.4.1 \u6253\u5305\u4ecb\u7ecd electron-vue\u6253\u5305\u6587\u6863 1. electron \u4e2d\u6784\u5efa\u5e94\u7528\u6700\u5e38\u7528\u7684\u6a21\u5757 electron-packager electron-builder electron-packager \u548c electron-builder \u5728\u81ea\u5df1\u5355\u72ec\u521b\u5efa\u7684\u5e94\u7528\u7528\u4e5f\u53ef\u4ee5\u5b8c\u6210\u6253\u5305\u529f \u80fd\u3002\u4f46\u662f\u7531\u4e8e\u914d\u7f6e\u592a\u590d\u6742\u6240\u4ee5\u6211\u4eec\u4e0d\u5efa\u8bae\u5355\u72ec\u914d\u7f6e 2. electron-forge https://github.com/electron-userland/electron-forge 1 2 electron-forge package$ electron-forge make 3. electron-vue\u4e2d\u7684\u6253\u5305\u65b9\u5f0f 1 2 3 # https://simulatedgreg.gitbooks.io/electron-vue/content/cn/using-electron-packager. html # \u4e4b\u9700\u8981\u6267\u884c\u4e00\u6761\u547d\u4ee4 npm run build 4.4.2 \u4fee\u6539\u5e94\u7528\u4fe1\u606f 1. \u4fee\u6539package.json 2. \u4fee\u6539src/index.ejs\u6807\u9898\u4fe1\u606f 3. \u4fee\u6539build/icons\u56fe\u6807 4.4.3 \u6253\u5305\u9047\u5230\u7684\u95ee\u9898 1. \u521b\u5efa\u5e94\u7528\u6258\u76d8\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u9047\u5230\u9519\u8bef \u628a\u6258\u76d8\u56fe\u7247\u653e\u5728\u6839\u76ee\u5f55 static \u91cc\u9762\uff0c\u7136\u540e\u6ce8\u610f\u4e0b\u9762\u5199\u6cd5\u3002 1 var tray = new Tray ( path . join ( __static , 'favicon.ico' )) \u5982\u679c\u6258\u76d8\u8def\u5f84\u6ca1\u6709\u95ee\u9898\uff0c\u8fd8\u662f\u5305\u6258\u76d8\u76f8\u5173\u9519\u8bef\u7684\u8bdd\uff0c\u628a\u6258\u76d8\u5bf9\u5e94\u7684\u56fe\u7247\u6362\u6210 .png \u683c\u5f0f\u91cd\u8bd5 2. \u6a21\u5757\u95ee\u9898\u53ef\u80fd\u4f1a\u9047\u5230\u7684\u9519\u8bef \u89e3\u51b3\u529e\u6cd5 \u5220\u6389 node_modules \u7136\u540e\u91cd\u65b0\u7528 npm install \u5b89\u88c5\u4f9d\u8d56 \u7528 yarn \u6765\u5b89\u88c5\u6a21\u5757 \u7528\u624b\u673a\u521b\u5efa\u4e00\u4e2a\u70ed\u70b9\u7535\u8111\u8fde\u4e0a\u70ed\u70b9\u91cd\u8bd5 \u6700\u540e\u6267\u884c yarn run build \u5373\u53ef \u9879\u76ee\u6e90\u7801 https://github.com/poetries/yuqing-monitor-electron \u5341\u56db\u3001\u66f4\u591a\u53c2\u8003 \u00b6 electron\u5b98\u65b9\u6587\u6863 Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528mac/windows/linux electron\u5b66\u4e60\u8d44\u6599\u6574\u7406","title":"Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron","text":"Electron \u662f\u7531Github\u5f00\u53d1\uff0c\u7528HTML\uff0cCSS\u548cJavaScript\u6765\u6784\u5efa\u8de8\u5e73\u53f0\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u4e00\u4e2a\u5f00\u6e90\u5e93\u3002 Electron\u901a\u8fc7\u5c06 Chromium \u548c Node.js \u5408\u5e76\u5230\u540c\u4e00\u4e2a\u8fd0\u884c\u65f6\u73af\u5883\u4e2d\uff0c\u5e76\u5c06\u5176\u6253\u5305\u4e3aMac\uff0cWindows\u548cLinux\u7cfb\u7edf\u4e0b\u7684\u5e94\u7528\u6765\u5b9e\u73b0\u8fd9\u4e00\u76ee\u7684\u3002 \u6700\u521d\u4e3a GitHub \u5f00\u53d1 Atom \u7f16\u8f91\u5668, \u76ee\u524d\u5df2\u6210\u4e3a\u5f00\u6e90\u5f00\u53d1\u8005\u3001\u521d\u521b\u4f01\u4e1a\u548c\u8001\u724c\u516c\u53f8\u5e38\u7528\u7684\u5f00\u53d1\u5de5\u5177\u3002 \u770b\u770b\u8c01\u5728\u4f7f\u7528Electron \u3002","title":"\u4e00\u3001Electron \u7b80\u4ecb"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron_1","text":"2013\u5e744\u6708 Atom Shell \u9879\u76ee\u542f\u52a8 \u3002 2014\u5e745\u6708 Atom Shell \u88ab\u5f00\u6e90 \u3002 2015\u5e744\u6708 Atom Shell \u88ab\u91cd\u547d\u540d\u4e3a Electron \u3002 2016\u5e745\u6708 Electron \u53d1\u5e03\u4e86 v1.0.0 \u7248\u672c \u3002 2016\u5e745\u6708 Electron \u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4e0a\u67b6 Mac App Store \u3002 2016\u5e748\u6708 Windows Store \u652f\u6301 Electron \u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f \u3002","title":"Electron \u53d1\u5c55\u5386\u7a0b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_1","text":"1. \u5b89\u88c5 electron 1 npm install -g electron 2. \u514b\u9686\u4e00\u4e2a\u4ed3\u5e93\u3001\u5feb\u901f\u542f\u52a8\u4e00\u4e2a\u9879\u76ee 1 2 3 4 5 6 7 8 # \u514b\u9686\u793a\u4f8b\u9879\u76ee\u7684\u4ed3\u5e93 git clone https://github.com/electron/electron-quick-start # \u8fdb\u5165\u8fd9\u4e2a\u4ed3\u5e93 cd electron-quick-start # \u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c npm install && npm start 3. \u624b\u52a8\u642d\u5efa\u4e00\u4e2a electron \u9879\u76ee \u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55 \u4f8b\u5982: electrondemo01 \u5728 electrondemo01 \u76ee\u5f55\u4e0b\u9762\u65b0\u5efa\u4e09\u4e2a\u6587\u4ef6: index.html \u3001 main.js \u3001 package.json index.html \u91cc\u9762\u7528 css \u8fdb\u884c\u5e03\u5c40\uff08\u4ee5\u524d\u600e\u4e48\u5199\u73b0\u5728\u8fd8\u662f\u600e\u4e48\u5199\uff09 \u5728 main.js \u4e2d\u5199\u5982\u4e0b\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var electron = require ( 'electron' ); //electron \u5bf9\u8c61\u7684\u5f15\u7528 const app = electron . app ; //BrowserWindow \u7c7b\u7684\u5f15\u7528 const BrowserWindow = electron . BrowserWindow ; let mainWindow = null ; //\u76d1\u542c\u5e94\u7528\u51c6\u5907\u5b8c\u6210\u7684\u4e8b\u4ef6 app.on('ready',function(){ //\u76d1\u542c\u5e94\u7528\u51c6\u5907\u5b8c\u6210\u7684\u4e8b\u4ef6 app . on ( 'ready' , function (){ //\u521b\u5efa\u7a97\u53e3 mainWindow = new BrowserWindow ({ width : 800 , height : 600 }); mainWindow . loadFile ( 'index.html' ); mainWindow . on ( 'closed' , function () { mainWindow = null ; }) }) }) //\u76d1\u542c\u6240\u6709\u7a97\u53e3\u5173\u95ed\u7684\u4e8b\u4ef6$ app . on ( 'window-all-closed' , function () { // On OS X it is common for applications and their menu bar // to stay active until the user quits explicitly with Cmd + Q$ if ( process . platform !== 'darwin' ) { app . quit (); $ } }) \u8fd0\u884c 1 electron . #\u6ce8\u610f:\u547d\u4ee4\u540e\u9762\u6709\u4e2a\u70b9 4. electron-forge \u642d\u5efa\u4e00\u4e2a electron \u9879\u76ee electron-forge \u76f8\u5f53\u4e8e electron \u7684\u4e00\u4e2a\u811a\u624b\u67b6\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u66f4\u65b9\u4fbf\u7684\u521b\u5efa\u3001\u8fd0\u884c\u3001\u6253\u5305 electron \u9879\u76ee 1 2 3 4 5 6 7 npm install -g electron-forge$ electron-forge init my-new-app$ cd my-new-app npm start","title":"\u4e8c\u3001\u73af\u5883\u642d\u5efa"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron_2","text":"","title":"\u4e09\u3001Electron \u8fd0\u884c\u6d41\u7a0b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1-electron","text":"","title":"1 Electron \u8fd0\u884c\u7684\u6d41\u7a0b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-electron","text":"Electron \u8fd0\u884c package.json \u7684 main \u811a\u672c\u7684\u8fdb\u7a0b\u88ab\u79f0\u4e3a\u4e3b\u8fdb\u7a0b\u3002 \u5728\u4e3b\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u7684\u811a\u672c\u901a\u8fc7\u521b\u5efa web \u9875\u9762\u6765\u5c55\u793a\u7528\u6237\u754c\u9762\u3002 \u4e00\u4e2a Electron \u5e94\u7528\u603b\u662f\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u3002 \u7531\u4e8e Electron \u4f7f\u7528\u4e86 Chromium (\u8c37\u6b4c\u6d4f\u89c8\u5668)\u6765\u5c55\u793a web \u9875\u9762\uff0c\u6240\u4ee5 Chromium \u7684 \u591a\u8fdb\u7a0b\u67b6\u6784\u4e5f\u88ab\u4f7f\u7528\u5230\u3002 \u6bcf\u4e2a Electron \u4e2d\u7684 web \u9875\u9762\u8fd0\u884c\u5728\u5b83\u81ea\u5df1\u7684\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u3002 \u4e3b\u8fdb\u7a0b\u4f7f\u7528 BrowserWindow \u5b9e\u4f8b\u521b\u5efa\u9875\u9762\u3002\u6bcf\u4e2a BrowserWindow \u5b9e\u4f8b\u90fd\u5728\u81ea\u5df1\u7684\u6e32 \u67d3\u8fdb\u7a0b\u91cc\u8fd0\u884c\u9875\u9762\u3002 \u5f53\u4e00\u4e2a BrowserWindow \u5b9e\u4f8b\u88ab\u9500\u6bc1\u540e\uff0c\u76f8\u5e94\u7684\u6e32\u67d3\u8fdb\u7a0b\u4e5f\u4f1a\u88ab\u7ec8\u6b62\u3002","title":"2 Electron \u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#3-electron-nodejs","text":"\u5728\u666e\u901a\u7684\u6d4f\u89c8\u5668\u4e2d\uff0c web \u9875\u9762\u901a\u5e38\u5728\u4e00\u4e2a\u6c99\u76d2\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u4e0d\u88ab\u5141\u8bb8\u53bb\u63a5\u89e6\u539f\u751f\u7684\u8d44\u6e90\u3002 \u7136\u800c Electron \u7684\u7528\u6237\u5728 Node.js \u7684 API \u652f\u6301\u4e0b\u53ef\u4ee5\u5728\u9875\u9762\u4e2d\u548c\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e9b\u5e95\u5c42\u4ea4\u4e92\u3002 Nodejs \u5728\u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002\u6e32\u67d3\u8fdb\u7a0b\u56e0\u4e3a\u5b89\u5168\u9650\u5236\uff0c\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u751f GUI \u3002\u867d\u7136\u5982\u6b64\uff0c\u56e0\u4e3a\u96c6\u6210\u4e86 Nodejs\uff0c\u6e32\u67d3\u8fdb\u7a0b\u4e5f\u6709\u4e86\u64cd\u4f5c\u7cfb\u7edf\u5e95\u5c42 API \u7684\u80fd\u529b\uff0c Nodejs \u4e2d\u5e38\u7528\u7684 Path \u3001 fs \u3001 Crypto \u7b49\u6a21\u5757\u5728 Electron \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u65b9\u4fbf\u6211\u4eec\u5904\u7406\u94fe\u63a5\u3001\u8def\u5f84\u3001 \u6587\u4ef6 MD5 \u7b49\uff0c\u540c\u65f6 npm \u8fd8\u6709\u6210\u5343\u4e0a\u4e07\u7684\u6a21\u5757\u4f9b\u6211\u4eec\u9009\u62e9\u3002 1 2 3 4 5 6 7 8 9 10 var fs = require ( 'fs' ); var content = document . getElementById ( 'content' ); var button = document . getElementById ( 'button' ); button . addEventListener ( 'click' , function ( e ){ fs . readFile ( 'package.json' , 'utf8' , function ( err , data ){ content . textContent = data ; console . log ( data ); }); });","title":"3 Electron \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7 Nodejs \u8bfb\u53d6\u672c\u5730\u6587\u4ef6"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#4-electron","text":"1 mainWindow . webContents . openDevTools ();","title":"4 Electron \u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron_3","text":"Electron \u6a21\u5757\u4ecb\u7ecd\u3001 remote \u6a21\u5757\u3001\u901a \u8fc7 BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3","title":"\u56db\u3001Electron \u6a21\u5757\u4ecb\u7ecd"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1-electron_1","text":"","title":"1 Electron \u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-electron-remote","text":"remote \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u6e32\u67d3\u8fdb\u7a0b(\u7f51\u9875)\u548c\u4e3b\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u8fdb\u7a0b\u95f4\u901a\u8baf( IPC )\u7684\u7b80\u4fbf\u9014\u5f84\u3002\u5728 Electron \u4e2d, \u4e0e GUI \u76f8\u5173\u7684\u6a21\u5757(\u5982 dialog , menu \u7b49)\u53ea\u5b58\u5728\u4e8e\u4e3b\u8fdb\u7a0b\uff0c\u800c\u4e0d\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d \u3002\u4e3a\u4e86\u80fd\u4ece\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u5b83\u4eec\uff0c\u9700\u8981\u7528 ipc \u6a21\u5757\u6765\u7ed9\u4e3b\u8fdb\u7a0b\u53d1\u9001\u8fdb\u7a0b\u95f4\u6d88\u606f\u3002\u4f7f\u7528 remote \u6a21\u5757\uff0c\u53ef\u4ee5\u8c03\u7528\u4e3b\u8fdb\u7a0b\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u800c\u65e0\u9700\u663e\u5f0f\u5730\u53d1\u9001\u8fdb\u7a0b\u95f4\u6d88\u606f\uff0c\u8fd9\u7c7b\u4f3c\u4e8e Java \u7684 RMI \u3002","title":"2 Electron remote \u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#3-browserwindow","text":"Electron \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7 remote \u6a21\u5757\u8c03\u7528\u4e3b\u8fdb\u7a0b\u4e2d\u7684 BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3\uff0c\u8be6\u60c5\u53ef\u53c2\u8003\uff1a https://electronjs.org/docs/api/browser-window 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // \u4e3b\u8fdb\u7a0b\u4ee3\u7801 const electron = require ( 'electron' ); // \u63a7\u5236\u5e94\u7528\u751f\u547d\u5468\u671f\u7684\u6a21\u5757 const { app } = electron ; // \u521b\u5efa\u672c\u5730\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u6a21\u5757 const { BrowserWindow } = electron ; // \u6307\u5411\u7a97\u53e3\u5bf9\u8c61\u7684\u4e00\u4e2a\u5168\u5c40\u5f15\u7528\uff0c\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u5f15\u7528\uff0c\u90a3\u4e48\u5f53\u8be5 javascript \u5bf9\u8c61\u88ab\u5783\u573e\u56de\u6536 \u7684 // \u65f6\u5019\u8be5\u7a97\u53e3\u5c06\u4f1a\u81ea\u52a8\u5173\u95ed let win ; function createWindow () { // \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u7a97\u53e3 win = new BrowserWindow ({ width : 1104 , height : 620 }); //570+50 $ // \u5e76\u4e14\u88c5\u8f7d\u5e94\u7528\u7684 index.html \u9875\u9762 win . loadURL ( `file:// ${ __dirname } /html/index.html` ); $ // \u6253\u5f00\u5f00\u53d1\u5de5\u5177\u9875\u9762 win . webContents . openDevTools (); $ //\u5f53\u7a97\u53e3\u5173\u95ed\u65f6\u8c03\u7528\u7684\u65b9\u6cd5 win . on ( 'closed' , () => { // \u89e3\u9664\u7a97\u53e3\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u901a\u5e38\u800c\u8a00\u5982\u679c\u5e94\u7528\u652f\u6301\u591a\u4e2a\u7a97\u53e3\u7684\u8bdd\uff0c\u4f60\u4f1a\u5728\u4e00\u4e2a\u6570\u7ec4\u91cc // \u5b58\u653e\u7a97\u53e3\u5bf9\u8c61\uff0c\u5728\u7a97\u53e3\u5173\u95ed\u7684\u65f6\u5019\u5e94\u5f53\u5220\u9664\u76f8\u5e94\u7684\u5143\u7d20\u3002 win = null ; }); } // \u5f53 Electron \u5b8c\u6210\u521d\u59cb\u5316\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\u3002 // \u6709\u4e9b API \u53ea\u80fd\u5728\u8be5\u4e8b\u4ef6\u53d1\u751f\u540e\u624d\u80fd\u88ab\u4f7f\u7528 app . on ( 'ready' , createWindow ); // \u5f53\u6240\u6709\u7684\u7a97\u53e3\u88ab\u5173\u95ed\u540e\u9000\u51fa\u5e94\u7528 app . on ( 'window-all-closed' , () => { // \u5bf9\u4e8e OS X \u7cfb\u7edf\uff0c\u5e94\u7528\u548c\u76f8\u5e94\u7684\u83dc\u5355\u680f\u4f1a\u4e00\u76f4\u6fc0\u6d3b\u76f4\u5230\u7528\u6237\u901a\u8fc7 Cmd + Q \u663e\u5f0f\u9000\u51fa$ if ( process . platform !== 'darwin' ) { app . quit (); } }); app . on ( 'activate' , () => { // \u5bf9\u4e8e OS X \u7cfb\u7edf\uff0c\u5f53 dock \u56fe\u6807\u88ab\u70b9\u51fb\u540e\u4f1a\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a app \u7a97\u53e3\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6709\u5176\u4ed6 // \u7a97\u53e3\u6253\u5f00 if ( win === null ) { createWindow (); $ } }); // \u5728\u8fd9\u4e2a\u6587\u4ef6\u540e\u9762\u4f60\u53ef\u4ee5\u76f4\u63a5\u5305\u542b\u4f60\u5e94\u7528\u7279\u5b9a\u7684\u7531\u4e3b\u8fdb\u7a0b\u8fd0\u884c\u7684\u4ee3\u7801\u3002$ // \u4e5f\u53ef\u4ee5\u628a\u8fd9\u4e9b\u4ee3\u7801\u653e\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7136\u540e\u5728\u8fd9\u91cc\u5bfc\u5165 // \u6e32\u67d3\u8fdb\u7a0b\u4ee3\u7801 /src/render/index.js // \u6253\u5f00\u65b0\u7a97\u53e3\u5c5e\u6027\u7528\u6cd5\u6709\u70b9\u7c7b\u4f3cvscode\u6253\u5f00\u65b0\u7684\u7a97\u53e3 const btn = document . querySelector ( '#btn' ); const path = require ( 'path' ); const BrowerWindow = require ( 'electron' ). remote . BrowserWindow ; btn . onclick = () => { win = new BrowerWindow ({ $ width : 300 , height : 200 , $ frame : false , // false\u9690\u85cf\u5173\u95ed\u6309\u94ae\u3001\u83dc\u5355\u9009\u9879 true\u663e\u793a fullscreen : true , // \u5168\u5c4f\u5c55\u793a transparent : true $ }) $ win . loadURL ( path . join ( 'file:' , __dirname , 'news.html' )); win . on ( 'close' ,()=>{ win = null }); }","title":"3 \u901a\u8fc7BrowserWindow \u6253\u5f00\u65b0\u7a97\u53e3"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_2","text":"","title":"\u4e94\u3001\u81ea\u5b9a\u4e49\u9876\u90e8\u83dc\u5355/\u53f3\u952e\u83dc\u5355"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1-menu-","text":"https://electronjs.org/docs/api/menu-item Electron \u4e2d Menu \u6a21\u5757\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u539f\u751f\u83dc\u5355\uff0c\u5b83\u53ef\u7528\u4f5c\u5e94\u7528\u83dc\u5355\u548c context \u83dc\u5355 \u8fd9\u4e2a\u6a21\u5757\u662f\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u6a21\u5757\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 remote \u6a21\u5757\u7ed9\u6e32\u67d3\u8fdb\u7a0b\u8c03\u7528 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // main/menu.js const { Menu } = require ( 'electron' ) // \u6587\u6863 https://electronjs.org/docs/api/menu-item // \u83dc\u5355\u9879\u76ee let menus = [ { label : '\u6587\u4ef6' , submenu : [ { label : '\u65b0\u5efa\u6587\u4ef6' , accelerator : 'ctrl+n' , // \u7ed1\u5b9a\u5feb\u6377\u952e click : function () { // \u7ed1\u5b9a\u4e8b\u4ef6 console . log ( '\u65b0\u5efa\u6587\u4ef6' ) } }, { label : '\u65b0\u5efa\u7a97\u53e3' , click : function () { console . log ( '\u65b0\u5efa\u7a97\u53e3' ) } } ] }, { label : '\u7f16\u8f91' , submenu : [ { label : '\u590d\u5236' , role : 'copy' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd }, { label : '\u526a\u5207' , role : 'cut' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd } ] }, { label : '\u89c6\u56fe' , submenu : [ { label : '\u6d4f\u89c8' }, { label : '\u641c\u7d22' } ] } ] let m = Menu . buildFromTemplate ( menus ) Menu . setApplicationMenu ( m ) // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/menu.js' ) }; \u6211\u4eec\u7ed9\u83dc\u5355\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u5728\u547d\u4ee4\u884c\u63a7\u5236\u53f0\u53ef\u4ee5\u770b\u5230","title":"1 \u4e3b\u8fdb\u7a0b\u4e2d\u8c03\u7528Menu\u6a21\u5757-\u81ea\u5b9a\u4e49\u8f6f\u4ef6\u9876\u90e8\u83dc\u5355"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-menu","text":"\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5efa\u8bae\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u4f7f\u7528 1. remote \u901a\u8fc7 remote \u8c03\u7528\u4e3b\u8fdb\u7a0b\u7684\u65b9\u6cd5 1 2 3 4 5 // \u83dc\u5355\u5f15\u5165\u7684\u65b9\u5f0f\u53d1\u751f\u53d8\u5316 const { Menu } = require ( 'electron' ). remote // \u5176\u4ed6\u4ee3\u7801\u548c\u4e0a\u9762\u83dc\u5355\u4e00\u6837 // ... 2. \u52a0\u5165index.html 1 < script src = \"render/menu.js\" >< /script>","title":"2 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u8c03\u7528Menu\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#3","text":"1. \u5b9a\u4e49\u83dc\u5355 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // render/menu.js // \u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7remote\u6a21\u5757\u8c03\u7528\u4e3b\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757 const { Menu } = require ( 'electron' ). remote const { remote } = require ( 'electron' ) // \u6587\u6863 https://electronjs.org/docs/api/menu-item // \u83dc\u5355\u9879\u76ee let menus = [ { label : '\u6587\u4ef6' , submenu : [ { label : '\u65b0\u5efa\u6587\u4ef6' , accelerator : 'ctrl+n' , // \u7ed1\u5b9a\u5feb\u6377\u952e click : function () { // \u7ed1\u5b9a\u4e8b\u4ef6 console . log ( '\u65b0\u5efa\u6587\u4ef6' ) } }, { label : '\u65b0\u5efa\u7a97\u53e3' , click : function () { console . log ( '\u65b0\u5efa\u7a97\u53e3' ) } } ] }, { label : '\u7f16\u8f91' , submenu : [ { label : '\u590d\u5236' , role : 'copy' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd }, { label : '\u526a\u5207' , role : 'cut' // \u8c03\u7528\u5185\u7f6e\u89d2\u8272\u5b9e\u73b0\u5bf9\u5e94\u529f\u80fd } ] }, { label : '\u89c6\u56fe' , submenu : [ { label : '\u6d4f\u89c8' }, { label : '\u641c\u7d22' } ] } ] let m = Menu . buildFromTemplate ( menus ) // Menu.setApplicationMenu(m) // \u7ed1\u5b9a\u53f3\u952e\u83dc\u5355 window . addEventListener ( 'contextmenu' , ( e )=>{ e . preventDefault () m . popup ({ window : remote . getCurrentWindow () }) }, false ) 2. \u5f15\u5165 1 2 <!-- index . html --> < script src = \"render/menu.js\" >< /script>","title":"3 \u6e32\u67d3\u8fdb\u7a0b\u4e2d\u81ea\u5b9a\u4e49\u53f3\u952e\u83dc\u5355"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_3","text":"\u6e32\u67d3\u8fdb\u7a0b https://electronjs.org/docs/api/ipc-renderer \u4e3b\u8fdb\u7a0b https://electronjs.org/docs/api/ipc-main","title":"\u516d\u3001\u8fdb\u7a0b\u901a\u4fe1"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1","text":"\u6709\u65f6\u5019\u6211\u4eec\u60f3\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u53bb\u6267\u884c\u4e3b\u8fdb\u7a0b\u91cc\u9762\u7684\u65b9\u6cd5\u3002\u6216\u8005\u5728\u6e32\u67d3\u8fdb\u7a0b\u4e2d\u901a\u77e5 \u4e3b\u8fdb\u7a0b\u5904\u7406\u4e8b\u4ef6\uff0c\u4e3b\u8fdb\u7a0b\u5904\u7406\u5b8c\u6210\u540e\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\u8ba9\u6e32\u67d3\u8fdb\u7a0b\u53bb\u5904\u7406\u4e00\u4e9b\u4e8b\u60c5\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31 \u7528\u5230\u4e86\u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u76f8\u4e92\u901a\u4fe1 Electron \u4e3b\u8fdb\u7a0b\uff0c\u548c\u6e32\u67d3\u8fdb\u7a0b\u7684\u901a\u4fe1\u4e3b\u8981\u7528\u5230\u4e24\u4e2a\u6a21\u5757: ipcMain \u548c ipcRenderer ipcMain :\u5f53\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u65f6\uff0c\u5b83\u5904\u7406\u4ece\u6e32\u67d3\u5668\u8fdb\u7a0b(\u7f51\u9875)\u53d1\u9001\u51fa\u6765\u7684\u5f02\u6b65\u548c\u540c\u6b65\u4fe1\u606f,\u5f53\u7136\u4e5f\u6709\u53ef\u80fd\u4ece\u4e3b\u8fdb\u7a0b\u5411\u6e32\u67d3\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f\u3002 ipcRenderer : \u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u4e00\u4e9b\u65b9\u6cd5\u4ece\u6e32\u67d3\u8fdb\u7a0b ( web \u9875\u9762) \u53d1\u9001\u540c\u6b65\u6216\u5f02\u6b65\u7684\u6d88\u606f\u5230\u4e3b\u8fdb\u7a0b\u3002 \u4e5f\u53ef\u4ee5\u63a5\u6536\u4e3b\u8fdb\u7a0b\u56de\u590d\u7684\u6d88\u606f","title":"1 \u4e3b\u8fdb\u7a0b\u4e0e\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2","text":"\u4e5f\u5c31\u662f\u4e24\u4e2a\u7a97\u53e3\u76f4\u63a5\u7684\u901a\u4fe1","title":"2 \u6e32\u67d3\u8fdb\u7a0b\u4e0e\u6e32\u67d3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron-shell","text":"","title":"\u4e03\u3001Electron Shell \u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1-shell","text":"\u6587\u6863 https://electronjs.org/docs/api/shell Electron Shell \u6a21\u5757\u5728\u7528\u6237\u9ed8\u8ba4\u6d4f\u89c8\u5668 \u4e2d\u6253\u5f00 URL \u4ee5\u53ca Electron DOM webview \u6807\u7b7e\u3002 Shell \u65e2\u5c5e\u4e8e\u4e3b\u8fdb\u7a0b\u6a21\u5757\u53c8\u662f\u6e32\u67d3\u8fdb\u7a0b\u6a21\u5757 shell \u6a21\u5757\u63d0\u4f9b\u4e86\u96c6\u6210\u5176\u4ed6\u684c\u9762\u5ba2\u6237\u7aef\u7684\u5173\u8054\u529f\u80fd 1. \u5f15\u5165 1 2 3 <!-- index . html --> < button id = \"shellDom\" > \u901a\u8fc7shell\u6253\u5f00\u5916\u90e8\u94fe\u63a5 < /button> < script src = \"render/shell.js\" >< /script> 2. shell.js 1 2 3 4 5 6 7 8 // src/render/shell.js const { shell } = require ( 'electron' ) let shellDom = document . querySelector ( '#shellDom' ); shellDom . onclick = function ( e ) { shell . openExternal ( 'https://github.com/poetries' ) }","title":"1 Shell \u6a21\u5757\u4f7f\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-electron-dom","text":"Webview \u4e0e iframe \u6709\u70b9\u76f8\u4f3c\uff0c\u4f46\u662f\u4e0e iframe \u4e0d\u540c, webview \u548c\u4f60\u7684\u5e94\u7528\u8fd0\u884c\u7684\u662f\u4e0d\u540c\u7684\u8fdb\u7a0b\u3002\u5b83\u4e0d\u62e5\u6709\u6e32\u67d3\u8fdb\u7a0b\u7684\u6743\u9650\uff0c\u5e76\u4e14\u5e94\u7528\u548c\u5d4c\u5165\u5185\u5bb9\u4e4b\u95f4\u7684\u4ea4\u4e92\u5168\u90e8\u90fd\u662f\u5f02\u6b65\u7684\u3002\u56e0\u4e3a\u8fd9\u80fd \u4fdd\u8bc1\u5e94\u7528\u7684\u5b89\u5168\u6027\u4e0d\u53d7\u5d4c\u5165\u5185\u5bb9\u7684\u5f71\u54cd\u3002 1 2 3 <!-- src / index . html\u4e2d\u5f15\u5165 --> < webview id = \"webview\" src = \"http://blog.poetries.top\" style = \"position:fixed; width:100%; height:100%\" > < /webview>","title":"2 Electron DOM `` \u6807\u7b7e"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#3-shellmenu","text":"1. \u65b0\u5efasrc/render/webview.js 1 2 3 4 5 6 7 /* eslint-disable */ var { ipcRenderer } = require ( 'electron' ); let myWebview = document . querySelector ( '#myWebview' ) ipcRenderer . on ( 'openwebview' , ( e , url )=>{ myWebview . src = url }) 2. \u5f15\u5165src/index.html 1 2 3 4 < webview id = \"myWebview\" src = \"http://blog.poetries.top\" style = \"position:fixed; width:100%; height:100%\" > < /webview> $ < script src = \"render/webview.js\" >< /script> 3. \u65b0\u5efasrc/main/menu.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 /* eslint-disable */ const { shell , Menu , BrowserWindow } = require ( 'electron' ); // \u5f53\u524d\u7a97\u53e3\u6e32\u67d3\u7f51\u9875 function openWebView ( url ) { // \u83b7\u53d6\u5f53\u524d\u7a97\u53e3Id let win = BrowserWindow . getFocusedWindow () // \u5e7f\u64ad\u901a\u77e5\u6e32\u67d3\u8fdb\u7a0b\u6253\u5f00webview win . webContents . send ( 'openwebview' , url ) } // \u5728\u7a97\u53e3\u5916\u6253\u5f00\u7f51\u9875 function openWeb ( url ) { shell . openExternal ( url ) } let template = [ { label : '\u5e2e\u52a9' , submenu : [ { label : '\u5173\u4e8e\u6211\u4eec' , click : function () { openWeb ( 'http://blog.poetries.top' ) } }, { type : 'separator' }, { label : '\u8054\u7cfb\u6211\u4eec' , click : function () { openWeb ( 'https://github.com/poetries' ) } } ] }, { label : '\u52a0\u8f7d\u7f51\u9875' , submenu : [ { label : '\u535a\u5ba2' , click : function () { openWebView ( 'http://blog.poetries.top' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : 'GitHub' , click : function () { openWebView ( 'https://github.com/poetries' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u7b80\u4e66' , click : function () { openWebView ( 'https://www.jianshu.com/users/94077fcddfc0/timeline' ) } } ] }, { label : '\u89c6\u9891\u7f51\u7ad9' , submenu : [ { label : '\u4f18\u9177' , click : function () { openWebView ( 'https://www.youku.com' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u7231\u5947\u827a' , click : function () { openWebView ( 'https://www.iqiyi.com/' ) } }, { type : 'separator' // \u5206\u9694\u7b26 }, { label : '\u817e\u8baf\u89c6\u9891' , click : function () { openWebView ( 'https://v.qq.com/' ) } } ] } ] let m = Menu . buildFromTemplate ( template ) Menu . setApplicationMenu ( m ) 4. \u5f15\u5165menu 1 2 3 4 5 6 7 // \u5728\u4e3b\u8fdb\u7a0bsrc/index.js\u4e2d\u5f15\u5165 const createWindow = () => { // \u521b\u5efa\u83dc\u5355 $ // \u5f15\u5165\u83dc\u5355\u6a21\u5757 require ( './main/menu.js' ) };","title":"3 shell\u6a21\u5757`\u7ed3\u5408Menu`\u6a21\u5757\u4f7f\u7528\u6848\u4f8b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron-dialog","text":"\u6587\u6863 https://electronjs.org/docs/api/dialog dialog \u5c5e\u4e8e\u4e3b\u8fdb\u7a0b\u4e2d\u7684\u6a21\u5757 dialog \u6a21\u5757\u63d0\u4f9b\u4e86 api \u6765\u5c55\u793a\u539f\u751f\u7684\u7cfb\u7edf\u5bf9\u8bdd\u6846\uff0c\u4f8b\u5982\u6253\u5f00\u6587\u4ef6\u6846\uff0c alert \u6846\uff0c \u6240\u4ee5 web \u5e94\u7528\u53ef\u4ee5\u7ed9\u7528\u6237\u5e26\u6765\u8ddf\u7cfb\u7edf\u5e94\u7528\u76f8\u540c\u7684\u4f53\u9a8c 1. \u5728src/index.html\u4e2d\u5f15\u5165 1 2 3 4 5 6 < button id = \"showError\" > showError < /button><br / > < button id = \"showMsg\" > showMsg < /button><br / > < button id = \"showOpenDialog\" > showOpenDialog < /button><br / > < button id = \"saveDialog\" > saveDialog < /button><br / > < script src = \"render/dialog.js\" >< /script> 2. \u65b0\u5efarender/dialog.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // render/dialog.js let showError = document . querySelector ( '#showError' ); let showMsg = document . querySelector ( '#showMsg' ); let showOpenDialog = document . querySelector ( '#showOpenDialog' ); let saveDialog = document . querySelector ( '#saveDialog' ); var { remote } = require ( 'electron' ) showError . onclick = function () { remote . dialog . showErrorBox ( '\u8b66\u544a' , '\u64cd\u4f5c\u6709\u8bef' ) } showMsg . onclick = function () { remote . dialog . showMessageBox ({ type : 'info' , title : '\u63d0\u793a\u4fe1\u606f' , message : '\u5185\u5bb9' , buttons : [ '\u786e\u5b9a' , '\u53d6\u6d88' ] }, function ( index ){ console . log ( index ) }) } showOpenDialog . onclick = function () { remote . dialog . showOpenDialog ({ // \u6253\u5f00\u6587\u4ef6\u5939 properties : [ 'openDirectory' , 'openFile' ] // \u6253\u5f00\u6587\u4ef6 // properties: ['openFile'] }, function ( data ) { console . log ( data ) }) } saveDialog . onclick = function () { remote . dialog . showSaveDialog ({ title : 'Save File' , defaultPath : '/Users/poetry/Downloads/' , // filters \u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u7c7b\u578b\u6570\u7ec4\uff0c\u7528\u4e8e\u89c4\u5b9a\u7528\u6237\u53ef\u89c1\u6216\u53ef\u9009\u7684\u7279\u5b9a\u7c7b\u578b\u8303\u56f4 filters : [ { name : 'Images' , extensions : [ 'jpg' , 'png' , 'gif' ] }, { name : 'Movies' , extensions : [ 'mkv' , 'avi' , 'mp4' ] }, { name : 'Custom File Type' , extensions : [ 'as' ] }, { name : 'All Files' , extensions : [ '*' ] } ] }, function ( path ) { // \u4e0d\u662f\u771f\u7684\u4fdd\u5b58 \uff0c\u5177\u4f53\u8fd8\u9700nodejs\u5904\u7406 console . log ( path ) }) } showError 1 remote . dialog . showErrorBox ( '\u8b66\u544a' , '\u64cd\u4f5c\u6709\u8bef' ) showMessageBox 1 2 3 4 5 6 7 8 remote . dialog . showMessageBox ({ type : 'info' , title : '\u63d0\u793a\u4fe1\u606f' , message : '\u5185\u5bb9' , buttons : [ '\u786e\u5b9a' , '\u53d6\u6d88' ] }, function ( index ){ console . log ( index ) }) showOpenDialog 1 2 3 4 5 6 7 8 9 remote . dialog . showOpenDialog ({ // \u6253\u5f00\u6587\u4ef6\u5939 properties : [ 'openDirectory' , 'openFile' ] // \u6253\u5f00\u6587\u4ef6 // properties: ['openFile'] }, function ( data ) { console . log ( data ) }) showSaveDialog 1 2 3 4 5 6 7 8 9 10 11 12 13 14 remote . dialog . showSaveDialog ({ title : 'Save File' , defaultPath : '/Users/poetry/Downloads/' , // filters \u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u7c7b\u578b\u6570\u7ec4\uff0c\u7528\u4e8e\u89c4\u5b9a\u7528\u6237\u53ef\u89c1\u6216\u53ef\u9009\u7684\u7279\u5b9a\u7c7b\u578b\u8303\u56f4 filters : [ { name : 'Images' , extensions : [ 'jpg' , 'png' , 'gif' ] }, { name : 'Movies' , extensions : [ 'mkv' , 'avi' , 'mp4' ] }, { name : 'Custom File Type' , extensions : [ 'as' ] }, { name : 'All Files' , extensions : [ '*' ] } ] }, function ( path ) { // \u4e0d\u662f\u771f\u7684\u4fdd\u5b58 \uff0c\u5177\u4f53\u8fd8\u9700nodejs\u5904\u7406 console . log ( path ) })","title":"\u516b\u3001Electron dialog \u5f39\u51fa\u6846"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_4","text":"\u4ee3\u7801 https://github.com/poetries/electron-demo/tree/master/notepad","title":"\u4e5d\u3001\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u8bb0\u4e8b\u672c\u4ee3\u7801\u7f16\u8f91\u5668"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_5","text":"\u6587\u6863 https://electronjs.org/docs/api/tray \u7cfb\u7edf\u6258\u76d8\uff0c\u6258\u76d8\u53f3\u952e\u83dc\u5355\u3001\u6258\u76d8\u56fe\u6807\u95ea\u70c1 \u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed\u6309\u94ae\u9690\u85cf\u5230\u6258\u76d8(\u4eff\u6740\u6bd2\u8f6f\u4ef6) 1. \u5f15\u5165\u6587\u4ef6 1 2 3 4 // src/index.js const createWindow = () => { require ( './main/tray.js' ) }; 2. Electron \u521b\u5efa\u4efb\u52a1\u680f\u56fe\u6807\u4ee5\u53ca\u4efb\u52a1\u680f\u56fe\u6807\u53f3\u952e\u83dc\u5355 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // src/main/tray.js var { Menu , Tray , app , BrowserWindow } = require ( 'electron' ); const path = require ( 'path' ); var appIcon = new Tray ( path . join ( __dirname , '../static/lover.png' )); const menu = Menu . buildFromTemplate ([ { label : '\u8bbe\u7f6e' , click : function () {} //\u6253\u5f00\u76f8\u5e94\u9875\u9762$ }, { label : '\u5e2e\u52a9' , click : function () {} }, { label : '\u5173\u4e8e' , click : function () {} }, { label : '\u9000\u51fa' , click : function () { $ // BrowserWindow.getFocusedWindow().webContents().send('close-main-window'); app . quit (); } }]) // \u9f20\u6807\u653e\u4e0a\u53bb\u63d0\u793a\u4fe1\u606f appIcon . setToolTip ( 'hello poetries' ); appIcon . setContextMenu ( menu ); 3. \u76d1\u542c\u4efb\u52a1\u680f\u56fe\u6807\u7684\u5355\u51fb\u3001\u53cc\u51fb\u4e8b\u4ef6 1 2 3 4 5 6 7 8 9 10 11 // \u5b9e\u73b0\u70b9\u51fb\u5173\u95ed\u6309\u94ae\uff0c\u8ba9\u5e94\u7528\u4fdd\u5b58\u5728\u6258\u76d8\u91cc\u9762\uff0c\u53cc\u51fb\u6258\u76d8\u6253\u5f00 let win = BrowserWindow . getFocusedWindow () win . on ( 'close' , ( e )=>{ e . preventDefault () win . hide () }) iconTray . on ( 'double-click' , ( e )=>{ win . show () }) 4. Electron \u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed\u6309\u94ae\u9690\u85cf\u4efb\u52a1\u680f\u56fe\u6807 1 2 3 4 5 6 7 8 9 10 11 12 13 const win = BrowserWindow . getFocusedWindow (); win . on ( 'close' , ( e ) =>{ console . log ( win . isFocused ()); $ if ( ! win . isFocused ()) { win = null ; } else { e . preventDefault (); /*\u963b\u6b62\u5e94\u7528\u9000\u51fa*/ win . hide (); /*\u9690\u85cf\u5f53\u524d\u7a97\u53e3*/ } }) 5. Electron \u5b9e\u73b0\u4efb\u52a1\u680f\u95ea\u70c1\u56fe\u6807 1 2 3 4 5 6 7 8 9 10 11 var appIcon = new Tray ( path . join ( __dirname , '../static/lover.png' )); timer = setInterval ( function () { count ++ ; if ( count % 2 == 0 ) { appIcon . setImage ( path . join ( __dirname , '../static/empty.ico' )) } else { appIcon . setImage ( path . join ( __dirname , '../static/lover.png' )) } }, 500 );","title":"\u5341\u3001\u7cfb\u7edf\u6258\u76d8\u3001\u6258\u76d8\u53f3\u952e\u83dc\u5355\u3001\u6258\u76d8\u56fe\u6807\u95ea\u70c1"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_6","text":"","title":"\u5341\u4e00\u3001\u6d88\u606f\u901a\u77e5\u3001\u76d1\u542c\u7f51\u7edc\u53d8\u5316"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1_1","text":"1. Electron \u5b9e\u73b0\u6d88\u606f\u901a\u77e5 Electron \u91cc\u9762\u7684\u6d88\u606f\u901a\u77e5\u662f\u57fa\u4e8e h5 \u7684\u901a\u77e5 api \u5b9e\u73b0\u7684 \u6587\u6863 https://developer.mozilla.org/zh-CN/docs/Web/API/notification 1. \u65b0\u5efanotification.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // h5api\u5b9e\u73b0\u901a\u77e5 const path = require ( 'path' ) let options = { title : 'electron \u901a\u77e5API' , body : 'hello poetries' , icon : path . join ( '../static/img/favicon2.ico' ) // \u901a\u77e5\u56fe\u6807 } document . querySelector ( '#showNotification' ). onclick = function () { let myNotification = new window . Notification ( options . title , options ) $ // \u6d88\u606f\u53ef\u70b9\u51fb myNotification . onclick = function () { console . log ( 'click notification' ) } } 2. \u5f15\u5165 1 2 3 4 <!-- src / index . html --> < button id = \"showNotification\" > \u5f39\u51fa\u6d88\u606f\u901a\u77e5 < /button> < script src = \"render/notification.js\" >< /script> mac \u4e0a\u7684\u6d88\u606f\u901a\u77e5","title":"1 \u6d88\u606f\u901a\u77e5"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2_1","text":"1. \u57fa\u672c\u4f7f\u7528 1 2 3 4 5 6 7 8 9 // \u76d1\u542c\u7f51\u7edc\u53d8\u5316 // \u7aef\u5f00\u7f51\u7edc \u518d\u6b21\u8fde\u63a5\u6d4b\u8bd5 window . addEventListener ( 'online' , function (){ console . log ( 'online' ) }); $ $ window . addEventListener ( 'offline' , function (){ console . log ( 'offline' ) }); 2. \u76d1\u542c\u7f51\u7edc\u53d8\u5316\u5b9e\u73b0\u6d88\u606f\u901a\u77e5 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7aef\u5f00\u7f51\u7edc \u518d\u6b21\u8fde\u63a5\u6d4b\u8bd5 // \u76d1\u542c\u7f51\u7edc\u53d8\u5316\u5b9e\u73b0\u6d88\u606f\u901a\u77e5 window . addEventListener ( 'online' , function (){ console . log ( 'online' ) }); $ window . addEventListener ( 'offline' , function (){ // \u65ad\u5f00\u7f51\u7edc\u89e6\u53d1\u4e8b\u4ef6 var options = { title : 'QQ\u90ae\u7bb1' , body : '\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u7f51\u7edc' , icon : path . join ( '../static/img/favicon2.ico' ) // \u901a\u77e5\u56fe\u6807 } var myNotification = new window . Notification ( options . title , options ) myNotification . onclick = function () { console . log ( 'click notification' ) } });","title":"2 \u76d1\u542c\u7f51\u7edc\u53d8\u5316"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#nativeimage","text":"Electron \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e ( globalShortcut ) \u4ee5\u53ca clipboard \u526a \u5207\u677f\u4e8b\u4ef6\u4ee5\u53ca nativeImage \u6a21\u5757(\u5b9e\u73b0\u7c7b\u4f3c\u64ad\u653e\u5668\u70b9\u51fb\u673a\u5668\u7801\u81ea\u52a8\u590d\u5236\u529f \u80fd)","title":"\u5341\u4e8c\u3001\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e/\u526a\u5207\u677f\u4e8b\u4ef6/nativeImage \u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1_2","text":"keyboard-shortcuts\u6587\u6863 app\u6a21\u5757\u53c2\u8003\u6587\u6863 1. \u65b0\u5efasrc/main/shortCut.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 const { globalShortcut , app } = require ( 'electron' ) app . on ( 'ready' , ()=>{ // \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e globalShortcut . register ( 'command+e' , ()=>{ console . log ( 1 ) }) // \u68c0\u6d4b\u5feb\u6377\u952e\u662f\u5426\u6ce8\u518c\u6210\u529f true\u662f\u6ce8\u518c\u6210\u529f let isRegister = globalShortcut . isRegistered ( 'command+e' ) console . log ( isRegister ) }) // \u9000\u51fa\u7684\u65f6\u5019\u53d6\u6d88\u5168\u5c40\u5feb\u6377\u952e app . on ( 'will-quit' , ()=>{ globalShortcut . unregister ( 'command+e' ) }) 2. \u5f15\u5165src/index.js 1 2 // \u6ce8\u610f\u5728\u5916\u90e8\u5f15\u5165\u5373\u53ef \u4e0d\u7528\u653e\u5230app\u4e2d require ( './main/shortCut.js' )","title":"1 \u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-clipboardnativeimage","text":"\u526a\u5207\u677fclipboard\u6587\u6863 nativeImage\u6a21\u5757 1. html 1 2 3 4 5 6 7 8 9 10 11 12 <!-- src / index . html --> < div > < h2 > \u53cc\u51fb\u4e0b\u9762\u4fe1\u606f\u590d\u5236 < /h2> < p id = 'msg' > 123456789 < /p> < button id = \"plat\" > \u7c98\u8d34 < /button><br / > < input id = \"text\" type = \"text\" /> < /div>. < div > < h2 > \u590d\u5236\u56fe\u7247\u5230\u754c\u9762 < /h2> < button id = \"copyImg\" > \u590d\u5236\u56fe\u7247 < /button><br / > < /div> < script src = \"render/clipboard.js\" >< /script> 2. \u65b0\u5efasrc/render/clipboard.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // clipboard\u53ef\u4ee5\u5728\u4e3b\u8fdb\u7a0b\u6216\u6e32\u67d3\u8fdb\u7a0b\u4f7f\u7528 const { clipboard , nativeImage } = require ( 'electron' ) //\u590d\u5236 // \u8fd0\u884cctrl+v\u53ef\u770b\u5230\u590d\u5236\u7684\u5185\u5bb9 // clipboard.writeText('poetries') // clipboard.readText() //\u83b7\u53d6\u590d\u5236\u7684\u5185\u5bb9 \u7c98\u8d34 // \u53cc\u51fb\u590d\u5236\u6d88\u606f let msg = document . querySelector ( '#msg' ) let plat = document . querySelector ( '#plat' ) let text = document . querySelector ( '#text' ) msg . ondblclick = function () { clipboard . writeText ( msg . innerHTML ) alert ( msg . innerHTML ) } plat . onclick = function () { text . value = clipboard . readText () } // \u590d\u5236\u56fe\u7247\u663e\u793a\u5230\u754c\u9762 let copyImg = document . querySelector ( '#copyImg' ) copyImg . onclick = function () { // \u7ed3\u5408nativeImage\u6a21\u5757 let image = nativeImage . createFromPath ( '../static/img/lover.png' ) $ // \u590d\u5236\u56fe\u7247 clipboard . writeImage ( image ) // \u7c98\u8d34\u56fe\u7247 let imgSrc = clipboard . readImage (). toDataURL () // base64\u56fe\u7247 // \u663e\u793a\u5230\u9875\u9762\u4e0a let imgDom = new Image () imgDom . src = imgSrc$ document . body . appendChild ( imgDom ) }","title":"2 \u526a\u5207\u677fclipboard\u3001nativeImage \u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#electron-vue","text":"","title":"\u5341\u4e09\u3001\u7ed3\u5408electron-vue"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#1-electron-vue","text":"1. electron-vue \u7684\u4e00\u4e9b\u8d44\u6e90 https://github.com/SimulatedGREG/electron-vue Electron-vue \u6587\u6863 https://simulatedgreg.gitbooks.io/electron-vue/content/cn 2. electron-vue \u73af\u5883\u642d\u5efa\u3001\u521b\u5efa\u9879\u76ee 1 2 3 4 5 6 7 8 9 npm install - g vue - cli vue init simulatedgreg / electron - vue my - project cd my - project yarn # or npm install yarn run dev # or npm run dev 3. electron-vue \u76ee\u5f55\u7ed3\u6784\u5206\u6790","title":"1 electron-vue \u7684\u4f7f\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#2-electron-vue-sasselementui","text":"1. electron-vue UI \u6846\u67b6 ElementUi \u7684\u4f7f\u7528 http://element-cn.eleme.io/#/zh-CN 2. electron-vue \u4e2d\u4f7f\u7528 sass electron-vue \u4e2d\u4f7f\u7528 sass 1 2 3 4 5 6 7 8 9 10 # \u5b89\u88c5 sass - loader : npm install -- save - dev sass - loader node - sass <!-- vue \u6587\u4ef6\u4e2d\u4fee\u6539 style \u4e3a\u5982\u4e0b\u4ee3\u7801 :--> < style lang = \"scss\" > $ body { /* SCSS */ $ } < /style>","title":"2 electron-vue \u4e2d\u4f7f\u7528 sass/ElementUi"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#3-electron-vue","text":"electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355\u9690\u85cf\u9876\u90e8\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316\u3001\u5173\u95ed\u6309\u94ae \u81ea\u5b9a\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316 \u3001\u5173\u95ed\u6309\u94ae 1. electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355 1 2 // src/main/index.js mainWindow . setMenu ( null ) 2. electron-vue \u4e2d\u9690\u85cf\u5173\u95ed \u6700\u5927\u5316 \u6700\u5c0f\u5316\u6309\u94ae 1 2 3 4 5 6 7 // src/main/index.js mainWindow = new BrowserWindow ({ height : 620 , useContentSize : true , width : 1280 , frame : false /*\u53bb\u6389\u9876\u90e8\u5bfc\u822a \u53bb\u6389\u5173\u95ed\u6309\u94ae \u6700\u5927\u5316\u6700\u5c0f\u5316\u6309\u94ae*/ }) 3 .electron-vue \u81ea\u5b9a\u4e49\u5173\u95ed/\u6700\u5927\u5316\u6700\u5c0f\u5316\u6309\u94ae 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u6ce8\u610f\u5728mac\u4e0b\u4e0d\u9700\u8981\u76d1\u542c\u7a97\u53e3\u6700\u5927\u6700\u5c0f\u5316\u3001\u4ee5\u4e3a\u7cfb\u7edf\u9ed8\u8ba4\u652f\u6301\uff0c\u8fd9\u4e2a\u53ea\u662f\u9488\u5bf9windows\u5e73\u53f0 ipc . on ( 'window-min' , function () { mainWindow . minimize (); }) //\u767b\u5f55\u7a97\u53e3\u6700\u5927\u5316$ ipc . on ( 'window-max' , function (){ if ( mainWindow . isMaximized ()) { mainWindow . restore (); } else { mainWindow . maximize (); } }) $ ipc . on ( 'window-close' , function () { mainWindow . close (); }) 4. electron-vue \u81ea\u5b9a\u4e49\u5bfc\u822a\u53ef\u62d6\u62fd \u53ef\u62d6\u62fd\u7684 css : -webkit-app-region: drag; \u4e0d\u53ef\u62d6\u62fd\u7684 css : -webkit-app-region: no-drag;","title":"3 electron-vue \u4e2d\u9690\u85cf\u9876\u90e8\u83dc\u5355\u9690\u85cf"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#4-electron-vue","text":"","title":"4 \u4f7f\u7528electron-vue\u5f00\u53d1\u8206\u60c5\u76d1\u63a7\u7cfb\u7edf"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528.html#_7","text":"electron\u5b98\u65b9\u6587\u6863 Electron\u6784\u5efa\u8de8\u5e73\u53f0\u5e94\u7528mac/windows/linux electron\u5b66\u4e60\u8d44\u6599\u6574\u7406","title":"\u5341\u56db\u3001\u66f4\u591a\u53c2\u8003"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html","text":"\u4e00\u3001Node.js\u7b80\u4ecb \u00b6 Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u73af\u5883\u3002\u4f7f\u7528\u4e86\u4e00\u4e2a\u4e8b\u4ef6\u9a71\u52a8\u3001\u975e\u963b\u585e\u5f0f I/O \u7684\u6a21\u578b\uff0c\u4f7f\u5176\u8f7b\u91cf\u53c8\u9ad8\u6548\u3002\u4e8e2009\u5e74\u7531Google Brain\u56e2\u961f\u7684\u8f6f\u4ef6\u5de5\u7a0b\u5e08Ryan Dahl\u53d1\u8d77\u521b\u5efa\uff0c2015\u5e74\u540e\u6b63\u5f0f\u88ab NodeJS\u57fa\u91d1\u4f1a \u63a5\u7ba1\u3002 NodeJS \u67b6\u6784 \u00b6 Node\u4f7f\u7528\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\uff0c\u5f53web server\u63a5\u6536\u5230\u8bf7\u6c42\uff0c\u5c31\u628a\u5b83\u5173\u95ed\u7136\u540e\u8fdb\u884c\u5904\u7406\uff0c\u7136\u540e\u53bb\u670d\u52a1\u4e0b\u4e00\u4e2aweb\u8bf7\u6c42\u3002 \u5f53\u8fd9\u4e2a\u8bf7\u6c42\u5b8c\u6210\uff0c\u5b83\u88ab\u653e\u56de\u5904\u7406\u961f\u5217\uff0c\u5f53\u5230\u8fbe\u961f\u5217\u5f00\u5934\uff0c\u8fd9\u4e2a\u7ed3\u679c\u88ab\u8fd4\u56de\u7ed9\u7528\u6237\u3002 \u8fd9\u4e2a\u6a21\u578b\u975e\u5e38\u9ad8\u6548\u53ef\u6269\u5c55\u6027\u975e\u5e38\u5f3a\uff0c\u56e0\u4e3a webserver \u4e00\u76f4\u63a5\u53d7\u8bf7\u6c42\u800c\u4e0d\u7b49\u5f85\u4efb\u4f55\u8bfb\u5199\u64cd\u4f5c\u3002\uff08\u8fd9\u4e5f\u79f0\u4e4b\u4e3a\u975e\u963b\u585e\u5f0fIO\u6216\u8005\u4e8b\u4ef6\u9a71\u52a8IO\uff09\u3002\u5728\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u4e3b\u5faa\u73af\u6765\u76d1\u542c\u4e8b\u4ef6\uff0c\u5f53\u68c0\u6d4b\u5230\u4e8b\u4ef6\u65f6\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u3002 \u76f8\u5173\u8d44\u6e90 \u00b6 Node.js\u5b98\u7f51\uff1a https://nodejs.org/zh-cn/ \u7248\u672c\u7ba1\u7406\u5de5\u5177nvm\uff1a https://github.com/nvm-sh/nvm \u5305\u7ba1\u7406\u5de5\u5177npm\uff1a https://www.npmjs.com/ npm\u4e2d\u6587\u6587\u6863\uff1a https://www.npmjs.cn/ \u56fd\u5185\u7684 npm \u955c\u50cf\u6e90\uff1a http://cnpmjs.org/ \u4e2d\u6587\u793e\u533a\uff1a https://cnodejs.org/ \u4e8c\u3001\u5b89\u88c5\u914d\u7f6e \u00b6 \u5efa\u8bae\u4f7f\u7528nvm\u6765\u8fdb\u884cnode\u7248\u672c\u7ba1\u7406\uff0c\u5b83\u4f1a\u5b89\u88c5\u76f8\u5e94\u7248\u672c\u7684npm\u3002 \u5b89\u88c5nvm\u53caNode.js \u00b6 nvm\u5168\u540dnode.js version management\uff0c\u987e\u540d\u601d\u4e49\u662f\u4e00\u4e2anodejs\u7684\u7248\u672c\u7ba1\u7406\u5de5\u5177\u3002\u901a\u8fc7\u5b83\u53ef\u4ee5\u5b89\u88c5\u548c\u5207\u6362\u4e0d\u540c\u7248\u672c\u7684nodejs\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # \u5b89\u88c5nvm\uff08 \u5347\u7ea7nvm\u91cd\u65b0\u6267\u884c\u6b64\u547d\u4ee4\uff09: curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash # \u5217\u51fa\u6240\u6709\u53ef\u4ee5\u5b89\u88c5\u7684node\u7248\u672c\u53f7 nvm ls-remote # \u5b89\u88c5\u6307\u5b9a\u7248\u672c\u53f7\u7684node nvm install v12.4.1 # \u8bbe\u7f6e nodejs \u9ed8\u8ba4\u7248\u672c nvm alias default 12 .4.1 # \u5207\u6362node\u7684\u7248\u672c nvm use v10.15.3 # \u5f53\u524dnode\u7248\u672c nvm current node -v # \u5217\u51fa\u6240\u6709\u5df2\u7ecf\u5b89\u88c5\u7684node\u7248\u672c nvm ls # \u5378\u8f7d\u5df2\u5b89\u88c5\u7684node\u7248\u672c nvm uninstall v6.9.5 npm \u00b6 npm \u662f\u4e16\u754c\u4e0a\u6700\u5927\u7684\u8f6f\u4ef6\u6ce8\u518c\u4e2d\u5fc3\uff0c\u968f\u540cNodeJS\u4e00\u8d77\u5b89\u88c5\uff0c\u6765\u81ea\u5168\u7403\u5404\u5730\u7684\u5f00\u6e90\u5f00\u53d1\u4eba\u5458\u4f7f\u7528 npm \u6765\u5171\u4eab\u548c\u590d\u7528\u8f6f\u4ef6\u5305\u3002npm \u7531\u4e09\u4e2a\u72ec\u7acb\u7684\u90e8\u5206\u7ec4\u6210\uff1a \u7f51\u7ad9\uff1a https://npmjs.com \u662f\u5f00\u53d1\u8005\u67e5\u627e\u5305\uff08package\uff09\u3001\u8bbe\u7f6e\u53c2\u6570\u4ee5\u53ca\u7ba1\u7406 npm \u4f7f\u7528\u4f53\u9a8c\u7684\u4e3b\u8981\u9014\u5f84\u3002 \u6ce8\u518c\u8868\uff08registry\uff09\uff1a\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u6570\u636e\u5e93\uff0c\u4fdd\u5b58\u4e86\u6bcf\u4e2a\u5305\uff08package\uff09\u7684\u4fe1\u606f\u3002 \u547d\u4ee4\u884c\u5de5\u5177 (CLI)\uff1a\u901a\u8fc7\u547d\u4ee4\u884c\u6216\u7ec8\u7aef\u8fd0\u884c\u3002\u5f00\u53d1\u8005\u901a\u8fc7 CLI \u4e0e npm \u6253\u4ea4\u9053\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 # \u67e5\u770b npm \u7248\u672c npm -v # \u66f4\u65b0npm\u7248\u672c npm install npm@latest -g # \u641c\u7d22\u6a21\u5757 npm search hexo # \u5b89\u88c5\u4f9d\u8d56\u5305 npm install <Module Name> npm install hexo # \u672c\u5730\u5b89\u88c5 hexo npm install hexo -g # \u5168\u5c40\u5b89\u88c5 hexo # \u67e5\u770b\u6240\u6709\u5168\u5c40\u5b89\u88c5\u7684\u6a21\u5757 npm list -g # \u67e5\u770b\u67d0\u4e2a\u6a21\u5757 npm list hexo # \u5378\u8f7d\u6a21\u5757 npm uninstall hexo # \u5378\u8f7d\u540e\uff0c\u67e5\u770b\u5305\u662f\u5426\u8fd8\u5b58\u5728 npm ls # \u66f4\u65b0\u67d0\u4e2a\u6a21\u5757 npm update hexo # \u521b\u5efa\u6a21\u5757 npm init \u6bcf\u4e2a\u7248\u672c\u7684 Node \u90fd\u81ea\u5e26\u4e00\u4e2a\u4e0d\u540c\u7248\u672c\u7684 npm\uff0c\u53ef\u4ee5\u7528 npm -v \u6765\u67e5\u770b npm \u7684\u7248\u672c\u3002\u5168\u5c40\u5b89\u88c5\u7684 npm \u5305\u5e76\u4e0d\u4f1a\u5728\u4e0d\u540c\u7684 Node \u73af\u5883\u4e2d\u5171\u4eab\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002\u5b83\u4eec\u88ab\u653e\u5728\u4e86\u4e0d\u540c\u7248\u672c\u7684\u76ee\u5f55\u4e0b\uff0c\u4f8b\u5982 ~/.nvm/versions/node/${version}/lib/node_modules \u8fd9\u6837\u7684\u76ee\u5f55\u3002 \u8fd0\u884c\u4e0b\u9762\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u4ece\u7279\u5b9a\u7248\u672c\u5bfc\u5165\u4e4b\u524d\u5b89\u88c5\u8fc7\u7684 npm \u5305\u5230\u6211\u4eec\u5c06\u8981\u5b89\u88c5\u7684\u65b0\u7248\u672c Node \u4e2d\uff1a 1 nvm install v12.16.1 --reinstall-packages-from = v10.15.3 \u4e09\u3001Node\u7279\u70b9 \u00b6 \u5f02\u6b65I/O \u00b6 \u5728Node\u4e2d\uff0c\u7edd\u5927\u591a\u6570\u7684\u64cd\u4f5c\u90fd\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528\u3002\u5728\u5e95\u5c42\u6784\u5efa\u4e86\u5f88\u591a\u5f02\u6b65I/O\u7684API\uff0c\u4ece\u6587\u4ef6\u8bfb\u53d6\u5230\u7f51\u7edc\u8bf7\u6c42\u7b49\uff0c\u5747\u662f\u5982\u6b64\u3002\u8fd9\u6837\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u5728Node\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8bed\u8a00\u5c42\u9762\u5f88\u81ea\u7136\u5730\u8fdb\u884c\u5e76\u884cI/O\u64cd\u4f5c\u3002\u6bcf\u4e2a\u8c03\u7528\u4e4b\u95f4\u65e0\u987b\u7b49\u5f85\u4e4b\u524d\u7684I/O\u8c03\u7528\u7ed3\u675f\u3002\u5728\u7f16\u7a0b\u6a21\u578b\u4e0a\u53ef\u4ee5\u6781\u5927\u63d0\u5347\u6548\u7387\u3002 \u4e0b\u9762\u7684\u4e24\u4e2a\u6587\u4ef6\u8bfb\u53d6\u4efb\u52a1\u7684\u8017\u65f6\u53d6\u51b3\u4e8e\u6700\u6162\u7684\u90a3\u4e2a\u6587\u4ef6\u8bfb\u53d6\u7684\u8017\u65f6\uff1a 1 2 3 4 5 6 fs . readFile ( '/path1' , function ( err , file ) { console . log ( '\u8bfb\u53d6\u6587\u4ef61\u5b8c\u6210' ); }); fs . readFile ( '/path2' , function ( err , file ) { console . log ( '\u8bfb\u53d6\u6587\u4ef62\u5b8c\u6210' ); }); \u800c\u5bf9\u4e8e\u540c\u6b65I/O\u800c\u8a00\uff0c\u5b83\u4eec\u7684\u8017\u65f6\u662f\u4e24\u4e2a\u4efb\u52a1\u7684\u8017\u65f6\u4e4b\u548c\u3002\u8fd9\u91cc\u5f02\u6b65\u5e26\u6765\u7684\u4f18\u52bf\u662f\u663e\u800c\u6613\u89c1\u7684\u3002 \u4e8b\u4ef6\u4e0e\u56de\u8c03\u51fd\u6570 \u00b6 \u5728JavaScript\u4e2d\uff0c\u51fd\u6570\u88ab\u4f5c\u4e3a\u7b2c\u4e00\u7b49\u516c\u6c11\u6765\u5bf9\u5f85\uff0c\u53ef\u4ee5\u5c06\u51fd\u6570\u4f5c\u4e3a\u5bf9\u8c61\u4f20\u9012\u7ed9\u65b9\u6cd5\u4f5c\u4e3a\u5b9e\u53c2\u8fdb\u884c\u8c03\u7528\u3002Node\u5c06\u524d\u7aef\u6d4f\u89c8\u5668\u4e2d\u5e94\u7528\u5e7f\u6cdb\u4e14\u6210\u719f\u7684\u4e8b\u4ef6\u5f15\u5165\u540e\u7aef\uff0c\u914d\u5408\u5f02\u6b65I/O\uff0c\u5c06\u4e8b\u4ef6\u70b9\u66b4\u9732\u7ed9\u4e1a\u52a1\u903b\u8f91\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u7684\u662fAjax\u5f02\u6b65\u63d0\u4ea4\u7684\u670d\u52a1\u5668\u7aef\u5904\u7406\u8fc7\u7a0b\u3002Node\u521b\u5efa\u4e00\u4e2aWeb\u670d\u52a1\u5668\uff0c\u5e76\u4fa6\u542c8080\u7aef\u53e3\u3002\u5bf9\u4e8e\u670d\u52a1\u5668\uff0c\u6211\u4eec\u4e3a\u5176\u7ed1\u5b9a\u4e86request\u4e8b\u4ef6\uff0c\u5bf9\u4e8e\u8bf7\u6c42\u5bf9\u8c61\uff0c\u6211\u4eec\u4e3a\u5176\u7ed1\u5b9a\u4e86data\u4e8b\u4ef6\u548cend\u4e8b\u4ef6\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var http = require ( 'http' ); var quertstring = require ( 'querystring' ); http . createServer ( function ( req , res ){ var postData = '' ; req . setEncoding ( 'utf8' ); // \u76d1\u542c\u8bf7\u6c42\u7684data\u4e8b\u4ef6 req . on ( 'data' , function ( chunk ){ postData += chunk ; }); // \u76d1\u542c\u8bf7\u6c42\u7684end\u4e8b\u4ef6 req . on ( 'end' , function (){ res . end ( postData ); }); }). listen ( 8080 ); console . log ( '\u670d\u52a1\u5668\u542f\u52a8\u5b8c\u6210\uff0c\u76d1\u542c\u7aef\u53e3\uff1a8080' ) \u76f8\u5e94\u5730\uff0c\u6211\u4eec\u5728\u524d\u7aef\u4e3aAjax\u8bf7\u6c42\u7ed1\u5b9a\u4e86success\u4e8b\u4ef6\uff0c\u5728\u53d1\u51fa\u8bf7\u6c42\u540e\uff0c\u53ea\u9700\u5173\u5fc3\u8bf7\u6c42\u6210\u529f\u65f6\u6267\u884c\u76f8\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\u5373\u53ef\uff0c\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 $ . ajax ({ 'url' : '/url' , 'method' : 'POST' , 'data' : {}, 'success' : function ( data ) { // success\u4e8b\u4ef6 } }); \u4e0e\u5176\u4ed6\u7684Web\u540e\u7aef\u7f16\u7a0b\u8bed\u8a00\u76f8\u6bd4\uff0cNode\u9664\u4e86\u5f02\u6b65\u548c\u4e8b\u4ef6\u5916\uff0c\u56de\u8c03\u51fd\u6570\u662f\u4e00\u5927\u7279\u8272\u3002\u7eb5\u89c2\u4e0b\u6765\uff0c\u56de\u8c03\u51fd\u6570\u4e5f\u662f\u6700\u597d\u7684\u63a5\u53d7\u5f02\u6b65\u8c03\u7528\u8fd4\u56de\u6570\u636e\u7684\u65b9\u5f0f\u3002\u4f46\u662f\u8fd9\u79cd\u7f16\u7a0b\u65b9\u5f0f\u5bf9\u4e8e\u5f88\u591a\u4e60\u60ef\u540c\u6b65\u601d\u8def\u7f16\u7a0b\u7684\u4eba\u6765\u8bf4\uff0c\u4e5f\u8bb8\u662f\u5341\u5206\u4e0d\u4e60\u60ef\u7684\u3002\u4ee3\u7801\u7684\u7f16\u5199\u987a\u5e8f\u4e0e\u6267\u884c\u987a\u5e8f\u5e76\u65e0\u5173\u7cfb\uff0c\u8fd9\u5bf9\u4ed6\u4eec\u53ef\u80fd\u9020\u6210\u9605\u8bfb\u4e0a\u7684\u969c\u788d\u3002 \u5355\u7ebf\u7a0b \u00b6 Node\u4fdd\u6301\u4e86JavaScript\u5728\u6d4f\u89c8\u5668\u4e2d\u5355\u7ebf\u7a0b\u7684\u7279\u70b9\u3002\u800c\u4e14\u5728Node\u4e2d\uff0cJavaScript\u4e0e\u5176\u4f59\u7ebf\u7a0b\u662f\u65e0\u6cd5\u5171\u4eab\u4efb\u4f55\u72b6\u6001\u7684\u3002\u5355\u7ebf\u7a0b\u7684\u6700\u5927\u597d\u5904\u662f\u4e0d\u7528\u50cf\u591a\u7ebf\u7a0b\u7f16\u7a0b\u90a3\u6837\u5904\u5904\u5728\u610f\u72b6\u6001\u7684\u540c\u6b65\u95ee\u9898\uff0c\u8fd9\u91cc\u6ca1\u6709\u6b7b\u9501\u7684\u5b58\u5728\uff0c\u4e5f\u6ca1\u6709\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u4ea4\u6362\u6240\u5e26\u6765\u7684\u6027\u80fd\u4e0a\u7684\u5f00\u9500\u3002 \u540c\u6837\uff0c\u5355\u7ebf\u7a0b\u4e5f\u6709\u5b83\u81ea\u8eab\u7684\u5f31\u70b9\u3002Node\u91c7\u7528\u4e86\u4e0eWeb Workers\u76f8\u540c\u7684\u601d\u8def\u6765\u89e3\u51b3\u5355\u7ebf\u7a0b\u4e2d\u5927\u8ba1\u7b97\u91cf\u7684\u95ee\u9898\uff1a child_process \u3002\u5b50\u8fdb\u7a0b\u7684\u51fa\u73b0\uff0c\u610f\u5473\u7740Node\u53ef\u4ee5\u4ece\u5bb9\u5730\u5e94\u5bf9\u5355\u7ebf\u7a0b\u5728\u5065\u58ee\u6027\u548c\u65e0\u6cd5\u5229\u7528\u591a\u6838CPU\u65b9\u9762\u7684\u95ee\u9898\u3002 \u64c5\u957fI/O\u5bc6\u96c6\u578b\u7684\u5e94\u7528 \u00b6 \u901a\u5e38\uff0c\u8bf4Node\u64c5\u957fI/O\u5bc6\u96c6\u578b\u7684\u5e94\u7528\u573a\u666f\u57fa\u672c\u4e0a\u662f\u6ca1\u4eba\u53cd\u5bf9\u7684\u3002Node\u9762\u5411\u7f51\u7edc\u4e14\u64c5\u957f\u5e76\u884cI/O\uff0c\u80fd\u591f\u6709\u6548\u5730\u7ec4\u7ec7\u8d77\u66f4\u591a\u7684\u786c\u4ef6\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u4f9b\u66f4\u591a\u597d\u7684\u670d\u52a1\u3002I/O\u5bc6\u96c6\u7684\u4f18\u52bf\u4e3b\u8981\u5728\u4e8eNode\u5229\u7528\u4e8b\u4ef6\u5faa\u73af\u7684\u5904\u7406\u80fd\u529b\uff0c\u800c\u4e0d\u662f\u542f\u52a8\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u4e3a\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u670d\u52a1\uff0c\u8d44\u6e90\u5360\u7528\u6781\u5c11\u3002 \u6027\u80fd\u4e0d\u4fd7 \u00b6 CPU\u5bc6\u96c6\u578b\u5e94\u7528\u7ed9Node\u5e26\u6765\u7684\u6311\u6218\u4e3b\u8981\u662f\uff1a\u7531\u4e8eJavaScript\u5355\u7ebf\u7a0b\u7684\u539f\u56e0\uff0c\u5982\u679c\u6709\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8ba1\u7b97\uff08\u6bd4\u5982\u5927\u5faa\u73af\uff09\uff0c\u5c06\u4f1a\u5bfc\u81f4CPU\u65f6\u95f4\u7247\u4e0d\u80fd\u91ca\u653e\uff0c\u4f7f\u5f97\u540e\u7eedI/O\u65e0\u6cd5\u53d1\u8d77\u3002\u4f46\u662f\u9002\u5f53\u8c03\u6574\u548c\u5206\u89e3\u5927\u578b\u8fd0\u7b97\u4efb\u52a1\u4e3a\u591a\u4e2a\u5c0f\u4efb\u52a1\uff0c\u4f7f\u5f97\u8fd0\u7b97\u80fd\u591f\u9002\u65f6\u91ca\u653e\uff0c\u4e0d\u963b\u585eI/O\u8c03\u7528\u7684\u53d1\u8d77\uff0c\u8fd9\u6837\u65e2\u53ef\u540c\u65f6\u4eab\u53d7\u5230\u5e76\u884c\u5f02\u6b65I/O\u7684\u597d\u5904\uff0c\u53c8\u80fd\u5145\u5206\u5229\u7528CPU\uff0cI/O\u963b\u585e\u9020\u6210\u7684\u6027\u80fd\u6d6a\u8d39\u8fdc\u6bd4CPU\u7684\u5f71\u54cd\u5c0f\u3002 \u56db\u3001Node.js\u5e38\u7528\u6a21\u5757 \u00b6 \u66f4\u591a\u6a21\u5757\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u53ef\u67e5\u9605\u5b98\u65b9\u6587\u6863: https://nodejs.org/api/ Global\u6a21\u5757 \u00b6 \u6d4f\u89c8\u5668JavaScript\u5f53\u4e2dwindow\u662f\u5168\u5c40\u5bf9\u8c61\uff0cNodeJS\u4e2d\u5168\u5c40\u5bf9\u8c61\u662fglobal\uff0cglobal\u6700\u6839\u672c\u7684\u4f5c\u7528\u662f\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u7684\u5bbf\u4e3b\uff08\u5373\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u662fglobal\u5bf9\u8c61\u7684\u5c5e\u6027\uff09\uff0c\u56e0\u6b64\u5728\u6240\u6709\u6a21\u5757\u4e2d\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u800c\u65e0\u9700\u5305\u542b\u3002 Process\u6a21\u5757 \u00b6 process\u662f\u5168\u5c40\u53d8\u91cf(\u5373global\u5bf9\u8c61\u7684\u5c5e\u6027)\uff0c\u7528\u4e8e\u63cf\u8ff0\u5f53\u524dNodeJS\u8fdb\u7a0b\u72b6\u6001\u3002 Console\u6a21\u5757 \u00b6 console\u7528\u4e8e\u63d0\u4f9b\u63a7\u5236\u53f0\u6807\u51c6\u8f93\u51fa\u3002 console.log() \uff1a\u5411\u6807\u51c6\u8f93\u51fa\u6d41\u6253\u5370\u5b57\u7b26\u5e76\u4ee5\u6362\u884c\u7b26\u7ed3\u675f( \u5982\u679c\u53ea\u67091\u4e2a\u53c2\u6570\uff0c\u5219\u8f93\u51fa\u8be5\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff1b\u5982\u679c\u67092\u4e2a\u53c2\u6570\uff0c\u5219\u4ee5\u7c7b\u4f3c\u4e8eC\u8bed\u8a00 printf() \u7684\u683c\u5f0f\u5316\u8f93\u51fa )\u3002 console.error() \uff1a\u4e0e console.log() \u7684\u7528\u6cd5\u76f8\u540c\uff0c\u53ea\u662f\u5411\u6807\u51c6\u9519\u8bef\u6d41\u8fdb\u884c\u8f93\u51fa\u3002 console.trace() \uff1a\u5411\u6807\u51c6\u9519\u8bef\u6d41\u8f93\u51fa\u5f53\u524d\u7684\u8c03\u7528\u6808: 1 2 3 4 5 6 7 8 9 10 11 $ node app.js Trace at Object.<anonymous> ( /workspace/app.js:1:71 ) at Module._compile ( module.js:643:30 ) at Object.Module._extensions..js ( module.js:654:10 ) at Module.load ( module.js:556:32 ) at tryModuleLoad ( module.js:499:12 ) at Function.Module._load ( module.js:491:3 ) at Function.Module.runMain ( module.js:684:10 ) at startup ( bootstrap_node.js:187:16 ) at bootstrap_node.js:608:3 Util\u6a21\u5757 \u00b6 util\u63d0\u4f9b\u5e38\u7528\u51fd\u6570\u96c6\u5408\uff0c\u7528\u4e8e\u5f25\u8865\u6838\u5fc3JavaScript\u529f\u80fd\u65b9\u9762\u7684\u4e0d\u8db3\u3002 Events\u6a21\u5757 \u00b6 events \u662fNodeJS\u6700\u91cd\u8981\u7684\u6a21\u5757\uff0c\u56e0\u4e3aNodeJS\u672c\u8eab\u5c31\u662f\u57fa\u4e8e\u4e8b\u4ef6\u5f0f\u7684\u67b6\u6784\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u552f\u4e00\u63a5\u53e3\uff0c\u6240\u4ee5\u582a\u79f0NodeJS\u4e8b\u4ef6\u7f16\u7a0b\u7684\u57fa\u77f3\u3002 events \u6a21\u5757\u4e0d\u4ec5\u7528\u4e8e\u4e0e\u4e0b\u5c42\u7684\u4e8b\u4ef6\u5faa\u73af\u4ea4\u4e92\uff0c\u8fd8\u51e0\u4e4e\u88ab\u6240\u6709\u7684\u6a21\u5757\u6240\u4f9d\u8d56\u3002 events \u6a21\u5757\u53ea\u63d0\u4f9b1\u4e2a events.EventEmitter \u5bf9\u8c61\uff0c EventEmitter \u5bf9\u8c61\u5c01\u88c5\u4e86\u4e8b\u4ef6\u53d1\u5c04\u548c\u4e8b\u4ef6\u76d1\u542c\u5668\u3002\u6bcf\u4e2a EventEmitter \u4e8b\u4ef6\u75311\u4e2a\u4e8b\u4ef6\u540d\u548c\u82e5\u5e72\u53c2\u6570\u7ec4\u6210\uff0c\u4e8b\u4ef6\u540d\u662f1\u4e2a\u5b57\u7b26\u4e32\u3002 EventEmitter \u5bf9\u6bcf\u4e2a\u4e8b\u4ef6\u652f\u6301\u82e5\u5e72\u76d1\u542c\u5668\uff0c\u4e8b\u4ef6\u53d1\u5c04\u65f6\uff0c\u6ce8\u518c\u81f3\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u5668\u4f9d\u6b21\u88ab\u8c03\u7528\uff0c\u4e8b\u4ef6\u53c2\u6570\u5c06\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4f20\u9012\u3002 \u4e0b\u9762\u4f8b\u5b50\u4e2d\uff0c emitter \u4e3a\u4e8b\u4ef6 targetEvent \u6ce8\u518c2\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5668\uff0c\u7136\u540e\u53d1\u5c04 targetEvent \u4e8b\u4ef6\uff0c\u7ed3\u679c2\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5668\u7684\u56de\u8c03\u51fd\u6570\u88ab\u4f9d\u6b21\u5148\u540e\u8c03\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var events = require ( \"events\" ); var emitter = new events . EventEmitter (); emitter . on ( \"targetEvent\" , function ( arg1 , arg2 ) { console . log ( \"listener1\" , arg1 , arg2 ); }); emitter . on ( \"targetEvent\" , function ( arg1 , arg2 ) { console . log ( \"listener2\" , arg1 , arg2 ); }); emitter . emit ( \"targetEvent\" , \"Hank\" , 2018 ); 1 2 3 $ node app.js listener1 Hank 2018 listener2 Hank 2018 EventEmitter\u5e38\u7528API EventEmitter.on(event, listener) \uff1a\u4e3a\u6307\u5b9a\u4e8b\u4ef6\u6ce8\u518c\u76d1\u542c\u5668\uff0c\u63a5\u53d71\u4e2a\u5b57\u7b26\u4e32\u4e8b\u4ef6\u540devent\u548c1\u4e2a\u56de\u8c03\u51fd\u6570listener\u3002 EventEmitter . emit ( event , [ arg1 ] , [ arg2 ] , [ ... ] ) \uff1a\u53d1\u5c04event\u4e8b\u4ef6\uff0c\u4f20\u9012\u82e5\u5e72\u53ef\u9009\u53c2\u6570\u5230\u4e8b\u4ef6\u76d1\u542c\u5668\u7684\u53c2\u6570\u5217\u8868\u3002 EventEmitter.once(event, listener) \uff1a\u4e3a\u6307\u5b9a\u4e8b\u4ef6\u6ce8\u518c1\u4e2a\u5355\u6b21\u76d1\u542c\u5668\uff0c\u5373\u8be5\u76d1\u542c\u5668\u6700\u591a\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21\uff0c\u89e6\u53d1\u540e\u7acb\u523b\u89e3\u9664\u3002 EventEmitter.removeListener(event, listener) \uff1a\u79fb\u9664\u6307\u5b9a\u4e8b\u4ef6\u7684\u67d0\u4e2a\u76d1\u542c\u5668\uff0clistener\u5fc5\u987b\u662f\u8be5\u4e8b\u4ef6\u5df2\u7ecf\u6ce8\u518c\u8fc7\u7684\u76d1\u542c\u5668\u3002 EventEmitter . removeAllListeners ( [ event ] ) \uff1a\u79fb\u9664\u6240\u6709\u4e8b\u4ef6\u7684\u6240\u6709\u76d1\u542c\u5668\uff0c\u5982\u679c\u6307\u5b9aevent\uff0c\u5219\u79fb\u9664\u6307\u5b9a\u4e8b\u4ef6\u7684\u6240\u6709\u76d1\u542c\u5668\u3002 File System\u6a21\u5757 \u00b6 fs \u6a21\u5757\u5c01\u88c5\u4e86\u6587\u4ef6\u64cd\u4f5c\uff0c\u63d0\u4f9b\u4e86\u6587\u4ef6\u8bfb\u53d6\u3001\u5199\u5165\u3001\u66f4\u540d\u3001\u5220\u9664\u3001\u904d\u5386\u3001\u94fe\u63a5\u7b49POSIX\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\uff0c\u8be5\u6a21\u5757\u4e2d\u6240\u6709\u64cd\u4f5c\u90fd\u63d0\u4f9b\u4e86\u5f02\u6b65\u548c\u540c\u6b652\u4e2a\u7248\u672c\u3002 fs . readFile ( filename , [ encoding ] , [ callback(err,data) ] ) \u7528\u4e8e\u8bfb\u53d6\u6587\u4ef6\uff0c\u7b2c1\u4e2a\u53c2\u6570 filename \u8868\u793a\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u3002\u7b2c2\u4e2a\u53c2\u6570 encoding \u8868\u793a\u6587\u4ef6\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u7b2c3\u4e2a\u53c2\u6570 callback \u662f\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u63a5\u6536\u6587\u4ef6\u5185\u5bb9\u3002 \u56de\u8c03\u51fd\u6570\u63d0\u4f9b err \u548c data \u4e24\u4e2a\u53c2\u6570\uff0c err \u8868\u793a\u6709\u65e0\u9519\u8bef\u53d1\u751f\uff0c data \u662f\u6587\u4ef6\u5185\u5bb9\u3002\u5982\u679c\u6307\u5b9a encoding \uff0c data \u5c06\u662f1\u4e2a\u89e3\u6790\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u5426\u5219 data \u5c06\u4f1a\u662f\u4ee5 Buffe r`\u5f62\u5f0f\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002 fs.readFileSync() NodeJS\u63d0\u4f9b\u7684 fs.readFileSync() \u51fd\u6570\u662f readFile() \u7684\u540c\u6b65\u7248\u672c\uff0c\u4e24\u8005\u63a5\u53d7\u7684\u53c2\u6570\u76f8\u540c\uff0c\u8bfb\u53d6\u5230\u7684\u6587\u4ef6\u5185\u5bb9\u4f1a\u4ee5\u51fd\u6570\u8fd4\u56de\u503c\u5f62\u5f0f\u8fd4\u56de\u3002\u5982\u679c\u6709\u9519\u8bef\u53d1\u751f fs \u5c06\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u9700\u8981\u4f7f\u7528 try...catch \u6355\u6349\u5e76\u5904\u7406\u5f02\u5e38\u3002 \u4e0e\u540c\u6b65I/O\u51fd\u6570\u4e0d\u540c\uff0cNodeJS\u4e2d\u5f02\u6b65\u51fd\u6570\u5927\u591a\u6ca1\u6709\u8fd4\u56de\u503c\u3002 fs.open() fs . open ( path , flags , [ mode ] , [ callback(err,fd) ] ) \u5c01\u88c5\u4e86POSIX\u7684 open() \u51fd\u6570\uff0c\u4e0eC\u8bed\u8a00\u6807\u51c6\u5e93\u4e2d fopen() \u51fd\u6570\u7c7b\u4f3c\u3002\u8be5\u51fd\u6570\u63a5\u53d72\u4e2a\u5fc5\u9009\u53c2\u6570\uff0c\u7b2c1\u4e2a\u53c2\u6570 path \u4e3a\u6587\u4ef6\u8def\u5f84\uff0c\u7b2c2\u4e2a\u53c2\u6570 flags \u4ee3\u8868\u6587\u4ef6\u6253\u5f00\u6a21\u5f0f\uff0c\u7b2c3\u4e2a\u53c2\u6570 mode \u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u65f6\u7ed9\u6587\u4ef6\u6307\u5b9a\u6743\u9650\uff08 \u9ed8\u8ba40666 \uff09\uff0c\u7b2c4\u4e2a\u53c2\u6570\u662f**\u56de\u8c03\u51fd\u6570**\uff0c\u51fd\u6570\u4e2d\u9700\u8981\u4f20\u9012\u6587\u4ef6\u63cf\u8ff0\u7b26 fd \u3002 fs.read() fs.read(fd,buffer,offset,length,position,[callback(err,bytesRead,buffer)]) \u5c01\u88c5\u4e86POSIX\u7684read\u51fd\u6570\uff0c\u76f8\u6bd4 fs.readFile() \u63d0\u4f9b\u4e86\u66f4\u5e95\u5c42\u7684\u63a5\u53e3\u3002 fs.read() \u7684\u529f\u80fd\u662f\u4ece\u6307\u5b9a\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26fd\u4e2d\u8bfb\u53d6\u6570\u636e\u5e76\u5199\u5165 buffer \u6307\u5411\u7684\u7f13\u51b2\u533a\u5bf9\u8c61\u3002 offset \u662f buffer \u7684\u5199\u5165\u504f\u79fb\u91cf\u3002 length \u662f\u8981\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u3002 position \u662f\u6587\u4ef6\u8bfb\u53d6\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u5982\u679c position \u7684\u503c\u4e3a null \uff0c\u5219\u4f1a\u4ece\u5f53\u524d\u6587\u4ef6\u6307\u9488\u7684\u4f4d\u7f6e\u8bfb\u53d6\u3002\u56de\u8c03\u51fd\u6570\u4f20\u9012 bytesRead \u548c buffer \uff0c\u5206\u522b\u8868\u793a\u8bfb\u53d6\u7684**\u5b57\u8282\u6570**\u548c**\u7f13\u51b2\u533a\u5bf9\u8c61**\u3002 Http\u6a21\u5757 \u00b6 NodeJS\u6807\u51c6\u5e93\u63d0\u4f9b\u7684 http \u6a21\u5757\u5c01\u88c5\u4e86\u4e00\u4e2a\u9ad8\u6548\u7684HTTP\u670d\u52a1\u5668 http.Server \u548c\u4e00\u4e2a\u7b80\u6613\u7684HTTP\u5ba2\u6237\u7aef http.request \u3002 http \u6a21\u5757\u4e2d\u7684HTTP\u670d\u52a1\u5668\u5bf9\u8c61\uff0c\u6838\u5fc3\u7531NodeJS\u5e95\u5c42\u4f9d\u9760C++\u5b9e\u73b0\uff0c\u63a5\u53e3\u4f7f\u7528JavaScript\u5c01\u88c5\uff0c\u517c\u987e\u4e86\u9ad8\u6027\u80fd\u4e0e\u7b80\u6613\u6027\u3002 \u4e94\u3001\u521b\u5efaNode.js\u5e94\u7528 \u00b6 \u4f7f\u7528Node\u521b\u5efahttp\u670d\u52a1\u5668 \u00b6 \u4f7f\u7528 require \u6307\u4ee4\u6765\u8f7d\u5165 http \u6a21\u5757\uff0c\u5e76\u5c06\u5b9e\u4f8b\u5316\u7684 HTTP \u8d4b\u503c\u7ed9\u53d8\u91cf http\uff0c\u5b9e\u4f8b\u5982\u4e0b: 1 var http = require ( \"http\" ); \u4f7f\u7528 http.createServer() \u65b9\u6cd5\u521b\u5efa\u670d\u52a1\u5668\uff0c\u5e76\u4f7f\u7528 listen \u65b9\u6cd5\u7ed1\u5b9a 8888 \u7aef\u53e3\u3002 \u51fd\u6570\u901a\u8fc7 request, response \u53c2\u6570\u6765\u63a5\u6536\u548c\u54cd\u5e94\u6570\u636e\u3002\u5728\u4f60\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u53eb server.js \u7684\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const http = require ( 'http' ); const hostname = '127.0.0.1' ; const port = 8080 ; const server = http . createServer (( req , res ) => { res . statusCode = 200 ; res . setHeader ( 'Content-Type' , 'text/plain' ); res . end ( 'Hello World' ); }); // \u7ec8\u7aef\u6253\u5370\u5982\u4e0b\u4fe1\u606f server . listen ( port , hostname , () => { console . log ( `Server running at http:// ${ hostname } : ${ port } /` ); }); \u4ee5\u4e0a\u4ee3\u7801\u6211\u4eec\u5b8c\u6210\u4e86\u4e00\u4e2a\u53ef\u4ee5\u5de5\u4f5c\u7684 HTTP \u670d\u52a1\u5668\u3002\u4f7f\u7528 node \u547d\u4ee4\u6267\u884c\u4ee5\u4e0a\u7684\u4ee3\u7801\uff1a 1 2 node server . js Server running at http : //127.0.0.1:8080/ \u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://127.0.0.1:8080/ \uff0c\u4f1a\u770b\u5230\u4e00\u4e2a\u5199\u7740 \"Hello World\"\u7684\u7f51\u9875\u3002 web\u6846\u67b6express\u7b80\u5355\u4f7f\u7528 \u00b6 express \u662f Node\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u5feb\u901f\u3001\u5f00\u653e\u3001\u6781\u7b80\u4e3b\u4e49 web \u6846\u67b6\uff0c\u73b0\u5728\u662f 4.x \u7248\u672c\u3002\u5b98\u65b9\u63d0\u4f9b\u4e86\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u5668\u5de5\u5177 express-generator \u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f\u9aa8\u67b6\u3002\u5b89\u88c5\uff1a 1 2 npm install express --save npm install express-generator -g \u521b\u5efa\u540d\u79f0\u4e3a ExpressDemo \u7684 Express \u5e94\u7528\u3002\u6b64\u5e94\u7528\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 ExpressDemo \u76ee\u5f55\u4e2d\u521b\u5efa\uff0c\u5e76\u4e14\u8bbe\u7f6e\u4e3a\u4f7f\u7528 Pug \u6a21\u677f\u5f15\u64ce\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 express --view = pug ExpressDemo create : ExpressDemo/ create : ExpressDemo/public/ create : ExpressDemo/public/javascripts/ create : ExpressDemo/public/images/ create : ExpressDemo/public/stylesheets/ create : ExpressDemo/public/stylesheets/style.css create : ExpressDemo/routes/ create : ExpressDemo/routes/index.js create : ExpressDemo/routes/users.js create : ExpressDemo/views/ create : ExpressDemo/views/error.pug create : ExpressDemo/views/index.pug create : ExpressDemo/views/layout.pug create : ExpressDemo/app.js create : ExpressDemo/package.json create : ExpressDemo/bin/ create : ExpressDemo/bin/www change directory: $ cd ExpressDemo install dependencies: $ npm install run the app: $ DEBUG = expressdemo:* npm start \u6309\u63d0\u793a\u5b89\u88c5\u4f9d\u8d56\u5e76\u542f\u52a8\u3002 1 2 3 cd ExpressDemo npm install DEBUG = expressdemo:* npm start # MacOS \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 http://localhost:3000/ \u5c31\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u5e94\u7528\u4e86\u3002 \u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u7684\u5e94\u7528\u4e00\u822c\u90fd\u6709\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 tree -I \"node_modules\" . \u251c\u2500\u2500 app.js \u251c\u2500\u2500 bin \u2502 \u2514\u2500\u2500 www \u251c\u2500\u2500 package-lock.json \u251c\u2500\u2500 package.json \u251c\u2500\u2500 public \u2502 \u251c\u2500\u2500 images \u2502 \u251c\u2500\u2500 javascripts \u2502 \u2514\u2500\u2500 stylesheets \u2502 \u2514\u2500\u2500 style.css \u251c\u2500\u2500 routes \u2502 \u251c\u2500\u2500 index.js \u2502 \u2514\u2500\u2500 users.js \u2514\u2500\u2500 views \u251c\u2500\u2500 error.pug \u251c\u2500\u2500 index.pug \u2514\u2500\u2500 layout.pug 7 directories, 10 files \u516d\u3001\u5f02\u6b65\u7f16\u7a0b\u65b9\u6848\uff08Promise & Async\uff09 \u00b6 \u5f02\u6b65\u662fNode\u5f97\u5929\u72ec\u539a\u7684\u7279\u70b9\u548c\u4f18\u52bf\uff0c\u4f46\u6211\u4eec\u7ecf\u5e38\u8fd8\u662f\u4f1a\u9700\u8981\u89e3\u51b3\u540c\u6b65\u6267\u884c\u7684\u573a\u666f\u3002\u5982\u65b9\u6cd5A\u6267\u884c\u5b8c\u624d\u53ef\u4ee5\u6267\u884c\u65b9\u6cd5B\u3002\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a 1 2 3 4 setTimeout (() => { console . log ( 'A' ) }, 3000 ) console . log ( 'B' ); \u6267\u884c\u7ed3\u679c\u4e3a: 1 2 3 4 [ Running ] node \"test.js\" B A [ Done ] exited with code = 0 in 3 .12 seconds \u5982\u679c\u60f3\u8981\u8f93\u51fa\u7ed3\u679c\u4e3a A B \uff0c\u53ef\u4ee5\u91c7\u53d6 Promise \u6216 Async \u6765\u5b9e\u73b0\u3002 \u57fa\u4e8ePromise\u5b9e\u73b0\u540c\u6b65\u63a7\u5236 \u00b6 Promise \u662f\u5f02\u6b65\u7f16\u7a0b\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u4f20\u7edf\u7684\u89e3\u51b3\u65b9\u6848\u2014\u2014\u56de\u8c03\u51fd\u6570\u548c\u4e8b\u4ef6\u2014\u2014\u66f4\u5408\u7406\u548c\u66f4\u5f3a\u5927\u3002ES6 \u539f\u751f\u63d0\u4f9b\u4e86 Promise \u5bf9\u8c61\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684 API\uff0c\u5404\u79cd\u5f02\u6b65\u64cd\u4f5c\u90fd\u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u3002\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 var f = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'A' ); resolve (); }, 3000 ); }); f . then (() => { console . log ( 'B' ); }, ( err ) => { console . log ( 'Err' ); }); \u6267\u884c\u7ed3\u679c\uff1a 1 2 3 4 [ Running ] node \"test.js\" A B [ Done ] exited with code = 0 in 3 .123 seconds \u53ef\u4ee5\u628a Promise \u5bf9\u8c61\u6bd4\u55bb\u4e3a\u4e00\u4e2a\u5bb9\u5668\uff0c\u91cc\u9762\u6709\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c Promise \u5bb9\u5668\u53ea\u6709\u5728\u6536\u5230\u4fe1\u53f7\uff08resolve\u6216\u8005reject\uff09\u65f6\u624d\u4f1a\u8c03\u7528then\u65b9\u6cd5\u3002\u901a\u8fc7 Promise.All \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5b9e\u4f8b\u5305\u88c5\uff0c\u751f\u6210\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684Promise\u5b9e\u4f8b\uff0c\u7b49\u6267\u884c\u5b8c\u6240\u6709\u5f02\u6b65\u64cd\u4f5c\u4e4b\u540e\u6267\u884cthen\u65b9\u6cd5\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 const a = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'A' ); resolve (); }, 3000 ); }); const b = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'B' ); resolve (); }, 3000 ); }); Promise . all ([ a , b ]). then (() => { console . log ( 'end' ); }); \u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a 1 2 3 4 5 6 [ Running ] node test.js A B end [ Done ] exited with code = 0 in 3 .122 seconds Promise \u6269\u5c55\u4fe1\u606f Promise \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u51fd\u6570\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662f resolve \u548c reject \u3002\u5b83\u4eec\u662f\u4e24\u4e2a\u51fd\u6570\uff0c\u7531 avaScript \u5f15\u64ce\u63d0\u4f9b\u3002 resolve \u51fd\u6570\u5728\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u65f6\u7528\uff0c\u5176\u4f5c\u7528\u662f\u5c06 Promise \u5bf9\u8c61\u7684\u72b6\u6001\u4ece\u201cpending\u201d\u53d8\u4e3aresolved\u201d\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u51fa\u53bb\uff1b reject\u51fd\u6570\u5728\u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\u65f6\u8c03\u7528\uff0c\u5176\u4f5c\u7528\u662f\u5c06 Promise`\u5bf9\u8c61\u7684\u72b6\u6001\u4ecepending\u201d\u53d8\u4e3a\u201crejected\u201d\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u62a5\u51fa\u7684\u9519\u8bef\u4f5c\u4e3a\u53c2\u4f20\u9012\u51fa\u53bb\u3002 Promise \u5b9e\u4f8b\u751f\u6210\u4ee5\u540e\uff0c\u53ef\u4ee5\u7528 then \u65b9\u6cd5\u5206\u522b\u6307\u5b9aresolved \u72b6\u6001\u548c rejected \u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u3002 then \u65b9\u6cd5\u4ee5\u63a5\u53d7\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u662f Promise \u5bf9\u7684\u72b6\u6001\u53d8\u4e3a resolved \u65f6\u8c03\u7528\uff0c\u7b2c\u4e8c\u4e2a\u56de\u8c03\u51fd\u6570\uff08\u53ef\u9009\u63d0\u4f9b\uff09\u662fPromise \u5bf9\u8c61\u7684\u72b6\u6001\u53d8\u4e3a rejected \u65f6\u8c03\u7528\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u90fd\u53d7 Promise \u5bf9\u8c61\u4f20\u51fa\u7684\u503c\u4f5c\u4e3a\u53c2\u6570\u3002 Promise \u5bf9\u8c61\u6709\u4ee5\u4e0b\u4e24\u4e2a\u7279\u70b9\u3002 \u5bf9\u8c61\u7684\u72b6\u6001\u4e0d\u53d7\u5916\u754c\u5f71\u54cd\u3002 Promise \u5bf9\u8c61\u4ee3\u8868\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6709\u4e09\u79cd\u72b6\u6001\uff1a pending \uff08\u8fdb\u884c\u4e2d\uff09\u3001 fulfilled \uff08\u5df2\u6210\u529f\uff09\u548c rejected \uff08\u5df2\u5931\u8d25\uff09\u3002\u53ea\u6709\u5f02\u6b65\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u53ef\u4ee5\u51b3\u5b9a\u5f53\u524d\u662f\u54ea\u4e00\u79cd\u72b6\u6001\uff0c\u4efb\u4f55\u5176\u4ed6\u64cd\u4f5c\u90fd\u65e0\u6cd5\u6539\u53d8\u8fd9\u4e2a\u72b6\u6001\u3002 \u4e00\u65e6\u72b6\u6001\u6539\u53d8\uff0c\u5c31\u4e0d\u4f1a\u518d\u53d8\uff0c\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u7ed3\u679c\u3002 Promise \u5bf9\u8c61\u7684\u72b6\u6001\u6539\u53d8\uff0c\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff1a\u4ece pending \u53d8\u4e3a fulfilled \u548c\u4ece pending \u53d8\u4e3a rejected \u3002\u53ea\u8981\u8fd9\u4e24\u79cd\u60c5\u51b5\u53d1\u751f\uff0c\u72b6\u6001\u5c31\u4f1a\u4e00\u76f4\u4fdd\u6301\u4e0d\u518d\u6539\u53d8,\u79f0\u4e3a resolved\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a Promise \u5bf9\u8c61\u7684\u7b80\u5355\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 function f () { return new Promise ( function ( resolve , reject ) { setTimeout ( resolve , 3000 , 'done.' ); console . log ( 'A' ); //\u4f1a\u7acb\u5373\u6267\u884c }); } f (). then ( function ( result ) { console . log ( `resolve result: ${ result } ` ); }), function ( error ){ console . log ( `reject error: ${ error } ` ); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f1 \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a Promise \u5b9e\u4f8b\uff0c\u8868\u793a\u4e00\u6bb5\u65f6\u4ee5\u540e\u624d\u4f1a\u53d1\u751f\u7684\u7ed3\u679c\u3002\u8fc7\u4e86\u6307\u5b9a\u7684\u65f6\u95f4\uff083000\u6beb\u79d2\uff09\u4ee5\u540e\uff0cPromise \u5b9e\u4f8b\u7684\u72b6\u6001\u4e3a resolved \uff0c\u5c31\u4f1a\u89e6\u53d1 then`\u65b9\u6cd5\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002\u6267\u884c\u7ed3\u679c\u5982\u4e0b: 1 2 3 4 [ Running ] node \"test.js\" A resolve result: done . [ Done ] exited with code = 0 in 3 .175 seconds \u53e6\u5916\uff0c resolve \u51fd\u6570\u7684\u53c2\u6570\u9664\u4e86\u6b63\u5e38\u7684\u503c\u4ee5\u5916\uff0c\u8fd8\u53ef\u80fd\u662f\u53e6\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002 then \u65b9\u6cd5\u662f\u5b9a\u4e49\u5728\u539f\u578b\u5bf9\u8c61 Promise.prototype \u4e0a\u7684\u3002\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u65b0\u7684 Promise \u5b9e\u4f8b\uff08\u6ce8\u610f\uff0c\u4e0d\u662f\u539f\u6765\u90a3\u4e2a Promise \u5b9e\u4f8b\uff09\u3002\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u94fe\u5f0f\u5199\u6cd5\uff0c\u5373 then \u65b9\u6cd5\u540e\u9762\u518d\u8c03\u7528\u53e6\u4e00\u4e2a then \u65b9\u6cd5\u3002\u7b2c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5b8c\u6210\u4ee5\u540e\uff0c\u4f1a\u5c06\u8fd4\u56de\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u7b2c\u4e8c\u4e2a\u56de\u8c03\u51fd\u6570\u3002 Promise\u4e5f\u6709\u4e00\u4e9b\u7f3a\u70b9\u3002\u9996\u5148\u662f\u65e0\u6cd5\u53d6\u6d88\uff0c\u4e00\u65e6\u65b0\u5efa\u5b83\u5c31\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u65e0\u6cd5\u4e2d\u9014\u53d6\u6d88\uff1b\u5176\u6b21\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0cPromise\u5185\u90e8\u629b\u51fa\u7684\u9519\u8bef\uff0c\u4e0d\u4f1a\u53cd\u5e94\u5230\u5916\u90e8\u3002\u7b2c\u4e09\uff0c\u5f53\u5904\u4e8epending\u72b6\u6001\u65f6\uff0c\u65e0\u6cd5\u5f97\u77e5\u76ee\u524d\u8fdb\u5c55\u5230\u54ea\u4e00\u4e2a\u9636\u6bb5\u3002 \u57fa\u4e8eAsync\u5b9e\u73b0\u540c\u6b65\u63a7\u5236 \u00b6 ES2017 \u6807\u51c6\u5f15\u5165\u4e86 async \u51fd\u6570\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u3002\u968f\u7740Node.js 8\u7684\u53d1\u5e03\uff0c\u671f\u5f85\u5df2\u4e45\u7684async\u51fd\u6570\u4e5f\u5728\u5176\u4e2d\u9ed8\u8ba4\u5b9e\u73b0\u4e86\u3002async \u51fd\u6570\u7684\u5b9e\u73b0\u539f\u7406\uff0c\u662f\u5c06 Generator \u51fd\u6570\u548c\u81ea\u52a8\u6267\u884c\u5668\uff0c\u5305\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u3002 async \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 then \u65b9\u6cd5\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002\u5f53\u51fd\u6570\u6267\u884c\u7684\u65f6\u5019\uff0c\u4e00\u65e6\u9047\u5230 await \u5c31\u4f1a\u5148\u8fd4\u56de\uff0c\u5fc5\u987b\u7b49\u5230\u5185\u90e8\u6240\u6709 await \u547d\u4ee4\u540e\u9762\u7684 Promise \u5bf9\u8c61\u6267\u884c\u5b8c\uff0c\u624d\u4f1a\u53d1\u751f\u72b6\u6001\u6539\u53d8\uff08\u9664\u975e\u9047\u5230 return \u8bed\u53e5\u6216\u8005\u629b\u51fa\u9519\u8bef\uff09\uff0c\u518d\u63a5\u7740\u6267\u884c\u51fd\u6570\u4f53\u5185\u540e\u9762\u7684\u8bed\u53e5\u3002\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function f () { return new Promise (( resolve ) => { setTimeout ( resolve , 3000 , 'Hello' ); console . log ( 'A' ); }); } async function asyncF ( value ) { //\u524d\u9762\u7684 `async` \u5173\u952e\u5b57\uff0c\u8868\u660e\u8be5\u51fd\u6570\u5185\u90e8\u6709\u5f02\u6b65\u64cd\u4f5c\u3002 console . log ( 'B' ); await f (). then ( value => console . log ( value )); console . log ( 'C' ); return value ; // return\u8bed\u53e5\u7684\u8fd4\u56de\u503c\uff0c\u4f1a\u6210\u4e3a`then`\u65b9\u6cd5\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u3002 } asyncF ( 'world' ). then ( result => console . log ( result )); \u6267\u884c\u7ed3\u679c\u5982\u4e0b: 1 2 3 4 5 6 7 [ Running ] node \"test.js\" B #\u7acb\u5373\u8f93\u51fa A #\u7acb\u5373\u8f93\u51fa Hello #3\u79d2\u540e\u8f93\u51fa C world [ Done ] exited with code = 0 in 3 .165 seconds async \u51fd\u6570\u7684 await \u547d\u4ee4\u540e\u9762\uff0c\u53ef\u4ee5\u662f Promise \u5bf9\u8c61\u6216\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\uff0c\u4f46\u4f1a\u81ea\u52a8\u8f6c\u6210\u7acb\u5373 resolved \u7684 Promise \u5bf9\u8c61\uff09\u3002 sync \u51fd\u6570\u5185\u90e8\u629b\u51fa\u9519\u8bef\uff0c\u4f1a\u5bfc\u81f4\u8fd4\u56de\u7684 Promise \u5bf9\u8c61\u53d8\u4e3a reject \u72b6\u6001\u3002\u629b\u51fa\u7684\u9519\u8bef\u5bf9\u8c61\u4f1a\u88ab catch \u65b9\u6cd5\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5230\u3002\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a 1 2 3 4 5 6 7 8 async function f () { throw new Error ( '\u53d1\u751f\u5f02\u5e38' ); } f (). then ( result => console . log ( `resolve result: ${ result } ` ), error => console . log ( error ) ); \u6267\u884c\u7ed3\u679c\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [ Running ] node \"test.js\" Error: \u53d1\u751f\u5f02\u5e38 at f ( /Users/lixl.cn/nodework/blog/test.js:4:9 ) at Object.<anonymous> ( /Users/lixl.cn/nodework/blog/test.js:7:1 ) at Module._compile ( internal/modules/cjs/loader.js:701:30 ) at Object.Module._extensions..js ( internal/modules/cjs/loader.js:712:10 ) at Module.load ( internal/modules/cjs/loader.js:600:32 ) at tryModuleLoad ( internal/modules/cjs/loader.js:539:12 ) at Function.Module._load ( internal/modules/cjs/loader.js:531:3 ) at Function.Module.runMain ( internal/modules/cjs/loader.js:754:12 ) at startup ( internal/bootstrap/node.js:283:19 ) at bootstrapNodeJSCore ( internal/bootstrap/node.js:622:3 ) [ Done ] exited with code = 0 in 0 .153 seconds \u4e03\u3001\u57fa\u4e8eESLint\u4fdd\u969c\u8d28\u91cf \u00b6 JavaScript \u662f\u4e00\u4e2a\u52a8\u6001\u7684\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u5728\u5f00\u53d1\u4e2d\u6bd4\u8f83\u5bb9\u6613\u51fa\u9519\uff0c\u4e00\u822c\u4f1a\u501f\u52a9 Lint \u5de5\u5177\u6765\u4fdd\u969c\u8d28\u91cf\u3002 ESLint \u662f\u65b0\u4e00\u4ee3\u5f00\u6e90 JavaScript \u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u4f7f\u7528 Node.js \u7f16\u5199\uff0c\u5e38\u7528\u4e8e\u5bfb\u627e\u6709\u95ee\u9898\u7684\u6a21\u5f0f\u6216\u8005\u4ee3\u7801\uff0c\u5e76\u4e14\u4e0d\u4f9d\u8d56\u4e8e\u5177\u4f53\u7684\u7f16\u7801\u98ce\u683c\u3002 1 2 3 4 5 6 7 8 9 10 11 # \u5168\u5c40\u5b89\u88c5 ESLint npm install -g eslint # \u8fdb\u5165\u9879\u76ee cd ~/NodeWork/NodeDemo # \u521d\u59cb\u5316 package.json npm init -f # \u521d\u59cb\u5316 ESLint \u914d\u7f6e eslint --init \u901a\u8fc7 Lint \u5de5\u5177\u53ef\u4ee5\u8ba9\u6211\u4eec\uff1a \u907f\u514d\u4f4e\u7ea7bug\uff0c\u627e\u51fa\u53ef\u80fd\u53d1\u751f\u7684\u8bed\u6cd5\u9519\u8bef \u63d0\u793a\u5220\u9664\u591a\u4f59\u7684\u4ee3\u7801 \u786e\u4fdd\u4ee3\u7801\u9075\u5faa\u6700\u4f73\u5b9e\u8df5 (\u53ef\u53c2\u8003 airbnb style \u3001 javascript standard ) \u7edf\u4e00\u56e2\u961f\u7684\u4ee3\u7801\u98ce\u683c \u9879\u76ee\u521d\u59cb\u5316\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u5f00\u59cb\u5728 ESLint \u7684\u63d0\u793a\u4e0b\uff0c\u9ad8\u8d28\u91cf\u7f16\u5199\u4ee3\u7801\u4e86\u3002 \u516b\u3001\u53c2\u8003 \u00b6 Node\u5b98\u65b9\u6587\u6863\uff1a https://nodejs.org/zh-cn/docs/ express\u5b98\u7f51\uff1a http://www.expressjs.com.cn/ ESLint\u5b98\u65b9\u6307\u5357\uff1a https://cn.eslint.org/docs/user-guide/getting-started \u6df1\u5165\u6d45\u51faNode.js\uff1a https://book.douban.com/subject/25768396/ ECMAScript 6 \u5165\u95e8\uff1a http://es6.ruanyifeng.com/","title":"Node.js\u5fc5\u77e5\u5fc5\u4f1a\uff08\u5b89\u88c5\u914d\u7f6e\u3001\u5e94\u7528\u5b9e\u4f8b\u53ca\u540c\u6b65\u63a7\u5236\uff09"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nodejs","text":"Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u73af\u5883\u3002\u4f7f\u7528\u4e86\u4e00\u4e2a\u4e8b\u4ef6\u9a71\u52a8\u3001\u975e\u963b\u585e\u5f0f I/O \u7684\u6a21\u578b\uff0c\u4f7f\u5176\u8f7b\u91cf\u53c8\u9ad8\u6548\u3002\u4e8e2009\u5e74\u7531Google Brain\u56e2\u961f\u7684\u8f6f\u4ef6\u5de5\u7a0b\u5e08Ryan Dahl\u53d1\u8d77\u521b\u5efa\uff0c2015\u5e74\u540e\u6b63\u5f0f\u88ab NodeJS\u57fa\u91d1\u4f1a \u63a5\u7ba1\u3002","title":"\u4e00\u3001Node.js\u7b80\u4ecb"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nodejs_1","text":"Node\u4f7f\u7528\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\uff0c\u5f53web server\u63a5\u6536\u5230\u8bf7\u6c42\uff0c\u5c31\u628a\u5b83\u5173\u95ed\u7136\u540e\u8fdb\u884c\u5904\u7406\uff0c\u7136\u540e\u53bb\u670d\u52a1\u4e0b\u4e00\u4e2aweb\u8bf7\u6c42\u3002 \u5f53\u8fd9\u4e2a\u8bf7\u6c42\u5b8c\u6210\uff0c\u5b83\u88ab\u653e\u56de\u5904\u7406\u961f\u5217\uff0c\u5f53\u5230\u8fbe\u961f\u5217\u5f00\u5934\uff0c\u8fd9\u4e2a\u7ed3\u679c\u88ab\u8fd4\u56de\u7ed9\u7528\u6237\u3002 \u8fd9\u4e2a\u6a21\u578b\u975e\u5e38\u9ad8\u6548\u53ef\u6269\u5c55\u6027\u975e\u5e38\u5f3a\uff0c\u56e0\u4e3a webserver \u4e00\u76f4\u63a5\u53d7\u8bf7\u6c42\u800c\u4e0d\u7b49\u5f85\u4efb\u4f55\u8bfb\u5199\u64cd\u4f5c\u3002\uff08\u8fd9\u4e5f\u79f0\u4e4b\u4e3a\u975e\u963b\u585e\u5f0fIO\u6216\u8005\u4e8b\u4ef6\u9a71\u52a8IO\uff09\u3002\u5728\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4e2d\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u4e3b\u5faa\u73af\u6765\u76d1\u542c\u4e8b\u4ef6\uff0c\u5f53\u68c0\u6d4b\u5230\u4e8b\u4ef6\u65f6\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u3002","title":"NodeJS \u67b6\u6784"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_1","text":"Node.js\u5b98\u7f51\uff1a https://nodejs.org/zh-cn/ \u7248\u672c\u7ba1\u7406\u5de5\u5177nvm\uff1a https://github.com/nvm-sh/nvm \u5305\u7ba1\u7406\u5de5\u5177npm\uff1a https://www.npmjs.com/ npm\u4e2d\u6587\u6587\u6863\uff1a https://www.npmjs.cn/ \u56fd\u5185\u7684 npm \u955c\u50cf\u6e90\uff1a http://cnpmjs.org/ \u4e2d\u6587\u793e\u533a\uff1a https://cnodejs.org/","title":"\u76f8\u5173\u8d44\u6e90"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_2","text":"\u5efa\u8bae\u4f7f\u7528nvm\u6765\u8fdb\u884cnode\u7248\u672c\u7ba1\u7406\uff0c\u5b83\u4f1a\u5b89\u88c5\u76f8\u5e94\u7248\u672c\u7684npm\u3002","title":"\u4e8c\u3001\u5b89\u88c5\u914d\u7f6e"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nvmnodejs","text":"nvm\u5168\u540dnode.js version management\uff0c\u987e\u540d\u601d\u4e49\u662f\u4e00\u4e2anodejs\u7684\u7248\u672c\u7ba1\u7406\u5de5\u5177\u3002\u901a\u8fc7\u5b83\u53ef\u4ee5\u5b89\u88c5\u548c\u5207\u6362\u4e0d\u540c\u7248\u672c\u7684nodejs\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # \u5b89\u88c5nvm\uff08 \u5347\u7ea7nvm\u91cd\u65b0\u6267\u884c\u6b64\u547d\u4ee4\uff09: curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash # \u5217\u51fa\u6240\u6709\u53ef\u4ee5\u5b89\u88c5\u7684node\u7248\u672c\u53f7 nvm ls-remote # \u5b89\u88c5\u6307\u5b9a\u7248\u672c\u53f7\u7684node nvm install v12.4.1 # \u8bbe\u7f6e nodejs \u9ed8\u8ba4\u7248\u672c nvm alias default 12 .4.1 # \u5207\u6362node\u7684\u7248\u672c nvm use v10.15.3 # \u5f53\u524dnode\u7248\u672c nvm current node -v # \u5217\u51fa\u6240\u6709\u5df2\u7ecf\u5b89\u88c5\u7684node\u7248\u672c nvm ls # \u5378\u8f7d\u5df2\u5b89\u88c5\u7684node\u7248\u672c nvm uninstall v6.9.5","title":"\u5b89\u88c5nvm\u53caNode.js"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#npm","text":"npm \u662f\u4e16\u754c\u4e0a\u6700\u5927\u7684\u8f6f\u4ef6\u6ce8\u518c\u4e2d\u5fc3\uff0c\u968f\u540cNodeJS\u4e00\u8d77\u5b89\u88c5\uff0c\u6765\u81ea\u5168\u7403\u5404\u5730\u7684\u5f00\u6e90\u5f00\u53d1\u4eba\u5458\u4f7f\u7528 npm \u6765\u5171\u4eab\u548c\u590d\u7528\u8f6f\u4ef6\u5305\u3002npm \u7531\u4e09\u4e2a\u72ec\u7acb\u7684\u90e8\u5206\u7ec4\u6210\uff1a \u7f51\u7ad9\uff1a https://npmjs.com \u662f\u5f00\u53d1\u8005\u67e5\u627e\u5305\uff08package\uff09\u3001\u8bbe\u7f6e\u53c2\u6570\u4ee5\u53ca\u7ba1\u7406 npm \u4f7f\u7528\u4f53\u9a8c\u7684\u4e3b\u8981\u9014\u5f84\u3002 \u6ce8\u518c\u8868\uff08registry\uff09\uff1a\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u6570\u636e\u5e93\uff0c\u4fdd\u5b58\u4e86\u6bcf\u4e2a\u5305\uff08package\uff09\u7684\u4fe1\u606f\u3002 \u547d\u4ee4\u884c\u5de5\u5177 (CLI)\uff1a\u901a\u8fc7\u547d\u4ee4\u884c\u6216\u7ec8\u7aef\u8fd0\u884c\u3002\u5f00\u53d1\u8005\u901a\u8fc7 CLI \u4e0e npm \u6253\u4ea4\u9053\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 # \u67e5\u770b npm \u7248\u672c npm -v # \u66f4\u65b0npm\u7248\u672c npm install npm@latest -g # \u641c\u7d22\u6a21\u5757 npm search hexo # \u5b89\u88c5\u4f9d\u8d56\u5305 npm install <Module Name> npm install hexo # \u672c\u5730\u5b89\u88c5 hexo npm install hexo -g # \u5168\u5c40\u5b89\u88c5 hexo # \u67e5\u770b\u6240\u6709\u5168\u5c40\u5b89\u88c5\u7684\u6a21\u5757 npm list -g # \u67e5\u770b\u67d0\u4e2a\u6a21\u5757 npm list hexo # \u5378\u8f7d\u6a21\u5757 npm uninstall hexo # \u5378\u8f7d\u540e\uff0c\u67e5\u770b\u5305\u662f\u5426\u8fd8\u5b58\u5728 npm ls # \u66f4\u65b0\u67d0\u4e2a\u6a21\u5757 npm update hexo # \u521b\u5efa\u6a21\u5757 npm init \u6bcf\u4e2a\u7248\u672c\u7684 Node \u90fd\u81ea\u5e26\u4e00\u4e2a\u4e0d\u540c\u7248\u672c\u7684 npm\uff0c\u53ef\u4ee5\u7528 npm -v \u6765\u67e5\u770b npm \u7684\u7248\u672c\u3002\u5168\u5c40\u5b89\u88c5\u7684 npm \u5305\u5e76\u4e0d\u4f1a\u5728\u4e0d\u540c\u7684 Node \u73af\u5883\u4e2d\u5171\u4eab\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002\u5b83\u4eec\u88ab\u653e\u5728\u4e86\u4e0d\u540c\u7248\u672c\u7684\u76ee\u5f55\u4e0b\uff0c\u4f8b\u5982 ~/.nvm/versions/node/${version}/lib/node_modules \u8fd9\u6837\u7684\u76ee\u5f55\u3002 \u8fd0\u884c\u4e0b\u9762\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u4ece\u7279\u5b9a\u7248\u672c\u5bfc\u5165\u4e4b\u524d\u5b89\u88c5\u8fc7\u7684 npm \u5305\u5230\u6211\u4eec\u5c06\u8981\u5b89\u88c5\u7684\u65b0\u7248\u672c Node \u4e2d\uff1a 1 nvm install v12.16.1 --reinstall-packages-from = v10.15.3","title":"npm"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#node","text":"","title":"\u4e09\u3001Node\u7279\u70b9"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#io","text":"\u5728Node\u4e2d\uff0c\u7edd\u5927\u591a\u6570\u7684\u64cd\u4f5c\u90fd\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528\u3002\u5728\u5e95\u5c42\u6784\u5efa\u4e86\u5f88\u591a\u5f02\u6b65I/O\u7684API\uff0c\u4ece\u6587\u4ef6\u8bfb\u53d6\u5230\u7f51\u7edc\u8bf7\u6c42\u7b49\uff0c\u5747\u662f\u5982\u6b64\u3002\u8fd9\u6837\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u5728Node\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8bed\u8a00\u5c42\u9762\u5f88\u81ea\u7136\u5730\u8fdb\u884c\u5e76\u884cI/O\u64cd\u4f5c\u3002\u6bcf\u4e2a\u8c03\u7528\u4e4b\u95f4\u65e0\u987b\u7b49\u5f85\u4e4b\u524d\u7684I/O\u8c03\u7528\u7ed3\u675f\u3002\u5728\u7f16\u7a0b\u6a21\u578b\u4e0a\u53ef\u4ee5\u6781\u5927\u63d0\u5347\u6548\u7387\u3002 \u4e0b\u9762\u7684\u4e24\u4e2a\u6587\u4ef6\u8bfb\u53d6\u4efb\u52a1\u7684\u8017\u65f6\u53d6\u51b3\u4e8e\u6700\u6162\u7684\u90a3\u4e2a\u6587\u4ef6\u8bfb\u53d6\u7684\u8017\u65f6\uff1a 1 2 3 4 5 6 fs . readFile ( '/path1' , function ( err , file ) { console . log ( '\u8bfb\u53d6\u6587\u4ef61\u5b8c\u6210' ); }); fs . readFile ( '/path2' , function ( err , file ) { console . log ( '\u8bfb\u53d6\u6587\u4ef62\u5b8c\u6210' ); }); \u800c\u5bf9\u4e8e\u540c\u6b65I/O\u800c\u8a00\uff0c\u5b83\u4eec\u7684\u8017\u65f6\u662f\u4e24\u4e2a\u4efb\u52a1\u7684\u8017\u65f6\u4e4b\u548c\u3002\u8fd9\u91cc\u5f02\u6b65\u5e26\u6765\u7684\u4f18\u52bf\u662f\u663e\u800c\u6613\u89c1\u7684\u3002","title":"\u5f02\u6b65I/O"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_3","text":"\u5728JavaScript\u4e2d\uff0c\u51fd\u6570\u88ab\u4f5c\u4e3a\u7b2c\u4e00\u7b49\u516c\u6c11\u6765\u5bf9\u5f85\uff0c\u53ef\u4ee5\u5c06\u51fd\u6570\u4f5c\u4e3a\u5bf9\u8c61\u4f20\u9012\u7ed9\u65b9\u6cd5\u4f5c\u4e3a\u5b9e\u53c2\u8fdb\u884c\u8c03\u7528\u3002Node\u5c06\u524d\u7aef\u6d4f\u89c8\u5668\u4e2d\u5e94\u7528\u5e7f\u6cdb\u4e14\u6210\u719f\u7684\u4e8b\u4ef6\u5f15\u5165\u540e\u7aef\uff0c\u914d\u5408\u5f02\u6b65I/O\uff0c\u5c06\u4e8b\u4ef6\u70b9\u66b4\u9732\u7ed9\u4e1a\u52a1\u903b\u8f91\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u7684\u662fAjax\u5f02\u6b65\u63d0\u4ea4\u7684\u670d\u52a1\u5668\u7aef\u5904\u7406\u8fc7\u7a0b\u3002Node\u521b\u5efa\u4e00\u4e2aWeb\u670d\u52a1\u5668\uff0c\u5e76\u4fa6\u542c8080\u7aef\u53e3\u3002\u5bf9\u4e8e\u670d\u52a1\u5668\uff0c\u6211\u4eec\u4e3a\u5176\u7ed1\u5b9a\u4e86request\u4e8b\u4ef6\uff0c\u5bf9\u4e8e\u8bf7\u6c42\u5bf9\u8c61\uff0c\u6211\u4eec\u4e3a\u5176\u7ed1\u5b9a\u4e86data\u4e8b\u4ef6\u548cend\u4e8b\u4ef6\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var http = require ( 'http' ); var quertstring = require ( 'querystring' ); http . createServer ( function ( req , res ){ var postData = '' ; req . setEncoding ( 'utf8' ); // \u76d1\u542c\u8bf7\u6c42\u7684data\u4e8b\u4ef6 req . on ( 'data' , function ( chunk ){ postData += chunk ; }); // \u76d1\u542c\u8bf7\u6c42\u7684end\u4e8b\u4ef6 req . on ( 'end' , function (){ res . end ( postData ); }); }). listen ( 8080 ); console . log ( '\u670d\u52a1\u5668\u542f\u52a8\u5b8c\u6210\uff0c\u76d1\u542c\u7aef\u53e3\uff1a8080' ) \u76f8\u5e94\u5730\uff0c\u6211\u4eec\u5728\u524d\u7aef\u4e3aAjax\u8bf7\u6c42\u7ed1\u5b9a\u4e86success\u4e8b\u4ef6\uff0c\u5728\u53d1\u51fa\u8bf7\u6c42\u540e\uff0c\u53ea\u9700\u5173\u5fc3\u8bf7\u6c42\u6210\u529f\u65f6\u6267\u884c\u76f8\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\u5373\u53ef\uff0c\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 $ . ajax ({ 'url' : '/url' , 'method' : 'POST' , 'data' : {}, 'success' : function ( data ) { // success\u4e8b\u4ef6 } }); \u4e0e\u5176\u4ed6\u7684Web\u540e\u7aef\u7f16\u7a0b\u8bed\u8a00\u76f8\u6bd4\uff0cNode\u9664\u4e86\u5f02\u6b65\u548c\u4e8b\u4ef6\u5916\uff0c\u56de\u8c03\u51fd\u6570\u662f\u4e00\u5927\u7279\u8272\u3002\u7eb5\u89c2\u4e0b\u6765\uff0c\u56de\u8c03\u51fd\u6570\u4e5f\u662f\u6700\u597d\u7684\u63a5\u53d7\u5f02\u6b65\u8c03\u7528\u8fd4\u56de\u6570\u636e\u7684\u65b9\u5f0f\u3002\u4f46\u662f\u8fd9\u79cd\u7f16\u7a0b\u65b9\u5f0f\u5bf9\u4e8e\u5f88\u591a\u4e60\u60ef\u540c\u6b65\u601d\u8def\u7f16\u7a0b\u7684\u4eba\u6765\u8bf4\uff0c\u4e5f\u8bb8\u662f\u5341\u5206\u4e0d\u4e60\u60ef\u7684\u3002\u4ee3\u7801\u7684\u7f16\u5199\u987a\u5e8f\u4e0e\u6267\u884c\u987a\u5e8f\u5e76\u65e0\u5173\u7cfb\uff0c\u8fd9\u5bf9\u4ed6\u4eec\u53ef\u80fd\u9020\u6210\u9605\u8bfb\u4e0a\u7684\u969c\u788d\u3002","title":"\u4e8b\u4ef6\u4e0e\u56de\u8c03\u51fd\u6570"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_4","text":"Node\u4fdd\u6301\u4e86JavaScript\u5728\u6d4f\u89c8\u5668\u4e2d\u5355\u7ebf\u7a0b\u7684\u7279\u70b9\u3002\u800c\u4e14\u5728Node\u4e2d\uff0cJavaScript\u4e0e\u5176\u4f59\u7ebf\u7a0b\u662f\u65e0\u6cd5\u5171\u4eab\u4efb\u4f55\u72b6\u6001\u7684\u3002\u5355\u7ebf\u7a0b\u7684\u6700\u5927\u597d\u5904\u662f\u4e0d\u7528\u50cf\u591a\u7ebf\u7a0b\u7f16\u7a0b\u90a3\u6837\u5904\u5904\u5728\u610f\u72b6\u6001\u7684\u540c\u6b65\u95ee\u9898\uff0c\u8fd9\u91cc\u6ca1\u6709\u6b7b\u9501\u7684\u5b58\u5728\uff0c\u4e5f\u6ca1\u6709\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u4ea4\u6362\u6240\u5e26\u6765\u7684\u6027\u80fd\u4e0a\u7684\u5f00\u9500\u3002 \u540c\u6837\uff0c\u5355\u7ebf\u7a0b\u4e5f\u6709\u5b83\u81ea\u8eab\u7684\u5f31\u70b9\u3002Node\u91c7\u7528\u4e86\u4e0eWeb Workers\u76f8\u540c\u7684\u601d\u8def\u6765\u89e3\u51b3\u5355\u7ebf\u7a0b\u4e2d\u5927\u8ba1\u7b97\u91cf\u7684\u95ee\u9898\uff1a child_process \u3002\u5b50\u8fdb\u7a0b\u7684\u51fa\u73b0\uff0c\u610f\u5473\u7740Node\u53ef\u4ee5\u4ece\u5bb9\u5730\u5e94\u5bf9\u5355\u7ebf\u7a0b\u5728\u5065\u58ee\u6027\u548c\u65e0\u6cd5\u5229\u7528\u591a\u6838CPU\u65b9\u9762\u7684\u95ee\u9898\u3002","title":"\u5355\u7ebf\u7a0b"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#io_1","text":"\u901a\u5e38\uff0c\u8bf4Node\u64c5\u957fI/O\u5bc6\u96c6\u578b\u7684\u5e94\u7528\u573a\u666f\u57fa\u672c\u4e0a\u662f\u6ca1\u4eba\u53cd\u5bf9\u7684\u3002Node\u9762\u5411\u7f51\u7edc\u4e14\u64c5\u957f\u5e76\u884cI/O\uff0c\u80fd\u591f\u6709\u6548\u5730\u7ec4\u7ec7\u8d77\u66f4\u591a\u7684\u786c\u4ef6\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u4f9b\u66f4\u591a\u597d\u7684\u670d\u52a1\u3002I/O\u5bc6\u96c6\u7684\u4f18\u52bf\u4e3b\u8981\u5728\u4e8eNode\u5229\u7528\u4e8b\u4ef6\u5faa\u73af\u7684\u5904\u7406\u80fd\u529b\uff0c\u800c\u4e0d\u662f\u542f\u52a8\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u4e3a\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u670d\u52a1\uff0c\u8d44\u6e90\u5360\u7528\u6781\u5c11\u3002","title":"\u64c5\u957fI/O\u5bc6\u96c6\u578b\u7684\u5e94\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_5","text":"CPU\u5bc6\u96c6\u578b\u5e94\u7528\u7ed9Node\u5e26\u6765\u7684\u6311\u6218\u4e3b\u8981\u662f\uff1a\u7531\u4e8eJavaScript\u5355\u7ebf\u7a0b\u7684\u539f\u56e0\uff0c\u5982\u679c\u6709\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8ba1\u7b97\uff08\u6bd4\u5982\u5927\u5faa\u73af\uff09\uff0c\u5c06\u4f1a\u5bfc\u81f4CPU\u65f6\u95f4\u7247\u4e0d\u80fd\u91ca\u653e\uff0c\u4f7f\u5f97\u540e\u7eedI/O\u65e0\u6cd5\u53d1\u8d77\u3002\u4f46\u662f\u9002\u5f53\u8c03\u6574\u548c\u5206\u89e3\u5927\u578b\u8fd0\u7b97\u4efb\u52a1\u4e3a\u591a\u4e2a\u5c0f\u4efb\u52a1\uff0c\u4f7f\u5f97\u8fd0\u7b97\u80fd\u591f\u9002\u65f6\u91ca\u653e\uff0c\u4e0d\u963b\u585eI/O\u8c03\u7528\u7684\u53d1\u8d77\uff0c\u8fd9\u6837\u65e2\u53ef\u540c\u65f6\u4eab\u53d7\u5230\u5e76\u884c\u5f02\u6b65I/O\u7684\u597d\u5904\uff0c\u53c8\u80fd\u5145\u5206\u5229\u7528CPU\uff0cI/O\u963b\u585e\u9020\u6210\u7684\u6027\u80fd\u6d6a\u8d39\u8fdc\u6bd4CPU\u7684\u5f71\u54cd\u5c0f\u3002","title":"\u6027\u80fd\u4e0d\u4fd7"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nodejs_2","text":"\u66f4\u591a\u6a21\u5757\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u53ef\u67e5\u9605\u5b98\u65b9\u6587\u6863: https://nodejs.org/api/","title":"\u56db\u3001Node.js\u5e38\u7528\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#global","text":"\u6d4f\u89c8\u5668JavaScript\u5f53\u4e2dwindow\u662f\u5168\u5c40\u5bf9\u8c61\uff0cNodeJS\u4e2d\u5168\u5c40\u5bf9\u8c61\u662fglobal\uff0cglobal\u6700\u6839\u672c\u7684\u4f5c\u7528\u662f\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u7684\u5bbf\u4e3b\uff08\u5373\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u662fglobal\u5bf9\u8c61\u7684\u5c5e\u6027\uff09\uff0c\u56e0\u6b64\u5728\u6240\u6709\u6a21\u5757\u4e2d\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u800c\u65e0\u9700\u5305\u542b\u3002","title":"Global\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#process","text":"process\u662f\u5168\u5c40\u53d8\u91cf(\u5373global\u5bf9\u8c61\u7684\u5c5e\u6027)\uff0c\u7528\u4e8e\u63cf\u8ff0\u5f53\u524dNodeJS\u8fdb\u7a0b\u72b6\u6001\u3002","title":"Process\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#console","text":"console\u7528\u4e8e\u63d0\u4f9b\u63a7\u5236\u53f0\u6807\u51c6\u8f93\u51fa\u3002 console.log() \uff1a\u5411\u6807\u51c6\u8f93\u51fa\u6d41\u6253\u5370\u5b57\u7b26\u5e76\u4ee5\u6362\u884c\u7b26\u7ed3\u675f( \u5982\u679c\u53ea\u67091\u4e2a\u53c2\u6570\uff0c\u5219\u8f93\u51fa\u8be5\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff1b\u5982\u679c\u67092\u4e2a\u53c2\u6570\uff0c\u5219\u4ee5\u7c7b\u4f3c\u4e8eC\u8bed\u8a00 printf() \u7684\u683c\u5f0f\u5316\u8f93\u51fa )\u3002 console.error() \uff1a\u4e0e console.log() \u7684\u7528\u6cd5\u76f8\u540c\uff0c\u53ea\u662f\u5411\u6807\u51c6\u9519\u8bef\u6d41\u8fdb\u884c\u8f93\u51fa\u3002 console.trace() \uff1a\u5411\u6807\u51c6\u9519\u8bef\u6d41\u8f93\u51fa\u5f53\u524d\u7684\u8c03\u7528\u6808: 1 2 3 4 5 6 7 8 9 10 11 $ node app.js Trace at Object.<anonymous> ( /workspace/app.js:1:71 ) at Module._compile ( module.js:643:30 ) at Object.Module._extensions..js ( module.js:654:10 ) at Module.load ( module.js:556:32 ) at tryModuleLoad ( module.js:499:12 ) at Function.Module._load ( module.js:491:3 ) at Function.Module.runMain ( module.js:684:10 ) at startup ( bootstrap_node.js:187:16 ) at bootstrap_node.js:608:3","title":"Console\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#util","text":"util\u63d0\u4f9b\u5e38\u7528\u51fd\u6570\u96c6\u5408\uff0c\u7528\u4e8e\u5f25\u8865\u6838\u5fc3JavaScript\u529f\u80fd\u65b9\u9762\u7684\u4e0d\u8db3\u3002","title":"Util\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#events","text":"events \u662fNodeJS\u6700\u91cd\u8981\u7684\u6a21\u5757\uff0c\u56e0\u4e3aNodeJS\u672c\u8eab\u5c31\u662f\u57fa\u4e8e\u4e8b\u4ef6\u5f0f\u7684\u67b6\u6784\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u552f\u4e00\u63a5\u53e3\uff0c\u6240\u4ee5\u582a\u79f0NodeJS\u4e8b\u4ef6\u7f16\u7a0b\u7684\u57fa\u77f3\u3002 events \u6a21\u5757\u4e0d\u4ec5\u7528\u4e8e\u4e0e\u4e0b\u5c42\u7684\u4e8b\u4ef6\u5faa\u73af\u4ea4\u4e92\uff0c\u8fd8\u51e0\u4e4e\u88ab\u6240\u6709\u7684\u6a21\u5757\u6240\u4f9d\u8d56\u3002 events \u6a21\u5757\u53ea\u63d0\u4f9b1\u4e2a events.EventEmitter \u5bf9\u8c61\uff0c EventEmitter \u5bf9\u8c61\u5c01\u88c5\u4e86\u4e8b\u4ef6\u53d1\u5c04\u548c\u4e8b\u4ef6\u76d1\u542c\u5668\u3002\u6bcf\u4e2a EventEmitter \u4e8b\u4ef6\u75311\u4e2a\u4e8b\u4ef6\u540d\u548c\u82e5\u5e72\u53c2\u6570\u7ec4\u6210\uff0c\u4e8b\u4ef6\u540d\u662f1\u4e2a\u5b57\u7b26\u4e32\u3002 EventEmitter \u5bf9\u6bcf\u4e2a\u4e8b\u4ef6\u652f\u6301\u82e5\u5e72\u76d1\u542c\u5668\uff0c\u4e8b\u4ef6\u53d1\u5c04\u65f6\uff0c\u6ce8\u518c\u81f3\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u5668\u4f9d\u6b21\u88ab\u8c03\u7528\uff0c\u4e8b\u4ef6\u53c2\u6570\u5c06\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4f20\u9012\u3002 \u4e0b\u9762\u4f8b\u5b50\u4e2d\uff0c emitter \u4e3a\u4e8b\u4ef6 targetEvent \u6ce8\u518c2\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5668\uff0c\u7136\u540e\u53d1\u5c04 targetEvent \u4e8b\u4ef6\uff0c\u7ed3\u679c2\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5668\u7684\u56de\u8c03\u51fd\u6570\u88ab\u4f9d\u6b21\u5148\u540e\u8c03\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var events = require ( \"events\" ); var emitter = new events . EventEmitter (); emitter . on ( \"targetEvent\" , function ( arg1 , arg2 ) { console . log ( \"listener1\" , arg1 , arg2 ); }); emitter . on ( \"targetEvent\" , function ( arg1 , arg2 ) { console . log ( \"listener2\" , arg1 , arg2 ); }); emitter . emit ( \"targetEvent\" , \"Hank\" , 2018 ); 1 2 3 $ node app.js listener1 Hank 2018 listener2 Hank 2018","title":"Events\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#file-system","text":"fs \u6a21\u5757\u5c01\u88c5\u4e86\u6587\u4ef6\u64cd\u4f5c\uff0c\u63d0\u4f9b\u4e86\u6587\u4ef6\u8bfb\u53d6\u3001\u5199\u5165\u3001\u66f4\u540d\u3001\u5220\u9664\u3001\u904d\u5386\u3001\u94fe\u63a5\u7b49POSIX\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\uff0c\u8be5\u6a21\u5757\u4e2d\u6240\u6709\u64cd\u4f5c\u90fd\u63d0\u4f9b\u4e86\u5f02\u6b65\u548c\u540c\u6b652\u4e2a\u7248\u672c\u3002 fs . readFile ( filename , [ encoding ] , [ callback(err,data) ] ) \u7528\u4e8e\u8bfb\u53d6\u6587\u4ef6\uff0c\u7b2c1\u4e2a\u53c2\u6570 filename \u8868\u793a\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u3002\u7b2c2\u4e2a\u53c2\u6570 encoding \u8868\u793a\u6587\u4ef6\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u7b2c3\u4e2a\u53c2\u6570 callback \u662f\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u63a5\u6536\u6587\u4ef6\u5185\u5bb9\u3002 \u56de\u8c03\u51fd\u6570\u63d0\u4f9b err \u548c data \u4e24\u4e2a\u53c2\u6570\uff0c err \u8868\u793a\u6709\u65e0\u9519\u8bef\u53d1\u751f\uff0c data \u662f\u6587\u4ef6\u5185\u5bb9\u3002\u5982\u679c\u6307\u5b9a encoding \uff0c data \u5c06\u662f1\u4e2a\u89e3\u6790\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u5426\u5219 data \u5c06\u4f1a\u662f\u4ee5 Buffe r`\u5f62\u5f0f\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002","title":"File System\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#http","text":"NodeJS\u6807\u51c6\u5e93\u63d0\u4f9b\u7684 http \u6a21\u5757\u5c01\u88c5\u4e86\u4e00\u4e2a\u9ad8\u6548\u7684HTTP\u670d\u52a1\u5668 http.Server \u548c\u4e00\u4e2a\u7b80\u6613\u7684HTTP\u5ba2\u6237\u7aef http.request \u3002 http \u6a21\u5757\u4e2d\u7684HTTP\u670d\u52a1\u5668\u5bf9\u8c61\uff0c\u6838\u5fc3\u7531NodeJS\u5e95\u5c42\u4f9d\u9760C++\u5b9e\u73b0\uff0c\u63a5\u53e3\u4f7f\u7528JavaScript\u5c01\u88c5\uff0c\u517c\u987e\u4e86\u9ad8\u6027\u80fd\u4e0e\u7b80\u6613\u6027\u3002","title":"Http\u6a21\u5757"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nodejs_3","text":"","title":"\u4e94\u3001\u521b\u5efaNode.js\u5e94\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#nodehttp","text":"\u4f7f\u7528 require \u6307\u4ee4\u6765\u8f7d\u5165 http \u6a21\u5757\uff0c\u5e76\u5c06\u5b9e\u4f8b\u5316\u7684 HTTP \u8d4b\u503c\u7ed9\u53d8\u91cf http\uff0c\u5b9e\u4f8b\u5982\u4e0b: 1 var http = require ( \"http\" ); \u4f7f\u7528 http.createServer() \u65b9\u6cd5\u521b\u5efa\u670d\u52a1\u5668\uff0c\u5e76\u4f7f\u7528 listen \u65b9\u6cd5\u7ed1\u5b9a 8888 \u7aef\u53e3\u3002 \u51fd\u6570\u901a\u8fc7 request, response \u53c2\u6570\u6765\u63a5\u6536\u548c\u54cd\u5e94\u6570\u636e\u3002\u5728\u4f60\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u53eb server.js \u7684\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const http = require ( 'http' ); const hostname = '127.0.0.1' ; const port = 8080 ; const server = http . createServer (( req , res ) => { res . statusCode = 200 ; res . setHeader ( 'Content-Type' , 'text/plain' ); res . end ( 'Hello World' ); }); // \u7ec8\u7aef\u6253\u5370\u5982\u4e0b\u4fe1\u606f server . listen ( port , hostname , () => { console . log ( `Server running at http:// ${ hostname } : ${ port } /` ); }); \u4ee5\u4e0a\u4ee3\u7801\u6211\u4eec\u5b8c\u6210\u4e86\u4e00\u4e2a\u53ef\u4ee5\u5de5\u4f5c\u7684 HTTP \u670d\u52a1\u5668\u3002\u4f7f\u7528 node \u547d\u4ee4\u6267\u884c\u4ee5\u4e0a\u7684\u4ee3\u7801\uff1a 1 2 node server . js Server running at http : //127.0.0.1:8080/ \u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://127.0.0.1:8080/ \uff0c\u4f1a\u770b\u5230\u4e00\u4e2a\u5199\u7740 \"Hello World\"\u7684\u7f51\u9875\u3002","title":"\u4f7f\u7528Node\u521b\u5efahttp\u670d\u52a1\u5668"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#webexpress","text":"express \u662f Node\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u5feb\u901f\u3001\u5f00\u653e\u3001\u6781\u7b80\u4e3b\u4e49 web \u6846\u67b6\uff0c\u73b0\u5728\u662f 4.x \u7248\u672c\u3002\u5b98\u65b9\u63d0\u4f9b\u4e86\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u5668\u5de5\u5177 express-generator \u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f\u9aa8\u67b6\u3002\u5b89\u88c5\uff1a 1 2 npm install express --save npm install express-generator -g \u521b\u5efa\u540d\u79f0\u4e3a ExpressDemo \u7684 Express \u5e94\u7528\u3002\u6b64\u5e94\u7528\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 ExpressDemo \u76ee\u5f55\u4e2d\u521b\u5efa\uff0c\u5e76\u4e14\u8bbe\u7f6e\u4e3a\u4f7f\u7528 Pug \u6a21\u677f\u5f15\u64ce\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 express --view = pug ExpressDemo create : ExpressDemo/ create : ExpressDemo/public/ create : ExpressDemo/public/javascripts/ create : ExpressDemo/public/images/ create : ExpressDemo/public/stylesheets/ create : ExpressDemo/public/stylesheets/style.css create : ExpressDemo/routes/ create : ExpressDemo/routes/index.js create : ExpressDemo/routes/users.js create : ExpressDemo/views/ create : ExpressDemo/views/error.pug create : ExpressDemo/views/index.pug create : ExpressDemo/views/layout.pug create : ExpressDemo/app.js create : ExpressDemo/package.json create : ExpressDemo/bin/ create : ExpressDemo/bin/www change directory: $ cd ExpressDemo install dependencies: $ npm install run the app: $ DEBUG = expressdemo:* npm start \u6309\u63d0\u793a\u5b89\u88c5\u4f9d\u8d56\u5e76\u542f\u52a8\u3002 1 2 3 cd ExpressDemo npm install DEBUG = expressdemo:* npm start # MacOS \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 http://localhost:3000/ \u5c31\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u5e94\u7528\u4e86\u3002 \u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u7684\u5e94\u7528\u4e00\u822c\u90fd\u6709\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 tree -I \"node_modules\" . \u251c\u2500\u2500 app.js \u251c\u2500\u2500 bin \u2502 \u2514\u2500\u2500 www \u251c\u2500\u2500 package-lock.json \u251c\u2500\u2500 package.json \u251c\u2500\u2500 public \u2502 \u251c\u2500\u2500 images \u2502 \u251c\u2500\u2500 javascripts \u2502 \u2514\u2500\u2500 stylesheets \u2502 \u2514\u2500\u2500 style.css \u251c\u2500\u2500 routes \u2502 \u251c\u2500\u2500 index.js \u2502 \u2514\u2500\u2500 users.js \u2514\u2500\u2500 views \u251c\u2500\u2500 error.pug \u251c\u2500\u2500 index.pug \u2514\u2500\u2500 layout.pug 7 directories, 10 files","title":"web\u6846\u67b6express\u7b80\u5355\u4f7f\u7528"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#promise-async","text":"\u5f02\u6b65\u662fNode\u5f97\u5929\u72ec\u539a\u7684\u7279\u70b9\u548c\u4f18\u52bf\uff0c\u4f46\u6211\u4eec\u7ecf\u5e38\u8fd8\u662f\u4f1a\u9700\u8981\u89e3\u51b3\u540c\u6b65\u6267\u884c\u7684\u573a\u666f\u3002\u5982\u65b9\u6cd5A\u6267\u884c\u5b8c\u624d\u53ef\u4ee5\u6267\u884c\u65b9\u6cd5B\u3002\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a 1 2 3 4 setTimeout (() => { console . log ( 'A' ) }, 3000 ) console . log ( 'B' ); \u6267\u884c\u7ed3\u679c\u4e3a: 1 2 3 4 [ Running ] node \"test.js\" B A [ Done ] exited with code = 0 in 3 .12 seconds \u5982\u679c\u60f3\u8981\u8f93\u51fa\u7ed3\u679c\u4e3a A B \uff0c\u53ef\u4ee5\u91c7\u53d6 Promise \u6216 Async \u6765\u5b9e\u73b0\u3002","title":"\u516d\u3001\u5f02\u6b65\u7f16\u7a0b\u65b9\u6848\uff08Promise &amp; Async\uff09"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#promise","text":"Promise \u662f\u5f02\u6b65\u7f16\u7a0b\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u4f20\u7edf\u7684\u89e3\u51b3\u65b9\u6848\u2014\u2014\u56de\u8c03\u51fd\u6570\u548c\u4e8b\u4ef6\u2014\u2014\u66f4\u5408\u7406\u548c\u66f4\u5f3a\u5927\u3002ES6 \u539f\u751f\u63d0\u4f9b\u4e86 Promise \u5bf9\u8c61\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684 API\uff0c\u5404\u79cd\u5f02\u6b65\u64cd\u4f5c\u90fd\u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u3002\u793a\u4f8b\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 var f = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'A' ); resolve (); }, 3000 ); }); f . then (() => { console . log ( 'B' ); }, ( err ) => { console . log ( 'Err' ); }); \u6267\u884c\u7ed3\u679c\uff1a 1 2 3 4 [ Running ] node \"test.js\" A B [ Done ] exited with code = 0 in 3 .123 seconds \u53ef\u4ee5\u628a Promise \u5bf9\u8c61\u6bd4\u55bb\u4e3a\u4e00\u4e2a\u5bb9\u5668\uff0c\u91cc\u9762\u6709\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c Promise \u5bb9\u5668\u53ea\u6709\u5728\u6536\u5230\u4fe1\u53f7\uff08resolve\u6216\u8005reject\uff09\u65f6\u624d\u4f1a\u8c03\u7528then\u65b9\u6cd5\u3002\u901a\u8fc7 Promise.All \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5b9e\u4f8b\u5305\u88c5\uff0c\u751f\u6210\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684Promise\u5b9e\u4f8b\uff0c\u7b49\u6267\u884c\u5b8c\u6240\u6709\u5f02\u6b65\u64cd\u4f5c\u4e4b\u540e\u6267\u884cthen\u65b9\u6cd5\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 const a = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'A' ); resolve (); }, 3000 ); }); const b = new Promise (( resolve , reject ) => { setTimeout (() => { console . log ( 'B' ); resolve (); }, 3000 ); }); Promise . all ([ a , b ]). then (() => { console . log ( 'end' ); }); \u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a 1 2 3 4 5 6 [ Running ] node test.js A B end [ Done ] exited with code = 0 in 3 .122 seconds","title":"\u57fa\u4e8ePromise\u5b9e\u73b0\u540c\u6b65\u63a7\u5236"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#async","text":"ES2017 \u6807\u51c6\u5f15\u5165\u4e86 async \u51fd\u6570\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u3002\u968f\u7740Node.js 8\u7684\u53d1\u5e03\uff0c\u671f\u5f85\u5df2\u4e45\u7684async\u51fd\u6570\u4e5f\u5728\u5176\u4e2d\u9ed8\u8ba4\u5b9e\u73b0\u4e86\u3002async \u51fd\u6570\u7684\u5b9e\u73b0\u539f\u7406\uff0c\u662f\u5c06 Generator \u51fd\u6570\u548c\u81ea\u52a8\u6267\u884c\u5668\uff0c\u5305\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u3002 async \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 then \u65b9\u6cd5\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002\u5f53\u51fd\u6570\u6267\u884c\u7684\u65f6\u5019\uff0c\u4e00\u65e6\u9047\u5230 await \u5c31\u4f1a\u5148\u8fd4\u56de\uff0c\u5fc5\u987b\u7b49\u5230\u5185\u90e8\u6240\u6709 await \u547d\u4ee4\u540e\u9762\u7684 Promise \u5bf9\u8c61\u6267\u884c\u5b8c\uff0c\u624d\u4f1a\u53d1\u751f\u72b6\u6001\u6539\u53d8\uff08\u9664\u975e\u9047\u5230 return \u8bed\u53e5\u6216\u8005\u629b\u51fa\u9519\u8bef\uff09\uff0c\u518d\u63a5\u7740\u6267\u884c\u51fd\u6570\u4f53\u5185\u540e\u9762\u7684\u8bed\u53e5\u3002\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function f () { return new Promise (( resolve ) => { setTimeout ( resolve , 3000 , 'Hello' ); console . log ( 'A' ); }); } async function asyncF ( value ) { //\u524d\u9762\u7684 `async` \u5173\u952e\u5b57\uff0c\u8868\u660e\u8be5\u51fd\u6570\u5185\u90e8\u6709\u5f02\u6b65\u64cd\u4f5c\u3002 console . log ( 'B' ); await f (). then ( value => console . log ( value )); console . log ( 'C' ); return value ; // return\u8bed\u53e5\u7684\u8fd4\u56de\u503c\uff0c\u4f1a\u6210\u4e3a`then`\u65b9\u6cd5\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u3002 } asyncF ( 'world' ). then ( result => console . log ( result )); \u6267\u884c\u7ed3\u679c\u5982\u4e0b: 1 2 3 4 5 6 7 [ Running ] node \"test.js\" B #\u7acb\u5373\u8f93\u51fa A #\u7acb\u5373\u8f93\u51fa Hello #3\u79d2\u540e\u8f93\u51fa C world [ Done ] exited with code = 0 in 3 .165 seconds async \u51fd\u6570\u7684 await \u547d\u4ee4\u540e\u9762\uff0c\u53ef\u4ee5\u662f Promise \u5bf9\u8c61\u6216\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\uff0c\u4f46\u4f1a\u81ea\u52a8\u8f6c\u6210\u7acb\u5373 resolved \u7684 Promise \u5bf9\u8c61\uff09\u3002 sync \u51fd\u6570\u5185\u90e8\u629b\u51fa\u9519\u8bef\uff0c\u4f1a\u5bfc\u81f4\u8fd4\u56de\u7684 Promise \u5bf9\u8c61\u53d8\u4e3a reject \u72b6\u6001\u3002\u629b\u51fa\u7684\u9519\u8bef\u5bf9\u8c61\u4f1a\u88ab catch \u65b9\u6cd5\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5230\u3002\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a 1 2 3 4 5 6 7 8 async function f () { throw new Error ( '\u53d1\u751f\u5f02\u5e38' ); } f (). then ( result => console . log ( `resolve result: ${ result } ` ), error => console . log ( error ) ); \u6267\u884c\u7ed3\u679c\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [ Running ] node \"test.js\" Error: \u53d1\u751f\u5f02\u5e38 at f ( /Users/lixl.cn/nodework/blog/test.js:4:9 ) at Object.<anonymous> ( /Users/lixl.cn/nodework/blog/test.js:7:1 ) at Module._compile ( internal/modules/cjs/loader.js:701:30 ) at Object.Module._extensions..js ( internal/modules/cjs/loader.js:712:10 ) at Module.load ( internal/modules/cjs/loader.js:600:32 ) at tryModuleLoad ( internal/modules/cjs/loader.js:539:12 ) at Function.Module._load ( internal/modules/cjs/loader.js:531:3 ) at Function.Module.runMain ( internal/modules/cjs/loader.js:754:12 ) at startup ( internal/bootstrap/node.js:283:19 ) at bootstrapNodeJSCore ( internal/bootstrap/node.js:622:3 ) [ Done ] exited with code = 0 in 0 .153 seconds","title":"\u57fa\u4e8eAsync\u5b9e\u73b0\u540c\u6b65\u63a7\u5236"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#eslint","text":"JavaScript \u662f\u4e00\u4e2a\u52a8\u6001\u7684\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u5728\u5f00\u53d1\u4e2d\u6bd4\u8f83\u5bb9\u6613\u51fa\u9519\uff0c\u4e00\u822c\u4f1a\u501f\u52a9 Lint \u5de5\u5177\u6765\u4fdd\u969c\u8d28\u91cf\u3002 ESLint \u662f\u65b0\u4e00\u4ee3\u5f00\u6e90 JavaScript \u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u4f7f\u7528 Node.js \u7f16\u5199\uff0c\u5e38\u7528\u4e8e\u5bfb\u627e\u6709\u95ee\u9898\u7684\u6a21\u5f0f\u6216\u8005\u4ee3\u7801\uff0c\u5e76\u4e14\u4e0d\u4f9d\u8d56\u4e8e\u5177\u4f53\u7684\u7f16\u7801\u98ce\u683c\u3002 1 2 3 4 5 6 7 8 9 10 11 # \u5168\u5c40\u5b89\u88c5 ESLint npm install -g eslint # \u8fdb\u5165\u9879\u76ee cd ~/NodeWork/NodeDemo # \u521d\u59cb\u5316 package.json npm init -f # \u521d\u59cb\u5316 ESLint \u914d\u7f6e eslint --init \u901a\u8fc7 Lint \u5de5\u5177\u53ef\u4ee5\u8ba9\u6211\u4eec\uff1a \u907f\u514d\u4f4e\u7ea7bug\uff0c\u627e\u51fa\u53ef\u80fd\u53d1\u751f\u7684\u8bed\u6cd5\u9519\u8bef \u63d0\u793a\u5220\u9664\u591a\u4f59\u7684\u4ee3\u7801 \u786e\u4fdd\u4ee3\u7801\u9075\u5faa\u6700\u4f73\u5b9e\u8df5 (\u53ef\u53c2\u8003 airbnb style \u3001 javascript standard ) \u7edf\u4e00\u56e2\u961f\u7684\u4ee3\u7801\u98ce\u683c \u9879\u76ee\u521d\u59cb\u5316\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u5f00\u59cb\u5728 ESLint \u7684\u63d0\u793a\u4e0b\uff0c\u9ad8\u8d28\u91cf\u7f16\u5199\u4ee3\u7801\u4e86\u3002","title":"\u4e03\u3001\u57fa\u4e8eESLint\u4fdd\u969c\u8d28\u91cf"},{"location":"NodeJS\u4ece\u5165\u95e8\u5230\u5b9e\u6218/Node.js\u5fc5\u77e5\u5fc5\u4f1a.html#_6","text":"Node\u5b98\u65b9\u6587\u6863\uff1a https://nodejs.org/zh-cn/docs/ express\u5b98\u7f51\uff1a http://www.expressjs.com.cn/ ESLint\u5b98\u65b9\u6307\u5357\uff1a https://cn.eslint.org/docs/user-guide/getting-started \u6df1\u5165\u6d45\u51faNode.js\uff1a https://book.douban.com/subject/25768396/ ECMAScript 6 \u5165\u95e8\uff1a http://es6.ruanyifeng.com/","title":"\u516b\u3001\u53c2\u8003"}]}