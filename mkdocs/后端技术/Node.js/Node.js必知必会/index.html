



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="悟尘纪电子书">
      
      
        <link rel="canonical" href="http://mkdocs.lixl.cn/后端技术/Node.js/Node.js必知必会/">
      
      
        <meta name="author" content="悟尘">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="http://d.lixl.cn/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Node.js必知必会（安装配置、应用实例及同步控制）</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CCascadia+Code&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cascadia Code","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
      <link rel="manifest" type="application/manifest+json" href="../../../manifest.webmanifest" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#nodejs" tabindex="0" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://mkdocs.lixl.cn" title="系列博文" aria-label="系列博文" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="http://d.lixl.cn/medias/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              系列博文
            </span>
            <span class="md-header-nav__topic">
              
                Node.js必知必会（安装配置、应用实例及同步控制）
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/lxl80/blog/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    lxl80/blog
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://mkdocs.lixl.cn" title="系列博文" class="md-nav__button md-logo">
      
        <img alt="logo" src="http://d.lixl.cn/medias/logo.png" width="48" height="48">
      
    </a>
    系列博文
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/lxl80/blog/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    lxl80/blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="说明" class="md-nav__link">
      说明
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      产融科技
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        产融科技
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../产融科技/供应链四流的关系/" title="物流、商流、资金流、信息流之间的关系" class="md-nav__link">
      物流、商流、资金流、信息流之间的关系
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      人工智能
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        人工智能
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../人工智能/Tensorflow2.0入门实战/" title="Tensorflow2.0入门实战" class="md-nav__link">
      Tensorflow2.0入门实战
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../人工智能/吴恩达神经网络与深度学习笔记/" title="吴恩达神经网络与深度学习笔记" class="md-nav__link">
      吴恩达神经网络与深度学习笔记
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../人工智能/对象检测算法之YOLO-V3/" title="对象检测算法之YOLO-V3" class="md-nav__link">
      对象检测算法之YOLO-V3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../人工智能/机器学习术语/" title="机器学习常用术语" class="md-nav__link">
      机器学习常用术语
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      区块链
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        区块链
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../区块链/Fabric生产网络动态添加新组织/" title="Fabric生产网络动态添加新组织" class="md-nav__link">
      Fabric生产网络动态添加新组织
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      后端技术
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        后端技术
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1" checked>
    
    <label class="md-nav__link" for="nav-5-1">
      Node.js
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Node.js
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Electron构建跨平台应用/" title="Electron构建跨平台应用" class="md-nav__link">
      Electron构建跨平台应用
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Node.js必知必会（安装配置、应用实例及同步控制）
      </label>
    
    <a href="./" title="Node.js必知必会（安装配置、应用实例及同步控制）" class="md-nav__link md-nav__link--active">
      Node.js必知必会（安装配置、应用实例及同步控制）
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    一、Node.js简介
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    NodeJS 架构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    相关资源
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    二、安装配置
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nvmnodejs" class="md-nav__link">
    安装nvm及Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm" class="md-nav__link">
    npm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node" class="md-nav__link">
    三、Node特点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    异步I/O
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    事件与回调函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    单线程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    擅长I/O密集型的应用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    性能不俗
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs_2" class="md-nav__link">
    四、Node.js常用模块
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global" class="md-nav__link">
    Global模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    Process模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console" class="md-nav__link">
    Console模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#util" class="md-nav__link">
    Util模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-system" class="md-nav__link">
    File System模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    Http模块
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs_3" class="md-nav__link">
    五、创建Node.js应用
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodehttp" class="md-nav__link">
    使用Node创建http服务器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webexpress" class="md-nav__link">
    web框架express简单使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#promise-async" class="md-nav__link">
    六、异步编程方案（Promise &amp; Async）
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promise" class="md-nav__link">
    基于Promise实现同步控制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async" class="md-nav__link">
    基于Async实现同步控制
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eslint" class="md-nav__link">
    七、基于ESLint保障质量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    八、参考
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      工具
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        工具
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/Typora常用快捷键/" title="Typora常用快捷键（翻译）" class="md-nav__link">
      Typora常用快捷键（翻译）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/VSCode-aliyun-oss-paste-image 插件安装使用指南/" title="VSCode-aliyun-oss-paste-image 插件安装使用指南" class="md-nav__link">
      VSCode-aliyun-oss-paste-image 插件安装使用指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/VSCode常用快捷键Mac版/" title="VSCode常用快捷键Mac版" class="md-nav__link">
      VSCode常用快捷键Mac版
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/idea常用快捷键Mac版/" title="idea常用快捷键Mac版" class="md-nav__link">
      idea常用快捷键Mac版
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      DevOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/DevOps/Docker常用命令与操作详解/" title="Docker常用命令与操作详解" class="md-nav__link">
      Docker常用命令与操作详解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/DevOps/Git知识点整理/" title="Git知识点整理" class="md-nav__link">
      Git知识点整理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/DevOps/利用AutoSSH建立隧道实现内网穿透/" title="利用AutoSSH建立SSH隧道，实现内网穿透" class="md-nav__link">
      利用AutoSSH建立SSH隧道，实现内网穿透
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/DevOps/常用Bash命令收集/" title="常用Bash命令收集" class="md-nav__link">
      常用Bash命令收集
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      写作
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        写作
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/写作/hexo-deployer-cos-cdn插件安装使用指南/" title="hexo-deployer-cos-cdn 插件安装使用指南" class="md-nav__link">
      hexo-deployer-cos-cdn 插件安装使用指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/写作/使用Typora+iPicPicGo图床+CDN实现高效Markdown创作/" title="使用Typora + PicGo 图床 + jsDelivr CDN实现高效 Markdown 创作" class="md-nav__link">
      使用Typora + PicGo 图床 + jsDelivr CDN实现高效 Markdown 创作
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/写作/基于Hexo的matery主题搭建博客并优化/" title="基于Hexo的matery主题搭建博客并深度优化" class="md-nav__link">
      基于Hexo的matery主题搭建博客并深度优化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../工具/写作/基于Jekyll搭建个人博客/" title="基于Pages+Jekyll+Minimal-Mistakes搭建个人博客" class="md-nav__link">
      基于Pages+Jekyll+Minimal-Mistakes搭建个人博客
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      技术管理
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        技术管理
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../技术管理/Google Java编程风格指南/" title="Google Java编程风格指南" class="md-nav__link">
      Google Java编程风格指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../技术管理/云原生（Cloud-Native）应用开发支撑企业数字化转型/" title="云原生（Cloud Native）应用开发，助力企业数字化转型" class="md-nav__link">
      云原生（Cloud Native）应用开发，助力企业数字化转型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../技术管理/跨团队、流程和应用的主动变革支撑企业数字化转型/" title="跨团队、流程和应用的主动变革，支撑企业数字化转型" class="md-nav__link">
      跨团队、流程和应用的主动变革，支撑企业数字化转型
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      软件设计
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        软件设计
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1">
      方法论
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        方法论
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/方法论/DDD领域驱动设计/" title="DDD领域驱动设计" class="md-nav__link">
      DDD领域驱动设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/方法论/软件程序设计原则/" title="软件程序设计原则" class="md-nav__link">
      软件程序设计原则
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      设计模式
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        设计模式
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之中介者模式/" title="Java面向对象设计之中介者模式" class="md-nav__link">
      Java面向对象设计之中介者模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之代理模式/" title="Java面向对象设计之代理模式" class="md-nav__link">
      Java面向对象设计之代理模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之单例模式/" title="Java面向对象设计之单例模式" class="md-nav__link">
      Java面向对象设计之单例模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之命令模式/" title="Java面向对象设计之命令模式" class="md-nav__link">
      Java面向对象设计之命令模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之外观模式/" title="Java面向对象设计之外观模式" class="md-nav__link">
      Java面向对象设计之外观模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之工厂方法模式/" title="Java面向对象设计之工厂方法模式" class="md-nav__link">
      Java面向对象设计之工厂方法模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之建造者模式/" title="Java面向对象设计之建造者模式" class="md-nav__link">
      Java面向对象设计之建造者模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之桥接模式/" title="Java面向对象设计之桥接模式" class="md-nav__link">
      Java面向对象设计之桥接模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之状态模式/" title="Java面向对象设计之状态模式" class="md-nav__link">
      Java面向对象设计之状态模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之策略模式/" title="Java面向对象设计之策略模式" class="md-nav__link">
      Java面向对象设计之策略模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之装饰模式/" title="Java面向对象设计之装饰模式" class="md-nav__link">
      Java面向对象设计之装饰模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之观察者模式/" title="Java面向对象设计之观察者模式" class="md-nav__link">
      Java面向对象设计之观察者模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之责任链模式/" title="Java面向对象设计之责任链模式" class="md-nav__link">
      Java面向对象设计之责任链模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../软件设计/设计模式/Java面向对象设计之适配器模式/" title="Java面向对象设计之适配器模式" class="md-nav__link">
      Java面向对象设计之适配器模式
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    一、Node.js简介
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    NodeJS 架构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    相关资源
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    二、安装配置
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nvmnodejs" class="md-nav__link">
    安装nvm及Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm" class="md-nav__link">
    npm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node" class="md-nav__link">
    三、Node特点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    异步I/O
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    事件与回调函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    单线程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    擅长I/O密集型的应用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    性能不俗
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs_2" class="md-nav__link">
    四、Node.js常用模块
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global" class="md-nav__link">
    Global模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    Process模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console" class="md-nav__link">
    Console模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#util" class="md-nav__link">
    Util模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-system" class="md-nav__link">
    File System模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    Http模块
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs_3" class="md-nav__link">
    五、创建Node.js应用
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodehttp" class="md-nav__link">
    使用Node创建http服务器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webexpress" class="md-nav__link">
    web框架express简单使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#promise-async" class="md-nav__link">
    六、异步编程方案（Promise &amp; Async）
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promise" class="md-nav__link">
    基于Promise实现同步控制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async" class="md-nav__link">
    基于Async实现同步控制
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eslint" class="md-nav__link">
    七、基于ESLint保障质量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    八、参考
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lxl80/blog/blob/master/source/_posts/后端技术/Node.js/Node.js必知必会.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Node.js必知必会（安装配置、应用实例及同步控制）</h1>
                
                <h2 id="nodejs">一、Node.js简介<a class="headerlink" href="#nodejs" title="Permanent link">&para;</a></h2>
<p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。于2009年由Google Brain团队的软件工程师Ryan Dahl发起创建，2015年后正式被<a href="https://foundation.nodejs.org/">NodeJS基金会</a>接管。</p>
<h3 id="nodejs_1">NodeJS 架构<a class="headerlink" href="#nodejs_1" title="Permanent link">&para;</a></h3>
<p><img alt="Node.js架构" src="https://pic.lixl.cn/2019/20200113000457.png/w1280" /></p>
<p>Node使用事件驱动模型，当web server接收到请求，就把它关闭然后进行处理，然后去服务下一个web请求。</p>
<p>当这个请求完成，它被放回处理队列，当到达队列开头，这个结果被返回给用户。</p>
<p>这个模型非常高效可扩展性非常强，因为 webserver 一直接受请求而不等待任何读写操作。（这也称之为非阻塞式IO或者事件驱动IO）。在事件驱动模型中，会生成一个主循环来监听事件，当检测到事件时触发回调函数。</p>
<h3 id="_1">相关资源<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Node.js官网：<a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></li>
<li>版本管理工具nvm：<a href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></li>
<li>包管理工具npm：<a href="https://www.npmjs.com/">https://www.npmjs.com/</a></li>
<li>npm中文文档：<a href="https://www.npmjs.cn/">https://www.npmjs.cn/</a></li>
<li>国内的 npm 镜像源：<a href="http://cnpmjs.org/">http://cnpmjs.org/</a></li>
<li>中文社区：<a href="https://cnodejs.org/">https://cnodejs.org/</a></li>
</ul>
<h2 id="_2">二、安装配置<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>建议使用nvm来进行node版本管理，它会安装相应版本的npm。</p>
<h3 id="nvmnodejs">安装nvm及Node.js<a class="headerlink" href="#nvmnodejs" title="Permanent link">&para;</a></h3>
<p>nvm全名node.js version management，顾名思义是一个nodejs的版本管理工具。通过它可以安装和切换不同版本的nodejs。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1"># 安装nvm（ 升级nvm重新执行此命令）:</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh <span class="p">|</span> bash
<span class="c1"># 列出所有可以安装的node版本号</span>
nvm ls-remote
<span class="c1"># 安装指定版本号的node</span>
nvm install v12.4.1
<span class="c1"># 设置 nodejs 默认版本</span>
nvm <span class="nb">alias</span> default <span class="m">12</span>.4.1
<span class="c1"># 切换node的版本</span>
nvm use v10.15.3
<span class="c1"># 当前node版本</span>
nvm current
node -v
<span class="c1"># 列出所有已经安装的node版本</span>
nvm ls
<span class="c1"># 卸载已安装的node版本</span>
nvm uninstall v6.9.5
</code></pre></div>
</td></tr></table>

<h3 id="npm">npm<a class="headerlink" href="#npm" title="Permanent link">&para;</a></h3>
<p>npm 是世界上最大的软件注册中心，随同NodeJS一起安装，来自全球各地的开源开发人员使用 npm 来共享和复用软件包。npm 由三个独立的部分组成：</p>
<ul>
<li>网站： <a href="https://npmjs.com">https://npmjs.com</a> 是开发者查找包（package）、设置参数以及管理 npm 使用体验的主要途径。</li>
<li>注册表（registry）：是一个巨大的数据库，保存了每个包（package）的信息。</li>
<li>命令行工具 (CLI)：通过命令行或终端运行。开发者通过 CLI 与 npm 打交道。</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1"># 查看 npm 版本</span>
npm -v
<span class="c1"># 更新npm版本</span>
npm install npm@latest -g
<span class="c1"># 搜索模块</span>
npm search hexo
<span class="c1"># 安装依赖包</span>
npm install &lt;Module Name&gt;
npm install hexo      <span class="c1"># 本地安装 hexo</span>
npm install hexo -g   <span class="c1"># 全局安装 hexo</span>
<span class="c1"># 查看所有全局安装的模块</span>
npm list -g
<span class="c1"># 查看某个模块</span>
npm list hexo
<span class="c1"># 卸载模块</span>
npm uninstall hexo
<span class="c1"># 卸载后，查看包是否还存在</span>
npm ls
<span class="c1"># 更新某个模块</span>
npm update hexo
<span class="c1"># 创建模块</span>
npm init
</code></pre></div>
</td></tr></table>

<p>每个版本的 Node 都自带一个不同版本的 npm，可以用 npm -v 来查看 npm 的版本。全局安装的 npm 包并不会在不同的 Node 环境中共享，因为这会引起兼容问题。它们被放在了不同版本的目录下，例如 ~/.nvm/versions/node/${version}/lib/node_modules 这样的目录。</p>
<p>运行下面这个命令，可以从特定版本导入之前安装过的 npm 包到我们将要安装的新版本 Node 中：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>nvm install v12.16.1 --reinstall-packages-from<span class="o">=</span>v10.15.3
</code></pre></div>
</td></tr></table>

<h2 id="node">三、Node特点<a class="headerlink" href="#node" title="Permanent link">&para;</a></h2>
<h3 id="io">异步I/O<a class="headerlink" href="#io" title="Permanent link">&para;</a></h3>
<p>在Node中，绝大多数的操作都以异步的方式进行调用。在底层构建了很多异步I/O的API，从文件读取到网络请求等，均是如此。这样的意义在于，在Node中，我们可以从语言层面很自然地进行并行I/O操作。每个调用之间无须等待之前的I/O调用结束。在编程模型上可以极大提升效率。
下面的两个文件读取任务的耗时取决于最慢的那个文件读取的耗时：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/path1&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;读取文件1完成&#39;</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/path2&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;读取文件2完成&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</td></tr></table>

<p>而对于同步I/O而言，它们的耗时是两个任务的耗时之和。这里异步带来的优势是显而易见的。</p>
<h3 id="_3">事件与回调函数<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>在JavaScript中，函数被作为第一等公民来对待，可以将函数作为对象传递给方法作为实参进行调用。Node将前端浏览器中应用广泛且成熟的事件引入后端，配合异步I/O，将事件点暴露给业务逻辑。</p>
<p>下面的例子展示的是Ajax异步提交的服务器端处理过程。Node创建一个Web服务器，并侦听8080端口。对于服务器，我们为其绑定了request事件，对于请求对象，我们为其绑定了data事件和end事件：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">quertstring</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;querystring&#39;</span><span class="p">);</span>

<span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">res</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">postData</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nx">req</span><span class="p">.</span><span class="nx">setEncoding</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">);</span>

  <span class="c1">// 监听请求的data事件</span>
  <span class="nx">req</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">chunk</span><span class="p">){</span>
    <span class="nx">postData</span> <span class="o">+=</span> <span class="nx">chunk</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="c1">// 监听请求的end事件</span>
  <span class="nx">req</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">postData</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;服务器启动完成，监听端口：8080&#39;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<p>相应地，我们在前端为Ajax请求绑定了success事件，在发出请求后，只需关心请求成功时执行相应的业务逻辑即可，相关代码如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="s1">&#39;url&#39;</span><span class="o">:</span> <span class="s1">&#39;/url&#39;</span><span class="p">,</span>
  <span class="s1">&#39;method&#39;</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="s1">&#39;data&#39;</span><span class="o">:</span> <span class="p">{},</span>
  <span class="s1">&#39;success&#39;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success事件</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
</td></tr></table>

<p>与其他的Web后端编程语言相比，Node除了异步和事件外，回调函数是一大特色。纵观下来，回调函数也是最好的接受异步调用返回数据的方式。但是这种编程方式对于很多习惯同步思路编程的人来说，也许是十分不习惯的。代码的编写顺序与执行顺序并无关系，这对他们可能造成阅读上的障碍。</p>
<h3 id="_4">单线程<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>Node保持了JavaScript在浏览器中单线程的特点。而且在Node中，JavaScript与其余线程是无法共享任何状态的。单线程的最大好处是不用像多线程编程那样处处在意状态的同步问题，这里没有死锁的存在，也没有线程上下文交换所带来的性能上的开销。
同样，单线程也有它自身的弱点。Node采用了与Web Workers相同的思路来解决单线程中大计算量的问题：<code class="codehilite"><span class="err">child_process</span></code>。子进程的出现，意味着Node可以从容地应对单线程在健壮性和无法利用多核CPU方面的问题。</p>
<h3 id="io_1">擅长I/O密集型的应用<a class="headerlink" href="#io_1" title="Permanent link">&para;</a></h3>
<p>通常，说Node擅长I/O密集型的应用场景基本上是没人反对的。Node面向网络且擅长并行I/O，能够有效地组织起更多的硬件资源，从而提供更多好的服务。I/O密集的优势主要在于Node利用事件循环的处理能力，而不是启动每一个线程为每一个请求服务，资源占用极少。</p>
<h3 id="_5">性能不俗<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>CPU密集型应用给Node带来的挑战主要是：由于JavaScript单线程的原因，如果有长时间运行的计算（比如大循环），将会导致CPU时间片不能释放，使得后续I/O无法发起。但是适当调整和分解大型运算任务为多个小任务，使得运算能够适时释放，不阻塞I/O调用的发起，这样既可同时享受到并行异步I/O的好处，又能充分利用CPU，I/O阻塞造成的性能浪费远比CPU的影响小。</p>
<p><img alt="计算斐波那契数列的耗时排行" src="https://pic.lixl.cn/2019/20200113165953.png/w1280" /></p>
<h2 id="nodejs_2">四、Node.js常用模块<a class="headerlink" href="#nodejs_2" title="Permanent link">&para;</a></h2>
<p>更多模块详细介绍，可查阅官方文档: <a href="https://nodejs.org/api/">https://nodejs.org/api/</a></p>
<h3 id="global">Global模块<a class="headerlink" href="#global" title="Permanent link">&para;</a></h3>
<p>浏览器JavaScript当中window是全局对象，NodeJS中全局对象是global，global最根本的作用是作为全局变量的宿主（即所有的全局变量都是global对象的属性），因此在所有模块中都可以直接使用而无需包含。</p>
<h3 id="process">Process模块<a class="headerlink" href="#process" title="Permanent link">&para;</a></h3>
<p>process是全局变量(即global对象的属性)，用于描述当前NodeJS进程状态。</p>
<h3 id="console">Console模块<a class="headerlink" href="#console" title="Permanent link">&para;</a></h3>
<p>console用于提供控制台标准输出。</p>
<p><code class="codehilite"><span class="err">console.log()</span></code>：向标准输出流打印字符并以换行符结束(<em>如果只有1个参数，则输出该参数的字符串形式；如果有2个参数，则以类似于C语言<code class="codehilite"><span class="err">printf()</span></code>的格式化输出</em>)。</p>
<p><code class="codehilite"><span class="err">console.error()</span></code>：与<code class="codehilite"><span class="err">console.log()</span></code>的用法相同，只是向标准错误流进行输出。</p>
<p><code class="codehilite"><span class="err">console.trace()</span></code>：向标准错误流输出当前的调用栈:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ node app.js
Trace
    at Object.&lt;anonymous&gt; <span class="o">(</span>/workspace/app.js:1:71<span class="o">)</span>
    at Module._compile <span class="o">(</span>module.js:643:30<span class="o">)</span>
    at Object.Module._extensions..js <span class="o">(</span>module.js:654:10<span class="o">)</span>
    at Module.load <span class="o">(</span>module.js:556:32<span class="o">)</span>
    at tryModuleLoad <span class="o">(</span>module.js:499:12<span class="o">)</span>
    at Function.Module._load <span class="o">(</span>module.js:491:3<span class="o">)</span>
    at Function.Module.runMain <span class="o">(</span>module.js:684:10<span class="o">)</span>
    at startup <span class="o">(</span>bootstrap_node.js:187:16<span class="o">)</span>
    at bootstrap_node.js:608:3
</code></pre></div>
</td></tr></table>

<h3 id="util">Util模块<a class="headerlink" href="#util" title="Permanent link">&para;</a></h3>
<p>util提供常用函数集合，用于弥补核心JavaScript功能方面的不足。</p>
<h3 id="events">Events模块<a class="headerlink" href="#events" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">events</span></code>是NodeJS最重要的模块，因为NodeJS本身就是基于事件式的架构，该模块提供了唯一接口，所以堪称NodeJS事件编程的基石。<code class="codehilite"><span class="err">events</span></code>模块不仅用于与下层的事件循环交互，还几乎被所有的模块所依赖。</p>
<p><code class="codehilite"><span class="err">events</span></code>模块只提供1个<code class="codehilite"><span class="err">events.EventEmitter</span></code>对象，<code class="codehilite"><span class="err">EventEmitter</span></code>对象封装了事件发射和事件监听器。每个<code class="codehilite"><span class="err">EventEmitter</span></code>事件由1个事件名和若干参数组成，事件名是1个字符串。<code class="codehilite"><span class="err">EventEmitter</span></code>对每个事件支持若干监听器，事件发射时，注册至该事件的监听器依次被调用，事件参数将作为回调函数参数传递。</p>
<p>下面例子中，<code class="codehilite"><span class="err">emitter</span></code>为事件<code class="codehilite"><span class="err">targetEvent</span></code>注册2个事件监听器，然后发射<code class="codehilite"><span class="err">targetEvent</span></code>事件，结果2个事件监听器的回调函数被依次先后调用。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">var</span> <span class="nx">events</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;events&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">emitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">events</span><span class="p">.</span><span class="nx">EventEmitter</span><span class="p">();</span>

<span class="nx">emitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;targetEvent&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;listener1&quot;</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">emitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;targetEvent&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;listener2&quot;</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">emitter</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&quot;targetEvent&quot;</span><span class="p">,</span> <span class="s2">&quot;Hank&quot;</span><span class="p">,</span> <span class="mi">2018</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ node app.js
listener1 Hank <span class="m">2018</span>
listener2 Hank <span class="m">2018</span>
</code></pre></div>
</td></tr></table>

<h4>EventEmitter常用API</h4>
<ul>
<li><code class="codehilite"><span class="err">EventEmitter.on(event, listener)</span></code>：为指定事件注册监听器，接受1个字符串事件名event和1个回调函数listener。</li>
<li><code class="codehilite"><span class="n">EventEmitter</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="p">,</span><span class="o">[</span><span class="n">arg1</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="n">arg2</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="n">...</span><span class="o">]</span><span class="p">)</span><span class="w"></span></code>：发射event事件，传递若干可选参数到事件监听器的参数列表。</li>
<li><code class="codehilite"><span class="err">EventEmitter.once(event, listener)</span></code>：为指定事件注册1个单次监听器，即该监听器最多只会触发一次，触发后立刻解除。</li>
<li><code class="codehilite"><span class="err">EventEmitter.removeListener(event, listener)</span></code>：移除指定事件的某个监听器，listener必须是该事件已经注册过的监听器。</li>
<li><code class="codehilite"><span class="n">EventEmitter</span><span class="p">.</span><span class="n">removeAllListeners</span><span class="p">(</span><span class="o">[</span><span class="n">event</span><span class="o">]</span><span class="p">)</span><span class="w"></span></code>：移除所有事件的所有监听器，如果指定event，则移除指定事件的所有监听器。</li>
</ul>
<h3 id="file-system">File System模块<a class="headerlink" href="#file-system" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">fs</span></code>模块封装了文件操作，提供了文件读取、写入、更名、删除、遍历、链接等POSIX文件系统操作，该模块中所有操作都提供了异步和同步2个版本。</p>
<p><code class="codehilite"><span class="n">fs</span><span class="p">.</span><span class="n">readFile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="o">[</span><span class="n">encoding</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="n">callback(err,data)</span><span class="o">]</span><span class="p">)</span><span class="w"></span></code>用于读取文件，第1个参数<code class="codehilite"><span class="err">filename</span></code>表示要读取的文件名。第2个参数<code class="codehilite"><span class="err">encoding</span></code>表示文件的字符编码，第3个参数<code class="codehilite"><span class="err">callback</span></code>是回调函数，用于接收文件内容。</p>
<p>回调函数提供<code class="codehilite"><span class="err">err</span></code>和<code class="codehilite"><span class="err">data</span></code>两个参数，<code class="codehilite"><span class="err">err</span></code>表示有无错误发生，<code class="codehilite"><span class="err">data</span></code>是文件内容。如果指定<code class="codehilite"><span class="err">encoding</span></code>，<code class="codehilite"><span class="err">data</span></code>将是1个解析后的字符串，否则<code class="codehilite"><span class="err">data</span></code>将会是以<code class="codehilite"><span class="err">Buffe</span></code>r`形式表示的二进制数据。</p>
<h4>fs.readFileSync()</h4>
<p>NodeJS提供的<code class="codehilite"><span class="err">fs.readFileSync()</span></code>函数是<code class="codehilite"><span class="err">readFile()</span></code>的同步版本，两者接受的参数相同，读取到的文件内容会以函数返回值形式返回。如果有错误发生<code class="codehilite"><span class="err">fs</span></code>将会抛出异常，需要使用<code class="codehilite"><span class="err">try...catch</span></code>捕捉并处理异常。</p>
<blockquote>
<p>与同步I/O函数不同，NodeJS中异步函数大多没有返回值。</p>
</blockquote>
<h4>fs.open()</h4>
<p><code class="codehilite"><span class="n">fs</span><span class="p">.</span><span class="k">open</span><span class="p">(</span><span class="k">path</span><span class="p">,</span><span class="n">flags</span><span class="p">,</span><span class="o">[</span><span class="n">mode</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="n">callback(err,fd)</span><span class="o">]</span><span class="p">)</span><span class="w"></span></code>封装了POSIX的<code class="codehilite"><span class="err">open()</span></code>函数，与C语言标准库中<code class="codehilite"><span class="err">fopen()</span></code>函数类似。该函数接受2个必选参数，第1个参数<code class="codehilite"><span class="err">path</span></code>为文件路径，第2个参数<code class="codehilite"><span class="err">flags</span></code>代表文件打开模式，第3个参数<code class="codehilite"><span class="err">mode</span></code>用于创建文件时给文件指定权限（<em>默认0666</em>），第4个参数是**回调函数**，函数中需要传递文件描述符<code class="codehilite"><span class="err">fd</span></code>。</p>
<h4>fs.read()</h4>
<p><code class="codehilite"><span class="err">fs.read(fd,buffer,offset,length,position,[callback(err,bytesRead,buffer)])</span></code>封装了POSIX的read函数，相比<code class="codehilite"><span class="err">fs.readFile()</span></code>提供了更底层的接口。</p>
<p><code class="codehilite"><span class="err">fs.read()</span></code>的功能是从指定的文件描述符fd中读取数据并写入<code class="codehilite"><span class="err">buffer</span></code>指向的缓冲区对象。<code class="codehilite"><span class="err">offset</span></code>是<code class="codehilite"><span class="err">buffer</span></code>的写入偏移量。<code class="codehilite"><span class="err">length</span></code>是要从文件中读取的字节数。<code class="codehilite"><span class="err">position</span></code>是文件读取的起始位置，如果<code class="codehilite"><span class="err">position</span></code>的值为<code class="codehilite"><span class="err">null</span></code>，则会从当前文件指针的位置读取。回调函数传递<code class="codehilite"><span class="err">bytesRead</span></code>和<code class="codehilite"><span class="err">buffer</span></code>，分别表示读取的**字节数**和**缓冲区对象**。</p>
<h3 id="http">Http模块<a class="headerlink" href="#http" title="Permanent link">&para;</a></h3>
<p>NodeJS标准库提供的<code class="codehilite"><span class="err">http</span></code>模块封装了一个高效的HTTP服务器<code class="codehilite"><span class="err">http.Server</span></code>和一个简易的HTTP客户端<code class="codehilite"><span class="err">http.request</span></code>。</p>
<p><code class="codehilite"><span class="err">http</span></code>模块中的HTTP服务器对象，核心由NodeJS底层依靠C++实现，接口使用JavaScript封装，兼顾了高性能与简易性。</p>
<h2 id="nodejs_3">五、创建Node.js应用<a class="headerlink" href="#nodejs_3" title="Permanent link">&para;</a></h2>
<h3 id="nodehttp">使用Node创建http服务器<a class="headerlink" href="#nodehttp" title="Permanent link">&para;</a></h3>
<p>使用 require 指令来载入 http 模块，并将实例化的 HTTP 赋值给变量 http，实例如下:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

<p>使用 http.createServer() 方法创建服务器，并使用 listen 方法绑定 8888 端口。 函数通过 request, response 参数来接收和响应数据。在你项目的根目录下创建一个叫 server.js 的文件，并写入以下代码：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">);</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Hello World&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 终端打印如下信息</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="nx">hostname</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Server running at http://</span><span class="si">${</span><span class="nx">hostname</span><span class="si">}</span><span class="sb">:</span><span class="si">${</span><span class="nx">port</span><span class="si">}</span><span class="sb">/`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</td></tr></table>

<p>以上代码我们完成了一个可以工作的 HTTP 服务器。使用 <strong>node</strong> 命令执行以上的代码：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">node</span> <span class="nx">server</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">Server</span> <span class="nx">running</span> <span class="nx">at</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//127.0.0.1:8080/</span>
</code></pre></div>
</td></tr></table>

<p>打开浏览器访问 <code class="codehilite"><span class="c">http://127.0.0.1:8080/</span></code>，会看到一个写着 "Hello World"的网页。</p>
<h3 id="webexpress">web框架express简单使用<a class="headerlink" href="#webexpress" title="Permanent link">&para;</a></h3>
<p>express 是 Node应用最广泛的快速、开放、极简主义 web 框架，现在是 4.x 版本。官方提供了应用程序生成器工具 express-generator 可以快速创建应用程序骨架。安装：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install express --save
npm install express-generator -g
</code></pre></div>
</td></tr></table>

<p>创建名称为 <em>ExpressDemo</em> 的 Express 应用。此应用将在当前目录下的 <em>ExpressDemo</em> 目录中创建，并且设置为使用 <a href="https://pugjs.org/">Pug</a> 模板引擎：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>express --view<span class="o">=</span>pug ExpressDemo

   create : ExpressDemo/
   create : ExpressDemo/public/
   create : ExpressDemo/public/javascripts/
   create : ExpressDemo/public/images/
   create : ExpressDemo/public/stylesheets/
   create : ExpressDemo/public/stylesheets/style.css
   create : ExpressDemo/routes/
   create : ExpressDemo/routes/index.js
   create : ExpressDemo/routes/users.js
   create : ExpressDemo/views/
   create : ExpressDemo/views/error.pug
   create : ExpressDemo/views/index.pug
   create : ExpressDemo/views/layout.pug
   create : ExpressDemo/app.js
   create : ExpressDemo/package.json
   create : ExpressDemo/bin/
   create : ExpressDemo/bin/www

   change directory:
     $ <span class="nb">cd</span> ExpressDemo

   install dependencies:
     $ npm install

   run the app:
     $ <span class="nv">DEBUG</span><span class="o">=</span>expressdemo:* npm start
</code></pre></div>
</td></tr></table>

<p>按提示安装依赖并启动。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nb">cd</span> ExpressDemo
npm install
<span class="nv">DEBUG</span><span class="o">=</span>expressdemo:* npm start  <span class="c1"># MacOS</span>
</code></pre></div>
</td></tr></table>

<p>在浏览器中打开 <code class="codehilite"><span class="c">http://localhost:3000/</span></code> 就可以看到这个应用了。</p>
<p>通过生成器创建的应用一般都有如下目录结构：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>tree -I <span class="s2">&quot;node_modules&quot;</span>
.
├── app.js
├── bin
│   └── www
├── package-lock.json
├── package.json
├── public
│   ├── images
│   ├── javascripts
│   └── stylesheets
│       └── style.css
├── routes
│   ├── index.js
│   └── users.js
└── views
    ├── error.pug
    ├── index.pug
    └── layout.pug

<span class="m">7</span> directories, <span class="m">10</span> files
</code></pre></div>
</td></tr></table>

<h2 id="promise-async">六、异步编程方案（Promise &amp; Async）<a class="headerlink" href="#promise-async" title="Permanent link">&para;</a></h2>
<p>异步是Node得天独厚的特点和优势，但我们经常还是会需要解决同步执行的场景。如方法A执行完才可以执行方法B。如下面这个例子：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="p">},</span> <span class="mi">3000</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

<p>执行结果为:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node <span class="s2">&quot;test.js&quot;</span>
B
A
<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">3</span>.12 seconds
</code></pre></div>
</td></tr></table>

<p>如果想要输出结果为 <code class="codehilite"><span class="err">A B</span></code>，可以采取 <code class="codehilite"><span class="err">Promise</span></code> 或 <code class="codehilite"><span class="err">Async</span></code> 来实现。</p>
<h3 id="promise">基于Promise实现同步控制<a class="headerlink" href="#promise" title="Permanent link">&para;</a></h3>
<p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理和更强大。ES6 原生提供了<code class="codehilite"><span class="err">Promise</span></code>对象，提供统一的 API，各种异步操作都可以用同样的方法进行处理。示例如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span>
        <span class="nx">resolve</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">f</span><span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Err&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</td></tr></table>

<p>执行结果：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node <span class="s2">&quot;test.js&quot;</span>
A
B
<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">3</span>.123 seconds
</code></pre></div>
</td></tr></table>

<p>可以把 <code class="codehilite"><span class="err">Promise</span></code> 对象比喻为一个容器，里面有一个异步操作，<code class="codehilite"><span class="err">Promise</span></code> 容器只有在收到信号（resolve或者reject）时才会调用then方法。通过 <code class="codehilite"><span class="err">Promise.All</span></code>方法将多个Promise对象实例包装，生成并返回一个新的Promise实例，等执行完所有异步操作之后执行then方法：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span>
    <span class="nx">resolve</span><span class="p">();</span>
  <span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span>
    <span class="nx">resolve</span><span class="p">();</span>
  <span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
<span class="p">});</span>


<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</td></tr></table>

<p>执行结果如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node test.js
A
B
end

<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">3</span>.122 seconds
</code></pre></div>
</td></tr></table>

<h4>Promise 扩展信息</h4>
<p><code class="codehilite"><span class="err">Promise</span></code> 构造函数接受一个函数作为参数，该函数两个参数分别是<code class="codehilite"><span class="err">resolve</span></code>和<code class="codehilite"><span class="err">reject</span></code>。它们是两个函数，由 avaScript 引擎提供。<code class="codehilite"><span class="err">resolve</span></code> 函数在异步操作成功时用，其作用是将<code class="codehilite"><span class="err">Promise</span></code>对象的状态从“pending”变为resolved”，并将异步操作的结果作为参数传递出去；<code class="codehilite"><span class="err">reject函数在异步操作失败时调用，其作用是将</span></code>Promise`对象的状态从pending”变为“rejected”，并将异步操作报出的错误作为参传递出去。</p>
<p><code class="codehilite"><span class="err">Promise</span></code>实例生成以后，可以用<code class="codehilite"><span class="err">then</span></code>方法分别指定resolved<code class="codehilite"><span class="err">状态和</span></code>rejected<code class="codehilite"><span class="err">状态的回调函数。</span></code>then<code class="codehilite"><span class="err">方法以接受两个回调函数作为参数，第一个回调函数是</span></code>Promise<code class="codehilite"><span class="err">对的状态变为</span></code>resolved<code class="codehilite"><span class="err">时调用，第二个回调函数（可选提供）是Promise</span></code>对象的状态变为<code class="codehilite"><span class="err">rejected</span></code>时调用。这两个函数都受<code class="codehilite"><span class="err">Promise</span></code>对象传出的值作为参数。</p>
<p><img alt="Promise状态转换图" src="https://pic.lixl.cn/2020/20200308170211.png" /></p>
<p><code class="codehilite"><span class="err">Promise</span></code>对象有以下两个特点。</p>
<ul>
<li>对象的状态不受外界影响。<code class="codehilite"><span class="err">Promise</span></code>对象代表一个异步操作，有三种状态：<code class="codehilite"><span class="err">pending</span></code>（进行中）、<code class="codehilite"><span class="err">fulfilled</span></code>（已成功）和<code class="codehilite"><span class="err">rejected</span></code>（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。</li>
<li>一旦状态改变，就不会再变，任何时候都可以得到这个结果。<code class="codehilite"><span class="err">Promise</span></code>对象的状态改变，只有两种可能：从<code class="codehilite"><span class="err">pending</span></code>变为<code class="codehilite"><span class="err">fulfilled</span></code>和从<code class="codehilite"><span class="err">pending</span></code>变为<code class="codehilite"><span class="err">rejected</span></code>。只要这两种情况发生，状态就会一直保持不再改变,称为 resolved。</li>
</ul>
<p>下面是一个<code class="codehilite"><span class="err">Promise</span></code>对象的简单例子。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;done.&#39;</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span>  <span class="c1">//会立即执行</span>
  <span class="p">});</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`resolve result: </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}),</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`reject error: </span><span class="si">${</span><span class="nx">error</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
</td></tr></table>

<p>上面代码中，<code class="codehilite"><span class="err">f1</span></code>方法返回一个<code class="codehilite"><span class="err">Promise</span></code>实例，表示一段时以后才会发生的结果。过了指定的时间（3000毫秒）以后，Promise<code class="codehilite"><span class="err">实例的状态为</span></code>resolved<code class="codehilite"><span class="err">，就会触发</span></code>then`方法定的回调函数。执行结果如下:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node <span class="s2">&quot;test.js&quot;</span>
A
resolve result: <span class="k">done</span>.
<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">3</span>.175 seconds
</code></pre></div>
</td></tr></table>

<p>另外，<code class="codehilite"><span class="err">resolve</span></code>函数的参数除了正常的值以外，还可能是另一个 Promise 实例。<code class="codehilite"><span class="err">then</span></code>方法是定义在原型对象<code class="codehilite"><span class="err">Promise.prototype</span></code>上的。返回的是一个新的<code class="codehilite"><span class="err">Promise</span></code>实例（注意，不是原来那个<code class="codehilite"><span class="err">Promise</span></code>实例）。因此可以采用链式写法，即<code class="codehilite"><span class="err">then</span></code>方法后面再调用另一个<code class="codehilite"><span class="err">then</span></code>方法。第一个回调函数完成以后，会将返回结果作为参数，传入第二个回调函数。</p>
<blockquote>
<p>Promise也有一些缺点。首先是无法取消，一旦新建它就会立即执行，无法中途取消；其次，如果不设置回调函数，Promise内部抛出的错误，不会反应到外部。第三，当处于pending状态时，无法得知目前进展到哪一个阶段。</p>
</blockquote>
<h3 id="async">基于Async实现同步控制<a class="headerlink" href="#async" title="Permanent link">&para;</a></h3>
<p>ES2017 标准引入了 async 函数，使得异步操作变得更加方便。随着Node.js 8的发布，期待已久的async函数也在其中默认实现了。async 函数的实现原理，是将 Generator 函数和自动执行器，包装在一个函数里。</p>
<p><code class="codehilite"><span class="err">async</span></code>函数返回一个 Promise 对象，可以使用<code class="codehilite"><span class="err">then</span></code>方法添加回调函数。当函数执行的时候，一旦遇到<code class="codehilite"><span class="err">await</span></code>就会先返回，必须等到内部所有<code class="codehilite"><span class="err">await</span></code>命令后面的 Promise 对象执行完，才会发生状态改变（除非遇到<code class="codehilite"><span class="err">return</span></code>语句或者抛出错误），再接着执行函数体内后面的语句。看下面这个例子:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">asyncF</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">//前面的 `async` 关键字，表明该函数内部有异步操作。</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span>
  <span class="nx">await</span> <span class="nx">f</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">value</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">));</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">value</span><span class="p">;</span> <span class="c1">// return语句的返回值，会成为`then`方法回调函数的参数。</span>
<span class="p">}</span>

<span class="nx">asyncF</span><span class="p">(</span><span class="s1">&#39;world&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">));</span>
</code></pre></div>
</td></tr></table>

<p>执行结果如下:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node <span class="s2">&quot;test.js&quot;</span>
B      <span class="c1">#立即输出</span>
A      <span class="c1">#立即输出</span>
Hello  <span class="c1">#3秒后输出</span>
C
world
<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">3</span>.165 seconds
</code></pre></div>
</td></tr></table>

<p><code class="codehilite"><span class="err">async</span></code> 函数的<code class="codehilite"><span class="err">await</span></code>命令后面，可以是 Promise 对象或原始类型的值（数值、字符串和布尔值，但会自动转成立即 resolved 的 Promise 对象）。</p>
<p><code class="codehilite"><span class="err">sync</span></code>函数内部抛出错误，会导致返回的 Promise 对象变为<code class="codehilite"><span class="err">reject</span></code>状态。抛出的错误对象会被<code class="codehilite"><span class="err">catch</span></code>方法回调函数接收到。如下面这个例子：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;发生异常&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span>
<span class="nx">result</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`resolve result: </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">),</span>
<span class="nx">error</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
</td></tr></table>

<p>执行结果：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">[</span>Running<span class="o">]</span> node <span class="s2">&quot;test.js&quot;</span>
Error: 发生异常
 at f <span class="o">(</span>/Users/lixl.cn/nodework/blog/test.js:4:9<span class="o">)</span>
 at Object.&lt;anonymous&gt; <span class="o">(</span>/Users/lixl.cn/nodework/blog/test.js:7:1<span class="o">)</span>
 at Module._compile <span class="o">(</span>internal/modules/cjs/loader.js:701:30<span class="o">)</span>
 at Object.Module._extensions..js <span class="o">(</span>internal/modules/cjs/loader.js:712:10<span class="o">)</span>
 at Module.load <span class="o">(</span>internal/modules/cjs/loader.js:600:32<span class="o">)</span>
 at tryModuleLoad <span class="o">(</span>internal/modules/cjs/loader.js:539:12<span class="o">)</span>
 at Function.Module._load <span class="o">(</span>internal/modules/cjs/loader.js:531:3<span class="o">)</span>
 at Function.Module.runMain <span class="o">(</span>internal/modules/cjs/loader.js:754:12<span class="o">)</span>
 at startup <span class="o">(</span>internal/bootstrap/node.js:283:19<span class="o">)</span>
 at bootstrapNodeJSCore <span class="o">(</span>internal/bootstrap/node.js:622:3<span class="o">)</span>

<span class="o">[</span>Done<span class="o">]</span> exited with <span class="nv">code</span><span class="o">=</span><span class="m">0</span> in <span class="m">0</span>.153 seconds
</code></pre></div>
</td></tr></table>

<h2 id="eslint">七、基于ESLint保障质量<a class="headerlink" href="#eslint" title="Permanent link">&para;</a></h2>
<p>JavaScript 是一个动态的弱类型语言，在开发中比较容易出错，一般会借助 Lint 工具来保障质量。</p>
<p><code class="codehilite"><span class="err">ESLint</span></code> 是新一代开源 JavaScript 代码检查工具，使用 Node.js 编写，常用于寻找有问题的模式或者代码，并且不依赖于具体的编码风格。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1"># 全局安装 ESLint</span>
npm install -g eslint

<span class="c1"># 进入项目</span>
<span class="nb">cd</span> ~/NodeWork/NodeDemo

<span class="c1"># 初始化 package.json</span>
npm init -f

<span class="c1"># 初始化 ESLint 配置</span>
eslint --init
</code></pre></div>
</td></tr></table>

<p>通过 Lint 工具可以让我们：</p>
<ul>
<li>避免低级bug，找出可能发生的语法错误</li>
<li>提示删除多余的代码</li>
<li>确保代码遵循最佳实践 (可参考 <a href="https://github.com/airbnb/javascript">airbnb style</a>、<a href="https://github.com/standard/standard">javascript standard</a>)</li>
<li>统一团队的代码风格</li>
</ul>
<p>项目初始化完毕，可以开始在 <code class="codehilite"><span class="err">ESLint</span></code> 的提示下，高质量编写代码了。</p>
<h2 id="_6">八、参考<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<ul>
<li>Node官方文档：<a href="https://nodejs.org/zh-cn/docs/">https://nodejs.org/zh-cn/docs/</a></li>
<li>express官网：<a href="http://www.expressjs.com.cn/">http://www.expressjs.com.cn/</a></li>
<li>ESLint官方指南： <a href="https://cn.eslint.org/docs/user-guide/getting-started">https://cn.eslint.org/docs/user-guide/getting-started</a></li>
<li>深入浅出Node.js：<a href="https://book.douban.com/subject/25768396/">https://book.douban.com/subject/25768396/</a></li>
<li>ECMAScript 6 入门：<a href="http://es6.ruanyifeng.com/">http://es6.ruanyifeng.com/</a></li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Electron构建跨平台应用/" title="Electron构建跨平台应用" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                Electron构建跨平台应用
              </span>
            </div>
          </a>
        
        
          <a href="../../../工具/Typora常用快捷键/" title="Typora常用快捷键（翻译）" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                Typora常用快捷键（翻译）
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2020 悟尘纪
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/lxl80" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/lxl823" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/in/lxl" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.df00da5d.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>