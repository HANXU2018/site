



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="悟尘纪电子书">
      
      
        <link rel="canonical" href="http://docs.lixl.cn/工具/写作/基于Hexo的matery主题搭建博客并优化/">
      
      
        <meta name="author" content="悟尘">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="https://www.lixl.cn/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>基于Hexo的matery主题搭建博客并深度优化</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CCascadia+Code&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cascadia Code","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#hexo" tabindex="0" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://docs.lixl.cn" title="系列博文" aria-label="系列博文" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="https://www.lixl.cn/medias/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              系列博文
            </span>
            <span class="md-header-nav__topic">
              
                基于Hexo的matery主题搭建博客并深度优化
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/lxl80/docs/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    lxl80/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://docs.lixl.cn" title="系列博文" class="md-nav__button md-logo">
      
        <img alt="logo" src="https://www.lixl.cn/medias/logo.png" width="48" height="48">
      
    </a>
    系列博文
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/lxl80/docs/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    lxl80/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="首页" class="md-nav__link">
      首页
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      区块链
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        区块链
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../区块链/Fabric生产网络动态添加新组织/" title="Fabric入门实战" class="md-nav__link">
      Fabric入门实战
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../styling-your-docs.md" title="BCOS入门实战" class="md-nav__link">
      BCOS入门实战
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      DevOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../DevOps/Docker常用命令与操作详解/" title="Docker入门实战" class="md-nav__link">
      Docker入门实战
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../styling-your-docs.md" title="BCOS入门实战" class="md-nav__link">
      BCOS入门实战
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hexo" class="md-nav__link">
    安装 hexo
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    前提
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    安装
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    升级
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    建站
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    启动
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    目录结构说明
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_configyml" class="md-nav__link">
    _config.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node_modules-packagejson" class="md-nav__link">
    node_modules 和 package.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaffold" class="md-nav__link">
    scaffold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#themes" class="md-nav__link">
    themes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-public-deploy_git" class="md-nav__link">
    source ， public 和 .deploy_git
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    配置主题
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    下载主题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    切换主题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categories" class="md-nav__link">
    新建分类 categories 页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    新建标签 tags 页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#about" class="md-nav__link">
    新建关于我 about 页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#friends" class="md-nav__link">
    新建友情连接 friends 页（可选的）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    代码高亮
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    搜索
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    修改页脚
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    修改社交链接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    修改打赏的二维码图片
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    一键部署
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    文章链接转静态短地址（建议安装）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cnd" class="md-nav__link">
    CND 加速（建议启用）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    文章字数统计插件（可选的）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rss" class="md-nav__link">
    添加 RSS 订阅支持（可选的）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    自定制修改
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    修改主题颜色
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner" class="md-nav__link">
    修改 banner 图和文章特色图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#front-matter" class="md-nav__link">
    文章 Front-matter 介绍
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#front-matter_1" class="md-nav__link">
    Front-matter 选项详解
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    最简示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    最全示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seo" class="md-nav__link">
    SEO 优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    百度优化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    谷歌优化
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    常用命令
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    指令说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    简写指令
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    常见问题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    参照
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lxl80/docs/blob/master/source/_posts/工具/写作/基于Hexo的matery主题搭建博客并优化.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>基于Hexo的matery主题搭建博客并深度优化</h1>
                
                <p>对于有一定技术背景的同学，自己动手搭建博客网站是一个很不错的选择。选择喜欢的主题，按需进行个性化配置，随时在本地用自己喜欢的工具写文章，一键发布到多个博客托管平台，使用自己喜欢的图床/CDN 来加速...</p>
<blockquote>
<p><a href="https://www.lixl.cn">演示站点（悟尘纪）</a> 基于 Hexo 的 hexo-theme-matery 主题构建，部署在腾讯云 COS 中并使用 CDN 进行内容加速，通过 PicGo + 阿里云 OSS 作为图床进行静态资源加速。</p>
</blockquote>
<h2 id="hexo">安装 hexo<a class="headerlink" href="#hexo" title="Permanent link">&para;</a></h2>
<p><a href="https://hexo.io/zh-cn/">Hexo</a> 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h3 id="_1">前提<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p>
<ul>
<li><a href="http://nodejs.org/">Node.js</a> (Node.js 版本需不低于 8.10，建议使用 Node.js 10.0 及以上版本)</li>
<li><a href="http://git-scm.com/">Git</a></li>
</ul>
<h3 id="_2">安装<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install -g hexo-cli
</code></pre></div>
</td></tr></table>

<p>安装以后，可以使用以下两种方式执行 Hexo：</p>
<ol>
<li><code class="codehilite"><span class="err">npx hexo</span></code></li>
<li>将 Hexo 所在的目录下的 <code class="codehilite"><span class="err">node_modules</span></code> 添加到环境变量之中即可直接使用： <code class="codehilite"><span class="err">hexo</span></code></li>
</ol>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nb">echo</span> <span class="s1">&#39;PATH=&quot;$PATH:./node_modules/.bin&quot;&#39;</span> &gt;&gt; ~/.profile
</code></pre></div>
</td></tr></table>

<h3 id="_3">升级<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>后期需要升级的化，进入 blog 目录，先检查更新:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ npm outdated
Package                  Current  Wanted  Latest  Location
hexo                       <span class="m">3</span>.9.0   <span class="m">3</span>.9.0   <span class="m">4</span>.2.0  hexo-site
hexo-deployer-git          <span class="m">1</span>.0.0   <span class="m">1</span>.0.0   <span class="m">2</span>.1.0  hexo-site
hexo-generator-archive     <span class="m">0</span>.1.5   <span class="m">0</span>.1.5   <span class="m">1</span>.0.0  hexo-site
hexo-generator-category    <span class="m">0</span>.1.3   <span class="m">0</span>.1.3   <span class="m">1</span>.0.0  hexo-site
hexo-generator-feed        <span class="m">1</span>.2.2   <span class="m">1</span>.2.2   <span class="m">2</span>.2.0  hexo-site
hexo-generator-index       <span class="m">0</span>.2.1   <span class="m">0</span>.2.1   <span class="m">1</span>.0.0  hexo-site
hexo-generator-tag         <span class="m">0</span>.2.0   <span class="m">0</span>.2.0   <span class="m">1</span>.0.0  hexo-site
hexo-renderer-ejs          <span class="m">0</span>.3.1   <span class="m">0</span>.3.1   <span class="m">1</span>.0.0  hexo-site
hexo-renderer-marked       <span class="m">0</span>.3.2   <span class="m">0</span>.3.2   <span class="m">2</span>.0.0  hexo-site
hexo-renderer-stylus       <span class="m">0</span>.3.3   <span class="m">0</span>.3.3   <span class="m">1</span>.1.0  hexo-site
hexo-server                <span class="m">0</span>.3.3   <span class="m">0</span>.3.3   <span class="m">1</span>.0.0  hexo-site
</code></pre></div>
</td></tr></table>

<p>修改 <code class="codehilite"><span class="err">package.json</span></code> 文件，基于 <code class="codehilite"><span class="err">Latest</span></code> 列内容更新版本号，然后更新并检查版本号：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ npm install --save

<span class="c1"># 检查版本号</span>
$ hexo -v
hexo: <span class="m">4</span>.2.0
hexo-cli: <span class="m">3</span>.1.0
......
</code></pre></div>
</td></tr></table>

<h3 id="_4">建站<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>hexo init &lt;folder&gt;
<span class="nb">cd</span> &lt;folder&gt;
npm install
</code></pre></div>
</td></tr></table>

<h3 id="_5">启动<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>此时，通过 <code class="codehilite"><span class="err">hexo s</span></code> 命令即可在本地启动您的博客站点了。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ hexo s
INFO  Start processing
INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.
</code></pre></div>
</td></tr></table>

<p>接下来将安装主题，配置博客托管平台，实现一键发布并刷新 CDN 缓存。</p>
<h2 id="_6">目录结构说明<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>在执行过<code class="codehilite"><span class="err">Hexo deploy</span></code>命令之后，目录结构新增了<code class="codehilite"><span class="na">.deploy_git</span></code>，<code class="codehilite"><span class="err">public</span></code>，<code class="codehilite"><span class="na">.gitignore</span></code>，如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code> $ tree -L <span class="m">2</span>
.
├── .deploy_git
├── node_modules
├── public
├── scaffolds
│   ├── draft.md
│   ├── page.md
│   └── post.md
├── <span class="nb">source</span>
│   ├── _posts
│   ├── _drafts
├── themes
├── _config.yml
├── db.json
├── package.json
└── package-lock.json
</code></pre></div>
</td></tr></table>

<h3 id="_configyml">_config.yml<a class="headerlink" href="#_configyml" title="Permanent link">&para;</a></h3>
<p>用来配置博客相关的参数，初始化时自动创建。具体参数设置，可参照 <a href="https://hexo.io/zh-cn/docs/configuration">Hexo 配置</a> 文档。</p>
<h3 id="node_modules-packagejson">node_modules 和 package.json<a class="headerlink" href="#node_modules-packagejson" title="Permanent link">&para;</a></h3>
<p>都是在初始化时自动创建。</p>
<p><code class="codehilite"><span class="err">node_modules</span></code>用来存储已安装的各类依赖包。
<code class="codehilite"><span class="err">package.json</span></code>用来查看 Hexo 的版本以及相关依赖包的版本。</p>
<p>Hexo 会默认安装：</p>
<ul>
<li>hexo：主程序</li>
<li>hexo-deployer-git：实现 git 部署方式</li>
<li>hexo-generator-archive：存档页面生成器</li>
<li>hexo-generator-category：分类页面生成器</li>
<li>hexo-generator-index：index 生成器</li>
<li>hexo-generator-tag：标签页面生成器</li>
<li>hexo-renderer-ejs：支持 EJS 渲染</li>
<li>hexo-renderer-marked：Markdown 引擎</li>
<li>hexo-renderer-stylus：支持 stylus 渲染</li>
<li>hexo-server：支持本地预览，默认地址 localhost:4000</li>
</ul>
<p>新安装的依赖包，也会保存在<code class="codehilite"><span class="err">node_module</span></code>文件夹下。</p>
<h3 id="scaffold">scaffold<a class="headerlink" href="#scaffold" title="Permanent link">&para;</a></h3>
<p>模板文件夹，初始化时自动创建。包含<code class="codehilite"><span class="err">page</span></code>，<code class="codehilite"><span class="err">post</span></code>，<code class="codehilite"><span class="err">draft</span></code>三种模板，分别对应 页面、要发布的文章、草稿。</p>
<h3 id="themes">themes<a class="headerlink" href="#themes" title="Permanent link">&para;</a></h3>
<p>主题文件夹，初始化时自动创建。每一个主题，都有一个单独的文件夹。默认主题为 <a href="https://github.com/hexojs/hexo-theme-landscape">landscape</a>。</p>
<h3 id="source-public-deploy_git">source ， public 和 .deploy_git<a class="headerlink" href="#source-public-deploy_git" title="Permanent link">&para;</a></h3>
<ul>
<li>source：资源文件夹。用来存放图片、Markdown 文档（文章、草稿）、各种页面（分类、关于页面等）。</li>
<li>public：将 source 文件夹里的 Markdown 文档，转换成 index.html。再结合主题进行渲染，就是我们最终看到的博客。</li>
<li>.deploy_git：将 public 文件夹的内容提交到 Github 后生成，内容与 public 文件夹基本一致。</li>
</ul>
<p>这三者的关系大致是：source -&gt; public -&gt; .deploy_git</p>
<p>执行<code class="codehilite"><span class="err">hexo generate</span></code>，根据 source，更新 public。
执行<code class="codehilite"><span class="err">hexo deploy</span></code>，根据 public，更新 .deploy_git。</p>
<h2 id="_7">配置主题<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="_8">下载主题<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/blinkfox/hexo-theme-matery">hexo-theme-matery</a> 是一个采用 <code class="codehilite"><span class="err">Material Design</span></code> 和响应式设计的 Hexo 博客主题，点击 <a href="https://www.lixl.cn">这里</a> 可以查看示例效果。点击 <a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master">这里</a> 下载 <code class="codehilite"><span class="err">master</span></code> 分支的最新稳定版的代码，解压缩后，将 <code class="codehilite"><span class="err">hexo-theme-matery</span></code> 的文件夹复制到 Hexo 的 <code class="codehilite"><span class="err">themes</span></code> 文件夹中即可。</p>
<h3 id="_9">切换主题<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>修改 Hexo 根目录下的 <code class="codehilite"><span class="err">_config.yml</span></code> 的 <code class="codehilite"><span class="err">theme</span></code> 的值：<code class="codehilite"><span class="n">theme</span><span class="o">:</span> <span class="n">hexo</span><span class="o">-</span><span class="n">theme</span><span class="o">-</span><span class="n">matery</span></code></p>
<h4><code class="codehilite"><span class="err">_config.yml</span></code> 文件的其它修改建议</h4>
<ul>
<li>请修改 <code class="codehilite"><span class="err">_config.yml</span></code> 的 <code class="codehilite"><span class="err">url</span></code> 的值为你的网站主 <code class="codehilite"><span class="err">URL</span></code>（如：<code class="codehilite"><span class="c">http://xxx.github.io</span></code>）。</li>
<li>建议修改两个 <code class="codehilite"><span class="err">per_page</span></code> 的分页条数值为 <code class="codehilite"><span class="err">6</span></code> 的倍数，如：<code class="codehilite"><span class="err">12</span></code>、<code class="codehilite"><span class="err">18</span></code> 等，这样文章列表在各个屏幕下都能较好的显示。</li>
<li>如果是中文用户，则建议修改 <code class="codehilite"><span class="err">language</span></code> 的值为 <code class="codehilite"><span class="err">zh-CN</span></code>。</li>
</ul>
<h3 id="categories">新建分类 categories 页<a class="headerlink" href="#categories" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">categories</span></code> 页是用来展示所有分类的页面，如果 <code class="codehilite"><span class="err">source</span></code> 目录下还没有 <code class="codehilite"><span class="err">categories/index.md</span></code> 文件，那么就需要新建一个，命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>hexo new page <span class="s2">&quot;categories&quot;</span>
</code></pre></div>
</td></tr></table>

<p>编辑你刚刚新建的页面文件 <code class="codehilite"><span class="err">/source/categories/index.md</span></code>，至少需要以下内容：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">categories</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2018-09-30 17:25:30</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&quot;categories&quot;</span>
<span class="nt">layout</span><span class="p">:</span> <span class="s">&quot;categories&quot;</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<h3 id="tags">新建标签 tags 页<a class="headerlink" href="#tags" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">tags</span></code> 页是用来展示所有标签的页面，如果 <code class="codehilite"><span class="err">source</span></code> 目录下还没有 <code class="codehilite"><span class="err">tags/index.md</span></code> 文件，那么就需要新建一个，命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>hexo new page <span class="s2">&quot;tags&quot;</span>
</code></pre></div>
</td></tr></table>

<p>编辑刚刚新建的页面文件 <code class="codehilite"><span class="err">/source/tags/index.md</span></code>，至少需要以下内容：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2018-09-30 18:23:38</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&quot;tags&quot;</span>
<span class="nt">layout</span><span class="p">:</span> <span class="s">&quot;tags&quot;</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<h3 id="about">新建关于我 about 页<a class="headerlink" href="#about" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">about</span></code> 页是用来展示**关于我和我的博客**信息的页面，如果 <code class="codehilite"><span class="err">source</span></code> 目录下还没有 <code class="codehilite"><span class="err">about/index.md</span></code> 文件，那么就需要新建一个，命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>hexo new page <span class="s2">&quot;about&quot;</span>
</code></pre></div>
</td></tr></table>

<p>编辑刚刚新建的页面文件 <code class="codehilite"><span class="err">/source/about/index.md</span></code>，至少需要以下内容：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">about</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2018-09-30 17:25:30</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&quot;about&quot;</span>
<span class="nt">layout</span><span class="p">:</span> <span class="s">&quot;about&quot;</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<h3 id="friends">新建友情连接 friends 页（可选的）<a class="headerlink" href="#friends" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">friends</span></code> 页是用来展示**友情连接**信息的页面，如果 <code class="codehilite"><span class="err">source</span></code> 目录下还没有 <code class="codehilite"><span class="err">friends/index.md</span></code> 文件，那么就需要新建一个，命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>hexo new page <span class="s2">&quot;friends&quot;</span>
</code></pre></div>
</td></tr></table>

<p>编辑刚刚新建的页面文件 <code class="codehilite"><span class="err">/source/friends/index.md</span></code>，至少需要以下内容：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">friends</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2018-12-12 21:25:30</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&quot;friends&quot;</span>
<span class="nt">layout</span><span class="p">:</span> <span class="s">&quot;friends&quot;</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<p>同时，在 <code class="codehilite"><span class="err">source</span></code> 目录下新建 <code class="codehilite"><span class="err">_data</span></code> 目录，在 <code class="codehilite"><span class="err">_data</span></code> 目录中新建 <code class="codehilite"><span class="err">friends.json</span></code> 文件，文件内容如下所示：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;avatar&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.lixl.cn/medias/avatar.jpg&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;悟尘记&quot;</span><span class="p">,</span>
    <span class="nt">&quot;introduction&quot;</span><span class="p">:</span> <span class="s2">&quot;人生就是一场修行，上善若水，厚德载物。&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.lixl.cn/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;前去参观&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;avatar&quot;</span><span class="p">:</span> <span class="s2">&quot;https://wiki.hyperledger.org/download/attachments/2392069/fabric?version=1&amp;modificationDate=1540928132000&amp;api=v2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fabric&quot;</span><span class="p">,</span>
    <span class="nt">&quot;introduction&quot;</span><span class="p">:</span> <span class="s2">&quot;A Blockchain Platform for the Enterprise&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://hyperledger-fabric.readthedocs.io/en/master/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;前去学习&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;avatar&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.bootcdn.cn/assets/img/maoyun.svg&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;BootCDN&quot;</span><span class="p">,</span>
    <span class="nt">&quot;introduction&quot;</span><span class="p">:</span> <span class="s2">&quot;稳定、快速、免费的前端开源项目 CDN 加速服务。&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.bootcdn.cn/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;前去加速&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>

<h3 id="_10">代码高亮<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了 <a href="https://github.com/ele828/hexo-prism-plugin">hexo-prism-plugin</a> 的 Hexo 插件来做代码高亮，安装命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm i -S hexo-prism-plugin
</code></pre></div>
</td></tr></table>

<p>然后，修改 Hexo 根目录下 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中 <code class="codehilite"><span class="err">highlight.enable</span></code> 的值为 <code class="codehilite"><span class="err">false</span></code>，并新增 <code class="codehilite"><span class="err">prism</span></code> 插件相关的配置，主要配置如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">highlight</span><span class="p">:</span>
  <span class="nt">enable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="nt">prism_plugin</span><span class="p">:</span>
  <span class="nt">mode</span><span class="p">:</span> <span class="s">&quot;preprocess&quot;</span> <span class="c1"># realtime/preprocess</span>
  <span class="nt">theme</span><span class="p">:</span> <span class="s">&quot;tomorrow&quot;</span>
  <span class="nt">line_number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span> <span class="c1"># default false</span>
  <span class="nt">custom_css</span><span class="p">:</span>
</code></pre></div>
</td></tr></table>

<h3 id="_11">搜索<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>本主题中还使用到了 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a> 的 Hexo 插件来做内容搜索，安装命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-generator-search --save
</code></pre></div>
</td></tr></table>

<p>在 Hexo 根目录下的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中，新增以下的配置项：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">search</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">search.xml</span>
  <span class="nt">field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">post</span>
</code></pre></div>
</td></tr></table>

<h3 id="_12">修改页脚<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 <code class="codehilite"><span class="err">/layout/_partial/footer.ejs</span></code> 文件中，包括站点、使用的主题、访问量等。</p>
<h3 id="_13">修改社交链接<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>在主题的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中，默认支持 <code class="codehilite"><span class="err">QQ</span></code>、<code class="codehilite"><span class="err">GitHub</span></code> 和邮箱的配置，可以在主题文件的 <code class="codehilite"><span class="err">/layout/_partial/social-link.ejs</span></code> 文件中，新增、修改需要的社交链接地址，增加链接可参考如下代码：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span>
  <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://github.com/blinkfox&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;tooltipped&quot;</span>
  <span class="na">target</span><span class="o">=</span><span class="s">&quot;_blank&quot;</span>
  <span class="na">data-tooltip</span><span class="o">=</span><span class="s">&quot;访问我的GitHub&quot;</span>
  <span class="na">data-position</span><span class="o">=</span><span class="s">&quot;top&quot;</span>
  <span class="na">data-delay</span><span class="o">=</span><span class="s">&quot;50&quot;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;fa fa-github&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>
</td></tr></table>

<p>其中，社交图标（如：<code class="codehilite"><span class="err">fa-github</span></code>）可以在 <a href="https://fontawesome.com/icons">Font Awesome</a> 中搜索找到。以下是常用社交图标的标识，供参考：</p>
<ul>
<li>Facebook: <code class="codehilite"><span class="err">fa-facebook</span></code></li>
<li>Twitter: <code class="codehilite"><span class="err">fa-twitter</span></code></li>
<li>Google-plus: <code class="codehilite"><span class="err">fa-google-plus</span></code></li>
<li>Linkedin: <code class="codehilite"><span class="err">fa-linkedin</span></code></li>
<li>Tumblr: <code class="codehilite"><span class="err">fa-tumblr</span></code></li>
<li>Medium: <code class="codehilite"><span class="err">fa-medium</span></code></li>
<li>Slack: <code class="codehilite"><span class="err">fa-slack</span></code></li>
<li>新浪微博: <code class="codehilite"><span class="err">fa-weibo</span></code></li>
<li>微信: <code class="codehilite"><span class="err">fa-wechat</span></code></li>
<li>QQ: <code class="codehilite"><span class="err">fa-qq</span></code></li>
</ul>
<h3 id="_14">修改打赏的二维码图片<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>在主题文件的 <code class="codehilite"><span class="err">source/medias/reward</span></code> 文件中，可以替换成你的的微信和支付宝的打赏二维码图片。</p>
<h3 id="_15">一键部署<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>通过 <a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a> 插件可以实现一键将博客同时部署到多个 git 仓库中。如同时发布到 github 及 gitee 提供的 pages 服务。安装：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-deployer-git --save
</code></pre></div>
</td></tr></table>

<p>修改 Hexo 根目录下的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中的如下内容:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1">## Docs: https://hexo.io/docs/deployment.html</span>
<span class="nt">deploy</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
    <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/lxl80/blog.git</span>
    <span class="nt">branch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gh-pages</span>
    <span class="nt">ignore_hidden</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
    <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://gitee.com/lxl80/lxl80.git</span>
    <span class="nt">branch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">master</span>
    <span class="nt">ignore_hidden</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
</td></tr></table>

<blockquote>
<p>也可以如本站一样，采用 <a href="https://github.com/75k/hexo-deployer-cos-enhanced">hexo-deployer-cos-enhanced</a> 插件将静态内容部署到腾讯云对象存储服务中，在 DNS 配置中将境内线路解析到腾讯云 CDN 地址，实现加速。部署完成后会自动刷新被更新文件的 CDN 缓存。</p>
</blockquote>
<p>安装：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-deployer-cos-enhanced --save
</code></pre></div>
</td></tr></table>

<p><code class="codehilite"><span class="err">_config.yml</span></code> 配置如下:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">deploy</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
    <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/lxl80/blog.git</span>
    <span class="nt">branch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gh-pages</span>
    <span class="nt">ignore_hidden</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cos</span>
    <span class="nt">bucket</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lxl80-130****</span>
    <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ap-beijing</span>
    <span class="nt">secretId</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AKIDh9****F8FvL</span>
    <span class="nt">secretKey</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z3IGiur****QZR3PgjXmlVg</span>
    <span class="nt">cdnConfig</span><span class="p">:</span>
      <span class="nt">enable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">cdnUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://static.lixl.cn</span>
      <span class="nt">bucket</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">static-130****</span>
      <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ap-beijing</span>
      <span class="nt">folder</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">static</span>
      <span class="nt">secretId</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AKIDh9****F8FvL</span>
      <span class="nt">secretKey</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z3IGiur****QZR3PgjXmlVg</span>
</code></pre></div>
</td></tr></table>

<p>然后通过 <code class="codehilite"><span class="err">hexo g -d</span></code> 即可实现一键发布，并更新 CDN 缓存。</p>
<h3 id="_16">文章链接转静态短地址（建议安装）<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>如果文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 <code class="codehilite"><span class="err">SEO</span></code>，且 <code class="codehilite"><span class="err">gitment</span></code> 评论对中文链接也不支持。我们可以用 <a href="https://github.com/viko16/hexo-permalink-pinyin">hexo-permalink-pinyin</a> Hexo 插件生成文章时生成中文拼音的永久链接，或者用<a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a> 生成静态文章链接。以下结合 hexo-abbrlink 生成类似 <code class="codehilite"><span class="err">/yyyy/mmdd+随机数.html</span></code> 的文章链接地址。</p>
<p>安装命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-abbrlink --save
</code></pre></div>
</td></tr></table>

<p>在 Hexo 根目录下的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中，修改 <code class="codehilite"><span class="c">permalink:</span></code> ，并在文件末尾新增 <code class="codehilite"><span class="c">abbrlink:</span></code>配置项：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">permalink</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">:year/:month:day:abbrlink.html</span>

<span class="nt">abbrlink</span><span class="p">:</span>
  <span class="nt">alg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">crc16</span> <span class="c1">#算法选项：crc16丨crc32</span>
  <span class="nt">rep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dec</span> <span class="c1">#输出进制：dec为十进制，hex为十六进制</span>
</code></pre></div>
</td></tr></table>

<h3 id="cnd">CND 加速（建议启用）<a class="headerlink" href="#cnd" title="Permanent link">&para;</a></h3>
<p>放在 Github 的资源在国内加载速度比较慢，因此需要使用 CDN 加速来优化网站打开速度，<a href="https://www.jsdelivr.com/">jsDelivr</a> + Github 便是免费且好用的 CDN，非常适合博客网站使用。也可以选择主流云服务商提供的对象存储+CDN 来获得更快速及稳定的访问效果，费用低到几乎可忽略。</p>
<p><strong>用法：</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件路径</span>
</code></pre></div>
</td></tr></table>

<p><strong>例如：</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">https://cdn.jsdelivr.net/gh/lxl80/blog@gh-pages/medias/banner/1.jpg</span>
</code></pre></div>
</td></tr></table>

<p>注意：版本号不是必需的，是为了区分新旧资源，如果不使用版本号，将会直接引用最新资源。</p>
<blockquote>
<p>还可以配合 <a href="https://github.com/Molunerfinn/PicGo">PicGo</a>图床上传工具的**自定义域名前缀**来上传图片，使用极其方便。具体使用方法可参见我的另一篇文章: <a href="/2019/120114500.html">使用 Typora+iPic/PicGo 图床+CDN 实现高效 Markdown 创作</a></p>
</blockquote>
<h3 id="_17">文章字数统计插件（可选的）<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>如果你想要在文章中显示文章字数、阅读时长信息，可以安装 <a href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a>插件。</p>
<p>安装命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm i --save hexo-wordcount
</code></pre></div>
</td></tr></table>

<p>然后只需在本主题下的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中，激活以下配置项即可：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">wordCount</span><span class="p">:</span>
  <span class="nt">enable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span> <span class="c1"># 将这个值设置为 true 即可.</span>
  <span class="nt">postWordCount</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">min2read</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">totalCount</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</td></tr></table>

<h3 id="rss">添加 RSS 订阅支持（可选的）<a class="headerlink" href="#rss" title="Permanent link">&para;</a></h3>
<p>本主题中还使用到了 <a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> 的 Hexo 插件来做 <code class="codehilite"><span class="err">RSS</span></code>，安装命令如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-generator-feed --save
</code></pre></div>
</td></tr></table>

<p>在 Hexo 根目录下的 <code class="codehilite"><span class="err">_config.yml</span></code> 文件中，新增以下的配置项：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">feed</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">atom</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">atom.xml</span>
  <span class="nt">limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
  <span class="nt">hub</span><span class="p">:</span>
  <span class="nt">content</span><span class="p">:</span>
  <span class="nt">content_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">140</span>
  <span class="nt">content_limit_delim</span><span class="p">:</span> <span class="s">&quot;</span><span class="nv"> </span><span class="s">&quot;</span>
  <span class="nt">order_by</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">-date</span>
</code></pre></div>
</td></tr></table>

<p>执行 <code class="codehilite"><span class="err">hexo clean &amp;&amp; hexo g</span></code> 重新生成博客文件，然后在 <code class="codehilite"><span class="err">public</span></code> 文件夹中即可看到 <code class="codehilite"><span class="err">atom.xml</span></code> 文件，说明已经安装成功了。</p>
<h2 id="_18">自定制修改<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<p>在本主题的 <code class="codehilite"><span class="err">_config.yml</span></code> 中可以修改部分自定义信息，有以下几个部分：</p>
<ul>
<li>菜单</li>
<li>我的梦想</li>
<li>首页的音乐播放器和视频播放器配置</li>
<li>是否显示推荐文章名称和按钮配置</li>
<li><code class="codehilite"><span class="err">favicon</span></code> 和 <code class="codehilite"><span class="err">Logo</span></code></li>
<li>个人信息</li>
<li>TOC 目录</li>
<li>文章打赏信息</li>
<li>复制文章内容时追加版权信息</li>
<li>MathJax</li>
<li>文章字数统计、阅读时长</li>
<li>点击页面的'爱心'效果</li>
<li>我的项目</li>
<li>我的技能</li>
<li>我的相册</li>
<li><code class="codehilite"><span class="err">Gitalk</span></code>、<code class="codehilite"><span class="err">Gitment</span></code>、<code class="codehilite"><span class="err">Valine</span></code> 和 <code class="codehilite"><span class="err">disqus</span></code> 评论配置</li>
<li><a href="http://busuanzi.ibruce.info/">不蒜子统计</a>和谷歌分析（<code class="codehilite"><span class="err">Google Analytics</span></code>）</li>
<li>默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 <code class="codehilite"><span class="err">hashcode</span></code> 值取余，来选择展示对应的特色图</li>
</ul>
<p>如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 <code class="codehilite"><span class="err">_config.yml</span></code> 中完成，需要修改源代码才来完成。以下列出了可能有用的地方：</p>
<h3 id="_19">修改主题颜色<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>在主题文件的 <code class="codehilite"><span class="err">/source/css/matery.css</span></code> 文件中，搜索 <code class="codehilite"><span class="na">.bg-color</span></code> 来修改背景颜色：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span>
<span class="p">.</span><span class="nc">bg-color</span> <span class="p">{</span>
  <span class="k">background-image</span><span class="p">:</span> <span class="nb">linear-gradient</span><span class="p">(</span><span class="kc">to</span> <span class="kc">right</span><span class="p">,</span> <span class="mh">#4cbf30</span> <span class="mi">0</span><span class="kt">%</span><span class="p">,</span> <span class="mh">#0f9d58</span> <span class="mi">100</span><span class="kt">%</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">-webkit-keyframes</span> <span class="nt">rainbow</span> <span class="p">{</span>
  <span class="c">/* 动态切换背景颜色. */</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">keyframes</span> <span class="nt">rainbow</span> <span class="p">{</span>
  <span class="c">/* 动态切换背景颜色. */</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<h3 id="banner">修改 banner 图和文章特色图<a class="headerlink" href="#banner" title="Permanent link">&para;</a></h3>
<p>可以直接在 <code class="codehilite"><span class="err">/source/medias/banner</span></code> 文件夹中更换喜欢的 <code class="codehilite"><span class="err">banner</span></code> 图片，主题代码中是每天动态切换一张，只需 <code class="codehilite"><span class="err">7</span></code> 张即可。如果会 <code class="codehilite"><span class="err">JavaScript</span></code> 代码，可以修改成自己喜欢切换逻辑，如：随机切换等，<code class="codehilite"><span class="err">banner</span></code> 切换的代码位置在 <code class="codehilite"><span class="err">/layout/_partial/bg-cover-content.ejs</span></code> 文件的 <code class="codehilite"><span class="nt">&lt;script&gt;&lt;/script&gt;</span></code> 代码中：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.bg-cover&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;background-image&quot;</span><span class="p">,</span> <span class="s2">&quot;url(/medias/banner/&quot;</span> <span class="o">+</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getDay</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.jpg)&quot;</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

<p>在 <code class="codehilite"><span class="err">/source/medias/featureimages</span></code> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 <code class="codehilite"><span class="err">_config.yml</span></code> 做同步修改。</p>
<h2 id="front-matter">文章 Front-matter 介绍<a class="headerlink" href="#front-matter" title="Permanent link">&para;</a></h2>
<h3 id="front-matter_1">Front-matter 选项详解<a class="headerlink" href="#front-matter_1" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">Front-matter</span></code> 选项中的所有内容均为**非必填**的。但仍然建议至少填写 <code class="codehilite"><span class="err">title</span></code> 和 <code class="codehilite"><span class="err">date</span></code> 的值。</p>
<table>
<thead>
<tr>
<th>配置选项</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td><code class="codehilite"><span class="err">Markdown</span></code> 的文件标题</td>
<td>文章标题</td>
</tr>
<tr>
<td>date</td>
<td>文件创建时的日期时间</td>
<td>发布时间，应保证全局唯一</td>
</tr>
<tr>
<td>author</td>
<td>根 <code class="codehilite"><span class="err">_config.yml</span></code> 中的 <code class="codehilite"><span class="err">author</span></code></td>
<td>文章作者</td>
</tr>
<tr>
<td>img</td>
<td><code class="codehilite"><span class="err">featureImages</span></code> 中的某个值</td>
<td>文章特征图</td>
</tr>
<tr>
<td>top</td>
<td><code class="codehilite"><span class="err">true</span></code></td>
<td>文章是否置顶，值为 <code class="codehilite"><span class="err">true</span></code>，则会作为首页推荐文章</td>
</tr>
<tr>
<td>cover</td>
<td><code class="codehilite"><span class="err">false</span></code></td>
<td>是否需要加入到首页轮播封面中</td>
</tr>
<tr>
<td>coverImg</td>
<td>无</td>
<td>该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td>
</tr>
<tr>
<td>password</td>
<td>无</td>
<td>文章阅读密码，该值必须是用 <code class="codehilite"><span class="err">SHA256</span></code> 加密后的密码，防止被他人识破。</td>
</tr>
<tr>
<td>toc</td>
<td><code class="codehilite"><span class="err">true</span></code></td>
<td>是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。</td>
</tr>
<tr>
<td>mathjax</td>
<td><code class="codehilite"><span class="err">false</span></code></td>
<td>是否开启数学公式支持</td>
</tr>
<tr>
<td>summary</td>
<td>无</td>
<td>文章卡片摘要显示的文字，如果无值程序会自动截取文章的部分内容作为摘要</td>
</tr>
<tr>
<td>categories</td>
<td>无</td>
<td>文章分类，建议一篇文章一个分类</td>
</tr>
<tr>
<td>tags</td>
<td>无</td>
<td>文章标签，一篇文章可以多个标签</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意</strong>:</p>
<ol>
<li>如果 <code class="codehilite"><span class="err">img</span></code> 属性不填写的话，文章特色图会根据文章标题的 <code class="codehilite"><span class="err">hashcode</span></code> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图**各有特色**。</li>
<li><code class="codehilite"><span class="err">date</span></code> 的值尽量保证每篇文章是唯一的，因为本主题中 <code class="codehilite"><span class="err">Gitalk</span></code> 和 <code class="codehilite"><span class="err">Gitment</span></code> 识别 <code class="codehilite"><span class="err">id</span></code> 是通过 <code class="codehilite"><span class="err">date</span></code> 的值来作为唯一标识的。</li>
<li>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 <code class="codehilite"><span class="err">_config.yml</span></code> 中激活了配置。有些在线的 SHA256 加密的地址，可供使用：<a href="http://tool.oschina.net/encrypt?type=2">开源中国在线工具</a>、<a href="http://encode.chahuo.com/">chahuo</a>、<a href="http://tool.chinaz.com/tools/hash.aspx">站长工具</a>。</li>
</ol>
</blockquote>
<p>以下为文章的 <code class="codehilite"><span class="err">Front-matter</span></code> 示例。</p>
<h3 id="_20">最简示例<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">基于Hexo的hexo-theme-matery主题搭建博客并优化</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-10-03 14:25:00</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<h3 id="_21">最全示例<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">基于Hexo的hexo-theme-matery主题搭建博客并优化</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-10-03 14:25:00</span>
<span class="nt">author</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">悟尘</span>
<span class="nt">img</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/source/images/xxx.jpg</span>
<span class="nt">top</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">cover</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">coverImg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/images/1.jpg</span>
<span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92</span>
<span class="nt">toc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">mathjax</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</span>
<span class="nt">categories</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">工具</span>
<span class="nt">tags</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">blog</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">hexo</span>
<span class="nn">---</span>
</code></pre></div>
</td></tr></table>

<h2 id="seo">SEO 优化<a class="headerlink" href="#seo" title="Permanent link">&para;</a></h2>
<p>搜索引擎优化，又称为 SEO，即 Search Engine Optimization，它是一种通过分析搜索引擎的排名规律，了解各种搜索引擎怎样进行搜索、怎样抓取互联网页面、怎样确定特定关键词的搜索结果排名的技术。Google 自动收录效果还不错，百度就差得远了（<code class="codehilite"><span class="err">GitHub</span></code>不允许百度的<code class="codehilite"><span class="err">Spider</span></code>爬取<code class="codehilite"><span class="err">GitHub</span></code>上的内容）。</p>
<p>安装 sitemap 插件生成站点地图文件:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>npm install hexo-generator-sitemap --save
npm install hexo-generator-baidu-sitemap --save  <span class="c1">#百度专用</span>
</code></pre></div>
</td></tr></table>

<p>安装后直接执行 <code class="codehilite"><span class="err">hexo cl&amp;&amp;hexo g -d</span></code> 命令，就会在网站根目录生成 <code class="codehilite"><span class="err">sitemap.xml</span></code> 及 <code class="codehilite"><span class="err">baidusitemap.xml</span></code> 文件。</p>
<h3 id="_22">百度优化<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>登录<a href="https://ziyuan.baidu.com/">百度搜索资源平台</a>， 登录成功之后在 用户中心 &rarr; 站点管理 页面中点击<a href="https://ziyuan.baidu.com/site/siteadd">添加网站</a>，按提示操作。</p>
<p><img alt="添加网站" src="https://pic.lixl.cn/2020/20200129213302.png/w1280" /></p>
<blockquote>
<p>提示：由于百度的 spider 是爬取不到 GitHub 的内容的，所以在第三步验证网站的时候，建议选择<code class="codehilite"><span class="err">CNAME验证</span></code>的方式。</p>
</blockquote>
<p>经过以上步骤，百度已经知道有我们网站的存在了，但是百度还不知道我们的网站上有什么内容，所以要向百度推送我们的内容。点击 网站支持 &rarr; 数据引入 &rarr; 链接提交菜单，提交站点地图：
<img alt="提交站点地图" src="https://pic.lixl.cn/2020/20200130153759.png/w1280" /></p>
<p>另外，<code class="codehilite"><span class="err">hexo-theme-matery</span></code>主题已经内置了 <code class="codehilite"><span class="err">自动推送</span></code> 的功能， 检查 <code class="codehilite"><span class="err">themes/hexo-theme-matery/_config.yml</span></code> 文件中如下配置:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1"># 百度搜索资源平台提交链接</span>
<span class="nt">baiduPush</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</td></tr></table>

<p>自动推送的 JS 代码部署在站点的每一个页面源代码中，当页面在每次被浏览时，链接就会被自动推送给百度。</p>
<h3 id="_23">谷歌优化<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>登录 <a href="https://search.google.com/search-console?hl=zh-CN">Google Search Console</a>，点击添加资源，输入自己的域名，按提示操作。</p>
<p><img alt="添加资源" src="https://pic.lixl.cn/2020/20200129214720.png/w1280" /></p>
<blockquote>
<p>提示：需要进行 DNS 验证，进入 DNS 域名解析设置页面，按提示增加 TXT 记录，如下图:
<img alt="DNS验证内容填写示例" src="https://pic.lixl.cn/2020/20200129215358.png/w1280" /></p>
</blockquote>
<p>验证成功后，需要提交站点地图。参照下图提交，然后等待收录。
<img alt="提交站点地图" src="https://pic.lixl.cn/2020/20200129223124.png/w1280" /></p>
<blockquote>
<p>注意：hexo 配置文件中的 url 一定要输入正确的域名，插件是根据 url 生成站点地图的。</p>
</blockquote>
<h2 id="_24">常用命令<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h2>
<h3 id="_25">指令说明<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">hexo server</span></code> #启动本地服务器，用于预览主题。Hexo 会监视文件变动并自动更新，除修改站点配置文件外,无须重启服务器,直接刷新网页即可生效。</p>
<p><code class="codehilite"><span class="err">hexo server -s</span></code> #以静态模式启动</p>
<p><code class="codehilite"><span class="err">hexo server -p 5000</span></code> #更改访问端口 (默认端口为 4000，'ctrl + c'关闭 server)</p>
<p><code class="codehilite"><span class="err">hexo server -i IP地址</span></code> #自定义 IP</p>
<p><code class="codehilite"><span class="err">hexo clean</span></code> #清除缓存 ,网页正常情况下可以忽略此条命令,执行该指令后,会删掉站点根目录下的 public 文件夹</p>
<p><code class="codehilite"><span class="err">hexo g</span></code> #生成静态网页 (执行 \$ <code class="codehilite"><span class="err">hexo g</span></code>后会在站点根目录下生成 public 文件夹, hexo 会将"/blog/source/" 下面的.md 后缀的文件编译为.html 后缀的文件,存放在"/blog/public/ " 路径下)</p>
<p><code class="codehilite"><span class="err">hexo d</span></code> #自动生成网站静态文件，并将本地数据部署到设定的仓库(如 github)</p>
<p><code class="codehilite"><span class="err">hexo init</span></code> 文件夹名称 #初始化 XX 文件夹名称</p>
<p><code class="codehilite"><span class="err">npm update hexo -g</span></code>#升级</p>
<p><code class="codehilite"><span class="err">npm install hexo -g</span></code> #安装</p>
<p><code class="codehilite"><span class="err">node-v</span></code> #查看 node.js 版本号</p>
<p><code class="codehilite"><span class="err">npm -v</span></code> #查看 npm 版本号</p>
<p><code class="codehilite"><span class="err">git --version</span></code> #查看 git 版本号</p>
<p><code class="codehilite"><span class="err">hexo -v</span></code> #查看 hexo 版本号</p>
<h3 id="_26">简写指令<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="err">hexo n &quot;我的第一篇文章&quot;</span></code> 等价于 <code class="codehilite"><span class="err">hexo new &quot;我的第一篇文章&quot;</span></code> 还等价于 <code class="codehilite"><span class="err">hexo new post &quot;我的第一篇文章&quot;</span></code></p>
<p><code class="codehilite"><span class="err">hexo p</span></code> 等价于 <code class="codehilite"><span class="err">hexo publish</span></code></p>
<p><code class="codehilite"><span class="err">hexo g</span></code> 等价于 <code class="codehilite"><span class="err">hexo generate</span></code></p>
<p><code class="codehilite"><span class="err">hexo s</span></code>等价于 <code class="codehilite"><span class="err">hexo server</span></code></p>
<p><code class="codehilite"><span class="err">hexo d</span></code> 等价于 <code class="codehilite"><span class="err">hexo deploy</span></code></p>
<p><code class="codehilite"><span class="err">hexo g -d</span></code>等价于<code class="codehilite"><span class="err">hexo generate --deploy</span></code></p>
<p>注: <code class="codehilite"><span class="err">hexo clean</span></code> 没有 简写, <code class="codehilite"><span class="err">git --version</span></code> 没有简写</p>
<h2 id="_27">常见问题<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h2>
<p><strong>1. 通过<code class="codehilite"><span class="err">hexo g -d</span></code>部署时报<code class="codehilite"><span class="n">Error</span><span class="o">:</span> <span class="n">Spawn</span> <span class="n">failed</span></code>错误:</strong></p>
<blockquote>
<p>这是由于 git 本地记录的提交版本号与 github 上不一致导致的，通过<code class="codehilite"><span class="err">git reset --hard commitCode</span></code>即可解决。</p>
</blockquote>
<ul>
<li>检查本地最近提交记录，获取最后一次提交记录的更新时间及标识，如<code class="codehilite"><span class="err">280a7fdd46fcfd7d34e652aec15523dcd247fac8</span></code></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nb">cd</span> .deploy_git
cat .git/logs/HEAD
</code></pre></div>
</td></tr></table>

<ul>
<li>获取 github pages 服务所关联分支的最近一次提交记录，获取更新时间及标识。地址一般为：<code class="codehilite"><span class="c">https://github.com/用户名/仓库名/commits/分支名</span></code>，如<code class="codehilite"><span class="c">https://github.com/lxl80/blog/commits/gh-pages</span></code></li>
<li>如果发现提交最新的提交时间/标识不一致，通过以下命令即可解决:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>git reset --hard f085038efdf79546c09641d37b2a2429c1ae8e60 <span class="c1">#github上最新的提交标识</span>
</code></pre></div>
</td></tr></table>

<h2 id="_28">参照<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/">hexo 官方文档</a></li>
<li><a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">闪烁之狐</a></li>
<li><a href="https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md">hexo-theme-matery</a></li>
<li><a href="https://blog.sky03.cn/posts/42790.html#toc-heading-1">Hexo 进阶之各种优化</a></li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2020 悟尘纪
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/lxl80" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/lxl823" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/in/lxl" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.df00da5d.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>